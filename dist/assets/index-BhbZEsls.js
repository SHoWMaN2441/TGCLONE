(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function SE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $h={exports:{}},pl={},Gh={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function CE(){if(eg)return ve;eg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=C&&L[C]||L["@@iterator"],typeof L=="function"?L:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,M={};function B(L,$,ue){this.props=L,this.context=$,this.refs=M,this.updater=ue||z}B.prototype.isReactComponent={},B.prototype.setState=function(L,$){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,$,"setState")},B.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=B.prototype;function Q(L,$,ue){this.props=L,this.context=$,this.refs=M,this.updater=ue||z}var ie=Q.prototype=new G;ie.constructor=Q,x(ie,B.prototype),ie.isPureReactComponent=!0;var fe=Array.isArray,Te=Object.prototype.hasOwnProperty,Se={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(L,$,ue){var _e,ye={},ke=null,Ae=null;if($!=null)for(_e in $.ref!==void 0&&(Ae=$.ref),$.key!==void 0&&(ke=""+$.key),$)Te.call($,_e)&&!O.hasOwnProperty(_e)&&(ye[_e]=$[_e]);var Oe=arguments.length-2;if(Oe===1)ye.children=ue;else if(1<Oe){for(var je=Array(Oe),ut=0;ut<Oe;ut++)je[ut]=arguments[ut+2];ye.children=je}if(L&&L.defaultProps)for(_e in Oe=L.defaultProps,Oe)ye[_e]===void 0&&(ye[_e]=Oe[_e]);return{$$typeof:r,type:L,key:ke,ref:Ae,props:ye,_owner:Se.current}}function k(L,$){return{$$typeof:r,type:L.type,key:$,ref:L.ref,props:L.props,_owner:L._owner}}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function D(L){var $={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return $[ue]})}var b=/\/+/g;function R(L,$){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):$.toString(36)}function Ze(L,$,ue,_e,ye){var ke=typeof L;(ke==="undefined"||ke==="boolean")&&(L=null);var Ae=!1;if(L===null)Ae=!0;else switch(ke){case"string":case"number":Ae=!0;break;case"object":switch(L.$$typeof){case r:case e:Ae=!0}}if(Ae)return Ae=L,ye=ye(Ae),L=_e===""?"."+R(Ae,0):_e,fe(ye)?(ue="",L!=null&&(ue=L.replace(b,"$&/")+"/"),Ze(ye,$,ue,"",function(ut){return ut})):ye!=null&&(P(ye)&&(ye=k(ye,ue+(!ye.key||Ae&&Ae.key===ye.key?"":(""+ye.key).replace(b,"$&/")+"/")+L)),$.push(ye)),1;if(Ae=0,_e=_e===""?".":_e+":",fe(L))for(var Oe=0;Oe<L.length;Oe++){ke=L[Oe];var je=_e+R(ke,Oe);Ae+=Ze(ke,$,ue,je,ye)}else if(je=S(L),typeof je=="function")for(L=je.call(L),Oe=0;!(ke=L.next()).done;)ke=ke.value,je=_e+R(ke,Oe++),Ae+=Ze(ke,$,ue,je,ye);else if(ke==="object")throw $=String(L),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ae}function It(L,$,ue){if(L==null)return L;var _e=[],ye=0;return Ze(L,_e,"","",function(ke){return $.call(ue,ke,ye++)}),_e}function Tt(L){if(L._status===-1){var $=L._result;$=$(),$.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=$)}if(L._status===1)return L._result.default;throw L._result}var be={current:null},ee={transition:null},ce={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Se};function re(){throw Error("act(...) is not supported in production builds of React.")}return ve.Children={map:It,forEach:function(L,$,ue){It(L,function(){$.apply(this,arguments)},ue)},count:function(L){var $=0;return It(L,function(){$++}),$},toArray:function(L){return It(L,function($){return $})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},ve.Component=B,ve.Fragment=n,ve.Profiler=o,ve.PureComponent=Q,ve.StrictMode=s,ve.Suspense=g,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,ve.act=re,ve.cloneElement=function(L,$,ue){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var _e=x({},L.props),ye=L.key,ke=L.ref,Ae=L._owner;if($!=null){if($.ref!==void 0&&(ke=$.ref,Ae=Se.current),$.key!==void 0&&(ye=""+$.key),L.type&&L.type.defaultProps)var Oe=L.type.defaultProps;for(je in $)Te.call($,je)&&!O.hasOwnProperty(je)&&(_e[je]=$[je]===void 0&&Oe!==void 0?Oe[je]:$[je])}var je=arguments.length-2;if(je===1)_e.children=ue;else if(1<je){Oe=Array(je);for(var ut=0;ut<je;ut++)Oe[ut]=arguments[ut+2];_e.children=Oe}return{$$typeof:r,type:L.type,key:ye,ref:ke,props:_e,_owner:Ae}},ve.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},ve.createElement=I,ve.createFactory=function(L){var $=I.bind(null,L);return $.type=L,$},ve.createRef=function(){return{current:null}},ve.forwardRef=function(L){return{$$typeof:m,render:L}},ve.isValidElement=P,ve.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:Tt}},ve.memo=function(L,$){return{$$typeof:y,type:L,compare:$===void 0?null:$}},ve.startTransition=function(L){var $=ee.transition;ee.transition={};try{L()}finally{ee.transition=$}},ve.unstable_act=re,ve.useCallback=function(L,$){return be.current.useCallback(L,$)},ve.useContext=function(L){return be.current.useContext(L)},ve.useDebugValue=function(){},ve.useDeferredValue=function(L){return be.current.useDeferredValue(L)},ve.useEffect=function(L,$){return be.current.useEffect(L,$)},ve.useId=function(){return be.current.useId()},ve.useImperativeHandle=function(L,$,ue){return be.current.useImperativeHandle(L,$,ue)},ve.useInsertionEffect=function(L,$){return be.current.useInsertionEffect(L,$)},ve.useLayoutEffect=function(L,$){return be.current.useLayoutEffect(L,$)},ve.useMemo=function(L,$){return be.current.useMemo(L,$)},ve.useReducer=function(L,$,ue){return be.current.useReducer(L,$,ue)},ve.useRef=function(L){return be.current.useRef(L)},ve.useState=function(L){return be.current.useState(L)},ve.useSyncExternalStore=function(L,$,ue){return be.current.useSyncExternalStore(L,$,ue)},ve.useTransition=function(){return be.current.useTransition()},ve.version="18.3.1",ve}var tg;function Ud(){return tg||(tg=1,Gh.exports=CE()),Gh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function IE(){if(ng)return pl;ng=1;var r=Ud(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,y){var E,C={},S=null,z=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(z=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(C[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)C[E]===void 0&&(C[E]=g[E]);return{$$typeof:e,type:m,key:S,ref:z,props:C,_owner:o.current}}return pl.Fragment=n,pl.jsx=h,pl.jsxs=h,pl}var rg;function TE(){return rg||(rg=1,$h.exports=IE()),$h.exports}var te=TE(),gu={},Kh={exports:{}},Wt={},qh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function kE(){return ig||(ig=1,function(r){function e(ee,ce){var re=ee.length;ee.push(ce);e:for(;0<re;){var L=re-1>>>1,$=ee[L];if(0<o($,ce))ee[L]=ce,ee[re]=$,re=L;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ce=ee[0],re=ee.pop();if(re!==ce){ee[0]=re;e:for(var L=0,$=ee.length,ue=$>>>1;L<ue;){var _e=2*(L+1)-1,ye=ee[_e],ke=_e+1,Ae=ee[ke];if(0>o(ye,re))ke<$&&0>o(Ae,ye)?(ee[L]=Ae,ee[ke]=re,L=ke):(ee[L]=ye,ee[_e]=re,L=_e);else if(ke<$&&0>o(Ae,re))ee[L]=Ae,ee[ke]=re,L=ke;else break e}}return ce}function o(ee,ce){var re=ee.sortIndex-ce.sortIndex;return re!==0?re:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],y=[],E=1,C=null,S=3,z=!1,x=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(ee){for(var ce=n(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=ee)s(y),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=n(y)}}function fe(ee){if(M=!1,ie(ee),!x)if(n(g)!==null)x=!0,Tt(Te);else{var ce=n(y);ce!==null&&be(fe,ce.startTime-ee)}}function Te(ee,ce){x=!1,M&&(M=!1,G(I),I=-1),z=!0;var re=S;try{for(ie(ce),C=n(g);C!==null&&(!(C.expirationTime>ce)||ee&&!D());){var L=C.callback;if(typeof L=="function"){C.callback=null,S=C.priorityLevel;var $=L(C.expirationTime<=ce);ce=r.unstable_now(),typeof $=="function"?C.callback=$:C===n(g)&&s(g),ie(ce)}else s(g);C=n(g)}if(C!==null)var ue=!0;else{var _e=n(y);_e!==null&&be(fe,_e.startTime-ce),ue=!1}return ue}finally{C=null,S=re,z=!1}}var Se=!1,O=null,I=-1,k=5,P=-1;function D(){return!(r.unstable_now()-P<k)}function b(){if(O!==null){var ee=r.unstable_now();P=ee;var ce=!0;try{ce=O(!0,ee)}finally{ce?R():(Se=!1,O=null)}}else Se=!1}var R;if(typeof Q=="function")R=function(){Q(b)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,It=Ze.port2;Ze.port1.onmessage=b,R=function(){It.postMessage(null)}}else R=function(){B(b,0)};function Tt(ee){O=ee,Se||(Se=!0,R())}function be(ee,ce){I=B(function(){ee(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_continueExecution=function(){x||z||(x=!0,Tt(Te))},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(ee){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var re=S;S=ce;try{return ee()}finally{S=re}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=S;S=ee;try{return ce()}finally{S=re}},r.unstable_scheduleCallback=function(ee,ce,re){var L=r.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?L+re:L):re=L,ee){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,ee={id:E++,callback:ce,priorityLevel:ee,startTime:re,expirationTime:$,sortIndex:-1},re>L?(ee.sortIndex=re,e(y,ee),n(g)===null&&ee===n(y)&&(M?(G(I),I=-1):M=!0,be(fe,re-L))):(ee.sortIndex=$,e(g,ee),x||z||(x=!0,Tt(Te))),ee},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(ee){var ce=S;return function(){var re=S;S=ce;try{return ee.apply(this,arguments)}finally{S=re}}}}(Yh)),Yh}var sg;function RE(){return sg||(sg=1,qh.exports=kE()),qh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og;function NE(){if(og)return Wt;og=1;var r=Ud(),e=RE();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(t,i){h(t,i),h(t+"Capture",i)}function h(t,i){for(o[t]=i,t=0;t<i.length;t++)s.add(i[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},C={};function S(t){return g.call(C,t)?!0:g.call(E,t)?!1:y.test(t)?C[t]=!0:(E[t]=!0,!1)}function z(t,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x(t,i,l,c){if(i===null||typeof i>"u"||z(t,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function M(t,i,l,c,d,p,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=l,this.propertyName=t,this.type=i,this.sanitizeURL=p,this.removeEmptyString=v}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new M(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];B[i]=new M(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new M(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new M(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new M(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new M(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new M(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new M(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new M(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function Q(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(G,Q);B[i]=new M(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(G,Q);B[i]=new M(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(G,Q);B[i]=new M(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new M(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new M(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,i,l,c){var d=B.hasOwnProperty(i)?B[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(x(i,l,d,c)&&(l=null),c||d===null?S(i)&&(l===null?t.removeAttribute(i):t.setAttribute(i,""+l)):d.mustUseProperty?t[d.propertyName]=l===null?d.type===3?!1:"":l:(i=d.attributeName,c=d.attributeNamespace,l===null?t.removeAttribute(i):(d=d.type,l=d===3||d===4&&l===!0?"":""+l,c?t.setAttributeNS(c,i,l):t.setAttribute(i,l))))}var fe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Te=Symbol.for("react.element"),Se=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),It=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,L;function $(t){if(L===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);L=i&&i[1]||""}return`
`+L+t}var ue=!1;function _e(t,i){if(!t||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var c=H}Reflect.construct(t,[],i)}else{try{i.call()}catch(H){c=H}t.call(i.prototype)}else{try{throw Error()}catch(H){c=H}t()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var d=H.stack.split(`
`),p=c.stack.split(`
`),v=d.length-1,T=p.length-1;1<=v&&0<=T&&d[v]!==p[T];)T--;for(;1<=v&&0<=T;v--,T--)if(d[v]!==p[T]){if(v!==1||T!==1)do if(v--,T--,0>T||d[v]!==p[T]){var N=`
`+d[v].replace(" at new "," at ");return t.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",t.displayName)),N}while(1<=v&&0<=T);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?$(t):""}function ye(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=_e(t.type,!1),t;case 11:return t=_e(t.type.render,!1),t;case 1:return t=_e(t.type,!0),t;default:return""}}function ke(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case Se:return"Portal";case k:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Ze:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case b:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case It:return i=t.displayName||null,i!==null?i:ke(t.type)||"Memo";case Tt:i=t._payload,t=t._init;try{return ke(t(i))}catch{}}return null}function Ae(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ut(t){var i=je(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,p=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Jn(t){t._valueTracker||(t._valueTracker=ut(t))}function ss(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return t&&(c=je(t)?t.checked?"true":"false":t.value),t=c,t!==l?(i.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _i(t,i){var l=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function os(t,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=Oe(i.value!=null?i.value:l),t._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function yo(t,i){i=i.checked,i!=null&&ie(t,"checked",i,!1)}function vo(t,i){yo(t,i);var l=Oe(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?ls(t,i.type,l):i.hasOwnProperty("defaultValue")&&ls(t,i.type,Oe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function na(t,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,l||i===t.value||(t.value=i),t.defaultValue=i}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function ls(t,i,l){(i!=="number"||Or(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Zn=Array.isArray;function er(t,i,l,c){if(t=t.options,i){i={};for(var d=0;d<l.length;d++)i["$"+l[d]]=!0;for(l=0;l<t.length;l++)d=i.hasOwnProperty("$"+t[l].value),t[l].selected!==d&&(t[l].selected=d),d&&c&&(t[l].defaultSelected=!0)}else{for(l=""+Oe(l),i=null,d=0;d<t.length;d++){if(t[d].value===l){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function wo(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function as(t,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(n(92));if(Zn(l)){if(1<l.length)throw Error(n(93));l=l[0]}i=l}i==null&&(i=""),l=i}t._wrapperState={initialValue:Oe(l)}}function us(t,i){var l=Oe(i.value),c=Oe(i.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),i.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),c!=null&&(t.defaultValue=""+c)}function Eo(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function rt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?rt(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,So=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,d){MSApp.execUnsafeLocalFunction(function(){return t(i,l,c,d)})}:t}(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Dr(t,i){if(i){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=i;return}}t.textContent=i}var yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];Object.keys(yi).forEach(function(t){vi.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),yi[i]=yi[t]})});function Co(t,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||yi.hasOwnProperty(t)&&yi[t]?(""+i).trim():i+"px"}function Io(t,i){t=t.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,d=Co(l,i[l],c);l==="float"&&(l="cssFloat"),c?t.setProperty(l,d):t[l]=d}}var To=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(t,i){if(i){if(To[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ro(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function cs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var No=null,sn=null,Mn=null;function hs(t){if(t=Zo(t)){if(typeof No!="function")throw Error(n(280));var i=t.stateNode;i&&(i=Aa(i),No(t.stateNode,t.type,i))}}function nr(t){sn?Mn?Mn.push(t):Mn=[t]:sn=t}function Po(){if(sn){var t=sn,i=Mn;if(Mn=sn=null,hs(t),i)for(t=0;t<i.length;t++)hs(i[t])}}function ds(t,i){return t(i)}function xo(){}var rr=!1;function Ao(t,i,l){if(rr)return t(i,l);rr=!0;try{return ds(t,i,l)}finally{rr=!1,(sn!==null||Mn!==null)&&(xo(),Po())}}function et(t,i){var l=t.stateNode;if(l===null)return null;var c=Aa(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(n(231,i,typeof l));return l}var fs=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){fs=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{fs=!1}function Ei(t,i,l,c,d,p,v,T,N){var H=Array.prototype.slice.call(arguments,3);try{i.apply(l,H)}catch(q){this.onError(q)}}var Si=!1,ps=null,gn=!1,Oo=null,yc={onError:function(t){Si=!0,ps=t}};function Do(t,i,l,c,d,p,v,T,N){Si=!1,ps=null,Ei.apply(yc,arguments)}function vc(t,i,l,c,d,p,v,T,N){if(Do.apply(this,arguments),Si){if(Si){var H=ps;Si=!1,ps=null}else throw Error(n(198));gn||(gn=!0,Oo=H)}}function _n(t){var i=t,l=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(l=i.return),t=i.return;while(t)}return i.tag===3?l:null}function Ci(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function yn(t){if(_n(t)!==t)throw Error(n(188))}function ra(t){var i=t.alternate;if(!i){if(i=_n(t),i===null)throw Error(n(188));return i!==t?null:t}for(var l=t,c=i;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){l=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return yn(d),t;if(p===c)return yn(d),i;p=p.sibling}throw Error(n(188))}if(l.return!==c.return)l=d,c=p;else{for(var v=!1,T=d.child;T;){if(T===l){v=!0,l=d,c=p;break}if(T===c){v=!0,c=d,l=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===l){v=!0,l=p,c=d;break}if(T===c){v=!0,c=p,l=d;break}T=T.sibling}if(!v)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?t:i}function Lo(t){return t=ra(t),t!==null?ms(t):null}function ms(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=ms(t);if(i!==null)return i;t=t.sibling}return null}var gs=e.unstable_scheduleCallback,Mo=e.unstable_cancelCallback,ia=e.unstable_shouldYield,wc=e.unstable_requestPaint,ze=e.unstable_now,sa=e.unstable_getCurrentPriorityLevel,Ii=e.unstable_ImmediatePriority,Lr=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,bo=e.unstable_LowPriority,oa=e.unstable_IdlePriority,Ti=null,Xt=null;function la(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ti,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:ua,Fo=Math.log,aa=Math.LN2;function ua(t){return t>>>=0,t===0?32:31-(Fo(t)/aa|0)|0}var _s=64,ys=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ki(t,i){var l=t.pendingLanes;if(l===0)return 0;var c=0,d=t.suspendedLanes,p=t.pingedLanes,v=l&268435455;if(v!==0){var T=v&~d;T!==0?c=Mr(T):(p&=v,p!==0&&(c=Mr(p)))}else v=l&~d,v!==0?c=Mr(v):p!==0&&(c=Mr(p));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,p=i&-i,d>=p||d===16&&(p&4194240)!==0))return i;if(c&4&&(c|=l&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)l=31-At(i),d=1<<l,c|=t[l],i&=~d;return c}function Ec(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(t,i){for(var l=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-At(p),T=1<<v,N=d[v];N===-1?(!(T&l)||T&c)&&(d[v]=Ec(T,i)):N<=i&&(t.expiredLanes|=T),p&=~T}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ri(){var t=_s;return _s<<=1,!(_s&4194240)&&(_s=64),t}function br(t){for(var i=[],l=0;31>l;l++)i.push(t);return i}function Fr(t,i,l){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-At(i),t[i]=l}function Fe(t,i){var l=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<l;){var d=31-At(l),p=1<<d;i[d]=0,c[d]=-1,t[d]=-1,l&=~p}}function Ur(t,i){var l=t.entangledLanes|=i;for(t=t.entanglements;l;){var c=31-At(l),d=1<<c;d&i|t[c]&i&&(t[c]|=i),l&=~d}}var Ie=0;function jr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ca,vs,ha,da,fa,Uo=!1,bn=[],yt=null,vn=null,wn=null,zr=new Map,ln=new Map,Fn=[],Sc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pa(t,i){switch(t){case"focusin":case"focusout":yt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":zr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(i.pointerId)}}function bt(t,i,l,c,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},i!==null&&(i=Zo(i),i!==null&&vs(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function Cc(t,i,l,c,d){switch(i){case"focusin":return yt=bt(yt,t,i,l,c,d),!0;case"dragenter":return vn=bt(vn,t,i,l,c,d),!0;case"mouseover":return wn=bt(wn,t,i,l,c,d),!0;case"pointerover":var p=d.pointerId;return zr.set(p,bt(zr.get(p)||null,t,i,l,c,d)),!0;case"gotpointercapture":return p=d.pointerId,ln.set(p,bt(ln.get(p)||null,t,i,l,c,d)),!0}return!1}function ma(t){var i=Ai(t.target);if(i!==null){var l=_n(i);if(l!==null){if(i=l.tag,i===13){if(i=Ci(l),i!==null){t.blockedOn=i,fa(t.priority,function(){ha(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sr(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var l=ws(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);wi=c,l.target.dispatchEvent(c),wi=null}else return i=Zo(l),i!==null&&vs(i),t.blockedOn=l,!1;i.shift()}return!0}function Ni(t,i,l){sr(t)&&l.delete(i)}function ga(){Uo=!1,yt!==null&&sr(yt)&&(yt=null),vn!==null&&sr(vn)&&(vn=null),wn!==null&&sr(wn)&&(wn=null),zr.forEach(Ni),ln.forEach(Ni)}function En(t,i){t.blockedOn===i&&(t.blockedOn=null,Uo||(Uo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ga)))}function Sn(t){function i(d){return En(d,t)}if(0<bn.length){En(bn[0],t);for(var l=1;l<bn.length;l++){var c=bn[l];c.blockedOn===t&&(c.blockedOn=null)}}for(yt!==null&&En(yt,t),vn!==null&&En(vn,t),wn!==null&&En(wn,t),zr.forEach(i),ln.forEach(i),l=0;l<Fn.length;l++)c=Fn[l],c.blockedOn===t&&(c.blockedOn=null);for(;0<Fn.length&&(l=Fn[0],l.blockedOn===null);)ma(l),l.blockedOn===null&&Fn.shift()}var or=fe.ReactCurrentBatchConfig,Hr=!0;function Ke(t,i,l,c){var d=Ie,p=or.transition;or.transition=null;try{Ie=1,jo(t,i,l,c)}finally{Ie=d,or.transition=p}}function Ic(t,i,l,c){var d=Ie,p=or.transition;or.transition=null;try{Ie=4,jo(t,i,l,c)}finally{Ie=d,or.transition=p}}function jo(t,i,l,c){if(Hr){var d=ws(t,i,l,c);if(d===null)Mc(t,i,c,Pi,l),pa(t,c);else if(Cc(d,t,i,l,c))c.stopPropagation();else if(pa(t,c),i&4&&-1<Sc.indexOf(t)){for(;d!==null;){var p=Zo(d);if(p!==null&&ca(p),p=ws(t,i,l,c),p===null&&Mc(t,i,c,Pi,l),p===d)break;d=p}d!==null&&c.stopPropagation()}else Mc(t,i,c,null,l)}}var Pi=null;function ws(t,i,l,c){if(Pi=null,t=cs(c),t=Ai(t),t!==null)if(i=_n(t),i===null)t=null;else if(l=i.tag,l===13){if(t=Ci(i),t!==null)return t;t=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return Pi=t,null}function zo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sa()){case Ii:return 1;case Lr:return 4;case on:case bo:return 16;case oa:return 536870912;default:return 16}default:return 16}}var Zt=null,Es=null,Ft=null;function Ho(){if(Ft)return Ft;var t,i=Es,l=i.length,c,d="value"in Zt?Zt.value:Zt.textContent,p=d.length;for(t=0;t<l&&i[t]===d[t];t++);var v=l-t;for(c=1;c<=v&&i[l-c]===d[p-c];c++);return Ft=d.slice(t,1<c?1-c:void 0)}function Ss(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Un(){return!0}function Bo(){return!1}function vt(t){function i(l,c,d,p,v){this._reactName=l,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(l=t[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Un:Bo,this.isPropagationStopped=Bo,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),i}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=vt(Cn),jn=re({},Cn,{view:0,detail:0}),Tc=vt(jn),Is,lr,Br,xi=re({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Is=t.screenX-Br.screenX,lr=t.screenY-Br.screenY):lr=Is=0,Br=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:lr}}),Ts=vt(xi),Vo=re({},xi,{dataTransfer:0}),_a=vt(Vo),ks=re({},jn,{relatedTarget:0}),Rs=vt(ks),ya=re({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=vt(ya),va=re({},Cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=vt(va),Ea=re({},Cn,{data:0}),Wo=vt(Ea),Ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ca={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vr(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ca[t])?!!i[t]:!1}function a(){return Vr}var f=re({},jn,{key:function(t){if(t.key){var i=Ut[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sa[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a,charCode:function(t){return t.type==="keypress"?Ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_=vt(f),w=re({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F=vt(w),V=re({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a}),Z=vt(V),Me=re({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=vt(Me),Re=re({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ct=vt(Re),ht=[9,13,27,32],zn=m&&"CompositionEvent"in window,wt=null;m&&"documentMode"in document&&(wt=document.documentMode);var Ns=m&&"TextEvent"in window&&!wt,Ps=m&&(!zn||wt&&8<wt&&11>=wt),Kf=" ",qf=!1;function Yf(t,i){switch(t){case"keyup":return ht.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function ww(t,i){switch(t){case"compositionend":return Qf(i);case"keypress":return i.which!==32?null:(qf=!0,Kf);case"textInput":return t=i.data,t===Kf&&qf?null:t;default:return null}}function Ew(t,i){if(xs)return t==="compositionend"||!zn&&Yf(t,i)?(t=Ho(),Ft=Es=Zt=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ps&&i.locale!=="ko"?null:i.data;default:return null}}var Sw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Sw[t.type]:i==="textarea"}function Jf(t,i,l,c){nr(c),i=Na(i,"onChange"),0<i.length&&(l=new Cs("onChange","change",null,l,c),t.push({event:l,listeners:i}))}var $o=null,Go=null;function Cw(t){gp(t,0)}function Ia(t){var i=Ms(t);if(ss(i))return t}function Iw(t,i){if(t==="change")return i}var Zf=!1;if(m){var kc;if(m){var Rc="oninput"in document;if(!Rc){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),Rc=typeof ep.oninput=="function"}kc=Rc}else kc=!1;Zf=kc&&(!document.documentMode||9<document.documentMode)}function tp(){$o&&($o.detachEvent("onpropertychange",np),Go=$o=null)}function np(t){if(t.propertyName==="value"&&Ia(Go)){var i=[];Jf(i,Go,t,cs(t)),Ao(Cw,i)}}function Tw(t,i,l){t==="focusin"?(tp(),$o=i,Go=l,$o.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function kw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ia(Go)}function Rw(t,i){if(t==="click")return Ia(i)}function Nw(t,i){if(t==="input"||t==="change")return Ia(i)}function Pw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var In=typeof Object.is=="function"?Object.is:Pw;function Ko(t,i){if(In(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var l=Object.keys(t),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var d=l[c];if(!g.call(i,d)||!In(t[d],i[d]))return!1}return!0}function rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ip(t,i){var l=rp(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=i&&c>=i)return{node:l,offset:i-t};t=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rp(l)}}function sp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function op(){for(var t=window,i=Or();i instanceof t.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)t=i.contentWindow;else break;i=Or(t.document)}return i}function Nc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function xw(t){var i=op(),l=t.focusedElem,c=t.selectionRange;if(i!==l&&l&&l.ownerDocument&&sp(l.ownerDocument.documentElement,l)){if(c!==null&&Nc(l)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(t,l.value.length);else if(t=(i=l.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var d=l.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!t.extend&&p>c&&(d=c,c=p,p=d),d=ip(l,p);var v=ip(l,c);d&&v&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),t.removeAllRanges(),p>c?(t.addRange(i),t.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),t.addRange(i)))}}for(i=[],t=l;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)t=i[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Aw=m&&"documentMode"in document&&11>=document.documentMode,As=null,Pc=null,qo=null,xc=!1;function lp(t,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xc||As==null||As!==Or(c)||(c=As,"selectionStart"in c&&Nc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),qo&&Ko(qo,c)||(qo=c,c=Na(Pc,"onSelect"),0<c.length&&(i=new Cs("onSelect","select",null,i,l),t.push({event:i,listeners:c}),i.target=As)))}function Ta(t,i){var l={};return l[t.toLowerCase()]=i.toLowerCase(),l["Webkit"+t]="webkit"+i,l["Moz"+t]="moz"+i,l}var Os={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},Ac={},ap={};m&&(ap=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function ka(t){if(Ac[t])return Ac[t];if(!Os[t])return t;var i=Os[t],l;for(l in i)if(i.hasOwnProperty(l)&&l in ap)return Ac[t]=i[l];return t}var up=ka("animationend"),cp=ka("animationiteration"),hp=ka("animationstart"),dp=ka("transitionend"),fp=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,i){fp.set(t,i),u(i,[t])}for(var Oc=0;Oc<pp.length;Oc++){var Dc=pp[Oc],Ow=Dc.toLowerCase(),Dw=Dc[0].toUpperCase()+Dc.slice(1);Wr(Ow,"on"+Dw)}Wr(up,"onAnimationEnd"),Wr(cp,"onAnimationIteration"),Wr(hp,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(dp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function mp(t,i,l){var c=t.type||"unknown-event";t.currentTarget=l,vc(c,i,void 0,t),t.currentTarget=null}function gp(t,i){i=(i&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],d=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var v=c.length-1;0<=v;v--){var T=c[v],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==p&&d.isPropagationStopped())break e;mp(d,T,H),p=N}else for(v=0;v<c.length;v++){if(T=c[v],N=T.instance,H=T.currentTarget,T=T.listener,N!==p&&d.isPropagationStopped())break e;mp(d,T,H),p=N}}}if(gn)throw t=Oo,gn=!1,Oo=null,t}function Ve(t,i){var l=i[Hc];l===void 0&&(l=i[Hc]=new Set);var c=t+"__bubble";l.has(c)||(_p(i,t,2,!1),l.add(c))}function Lc(t,i,l){var c=0;i&&(c|=4),_p(l,t,c,i)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function Qo(t){if(!t[Ra]){t[Ra]=!0,s.forEach(function(l){l!=="selectionchange"&&(Lw.has(l)||Lc(l,!1,t),Lc(l,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ra]||(i[Ra]=!0,Lc("selectionchange",!1,i))}}function _p(t,i,l,c){switch(zo(i)){case 1:var d=Ke;break;case 4:d=Ic;break;default:d=jo}l=d.bind(null,i,l,t),d=void 0,!fs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(i,l,{capture:!0,passive:d}):t.addEventListener(i,l,!0):d!==void 0?t.addEventListener(i,l,{passive:d}):t.addEventListener(i,l,!1)}function Mc(t,i,l,c,d){var p=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var T=c.stateNode.containerInfo;if(T===d||T.nodeType===8&&T.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;v=v.return}for(;T!==null;){if(v=Ai(T),v===null)return;if(N=v.tag,N===5||N===6){c=p=v;continue e}T=T.parentNode}}c=c.return}Ao(function(){var H=p,q=cs(l),Y=[];e:{var K=fp.get(t);if(K!==void 0){var ne=Cs,oe=t;switch(t){case"keypress":if(Ss(l)===0)break e;case"keydown":case"keyup":ne=_;break;case"focusin":oe="focus",ne=Rs;break;case"focusout":oe="blur",ne=Rs;break;case"beforeblur":case"afterblur":ne=Rs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=_a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Z;break;case up:case cp:case hp:ne=ar;break;case dp:ne=st;break;case"scroll":ne=Tc;break;case"wheel":ne=ct;break;case"copy":case"cut":case"paste":ne=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=F}var le=(i&4)!==0,tt=!le&&t==="scroll",U=le?K!==null?K+"Capture":null:K;le=[];for(var A=H,j;A!==null;){j=A;var X=j.stateNode;if(j.tag===5&&X!==null&&(j=X,U!==null&&(X=et(A,U),X!=null&&le.push(Xo(A,X,j)))),tt)break;A=A.return}0<le.length&&(K=new ne(K,oe,null,l,q),Y.push({event:K,listeners:le}))}}if(!(i&7)){e:{if(K=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",K&&l!==wi&&(oe=l.relatedTarget||l.fromElement)&&(Ai(oe)||oe[ur]))break e;if((ne||K)&&(K=q.window===q?q:(K=q.ownerDocument)?K.defaultView||K.parentWindow:window,ne?(oe=l.relatedTarget||l.toElement,ne=H,oe=oe?Ai(oe):null,oe!==null&&(tt=_n(oe),oe!==tt||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(ne=null,oe=H),ne!==oe)){if(le=Ts,X="onMouseLeave",U="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(le=F,X="onPointerLeave",U="onPointerEnter",A="pointer"),tt=ne==null?K:Ms(ne),j=oe==null?K:Ms(oe),K=new le(X,A+"leave",ne,l,q),K.target=tt,K.relatedTarget=j,X=null,Ai(q)===H&&(le=new le(U,A+"enter",oe,l,q),le.target=j,le.relatedTarget=tt,X=le),tt=X,ne&&oe)t:{for(le=ne,U=oe,A=0,j=le;j;j=Ds(j))A++;for(j=0,X=U;X;X=Ds(X))j++;for(;0<A-j;)le=Ds(le),A--;for(;0<j-A;)U=Ds(U),j--;for(;A--;){if(le===U||U!==null&&le===U.alternate)break t;le=Ds(le),U=Ds(U)}le=null}else le=null;ne!==null&&yp(Y,K,ne,le,!1),oe!==null&&tt!==null&&yp(Y,tt,oe,le,!0)}}e:{if(K=H?Ms(H):window,ne=K.nodeName&&K.nodeName.toLowerCase(),ne==="select"||ne==="input"&&K.type==="file")var ae=Iw;else if(Xf(K))if(Zf)ae=Nw;else{ae=kw;var he=Tw}else(ne=K.nodeName)&&ne.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ae=Rw);if(ae&&(ae=ae(t,H))){Jf(Y,ae,l,q);break e}he&&he(t,K,H),t==="focusout"&&(he=K._wrapperState)&&he.controlled&&K.type==="number"&&ls(K,"number",K.value)}switch(he=H?Ms(H):window,t){case"focusin":(Xf(he)||he.contentEditable==="true")&&(As=he,Pc=H,qo=null);break;case"focusout":qo=Pc=As=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,lp(Y,l,q);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":lp(Y,l,q)}var de;if(zn)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else xs?Yf(t,l)&&(me="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(me="onCompositionStart");me&&(Ps&&l.locale!=="ko"&&(xs||me!=="onCompositionStart"?me==="onCompositionEnd"&&xs&&(de=Ho()):(Zt=q,Es="value"in Zt?Zt.value:Zt.textContent,xs=!0)),he=Na(H,me),0<he.length&&(me=new Wo(me,t,null,l,q),Y.push({event:me,listeners:he}),de?me.data=de:(de=Qf(l),de!==null&&(me.data=de)))),(de=Ns?ww(t,l):Ew(t,l))&&(H=Na(H,"onBeforeInput"),0<H.length&&(q=new Wo("onBeforeInput","beforeinput",null,l,q),Y.push({event:q,listeners:H}),q.data=de))}gp(Y,i)})}function Xo(t,i,l){return{instance:t,listener:i,currentTarget:l}}function Na(t,i){for(var l=i+"Capture",c=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=et(t,l),p!=null&&c.unshift(Xo(t,p,d)),p=et(t,i),p!=null&&c.push(Xo(t,p,d))),t=t.return}return c}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yp(t,i,l,c,d){for(var p=i._reactName,v=[];l!==null&&l!==c;){var T=l,N=T.alternate,H=T.stateNode;if(N!==null&&N===c)break;T.tag===5&&H!==null&&(T=H,d?(N=et(l,p),N!=null&&v.unshift(Xo(l,N,T))):d||(N=et(l,p),N!=null&&v.push(Xo(l,N,T)))),l=l.return}v.length!==0&&t.push({event:i,listeners:v})}var Mw=/\r\n?/g,bw=/\u0000|\uFFFD/g;function vp(t){return(typeof t=="string"?t:""+t).replace(Mw,`
`).replace(bw,"")}function Pa(t,i,l){if(i=vp(i),vp(t)!==i&&l)throw Error(n(425))}function xa(){}var bc=null,Fc=null;function Uc(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jc=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,Uw=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(t){return wp.resolve(null).then(t).catch(jw)}:jc;function jw(t){setTimeout(function(){throw t})}function zc(t,i){var l=i,c=0;do{var d=l.nextSibling;if(t.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(c===0){t.removeChild(d),Sn(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=d}while(l);Sn(i)}function $r(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function Ep(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return t;i--}else l==="/$"&&i++}t=t.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ls,Jo="__reactProps$"+Ls,ur="__reactContainer$"+Ls,Hc="__reactEvents$"+Ls,zw="__reactListeners$"+Ls,Hw="__reactHandles$"+Ls;function Ai(t){var i=t[Hn];if(i)return i;for(var l=t.parentNode;l;){if(i=l[ur]||l[Hn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(t=Ep(t);t!==null;){if(l=t[Hn])return l;t=Ep(t)}return i}t=l,l=t.parentNode}return null}function Zo(t){return t=t[Hn]||t[ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Aa(t){return t[Jo]||null}var Bc=[],bs=-1;function Gr(t){return{current:t}}function We(t){0>bs||(t.current=Bc[bs],Bc[bs]=null,bs--)}function He(t,i){bs++,Bc[bs]=t.current,t.current=i}var Kr={},kt=Gr(Kr),jt=Gr(!1),Oi=Kr;function Fs(t,i){var l=t.type.contextTypes;if(!l)return Kr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in l)d[p]=i[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=d),d}function zt(t){return t=t.childContextTypes,t!=null}function Oa(){We(jt),We(kt)}function Sp(t,i,l){if(kt.current!==Kr)throw Error(n(168));He(kt,i),He(jt,l)}function Cp(t,i,l){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(n(108,Ae(t)||"Unknown",d));return re({},l,c)}function Da(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Oi=kt.current,He(kt,t),He(jt,jt.current),!0}function Ip(t,i,l){var c=t.stateNode;if(!c)throw Error(n(169));l?(t=Cp(t,i,Oi),c.__reactInternalMemoizedMergedChildContext=t,We(jt),We(kt),He(kt,t)):We(jt),He(jt,l)}var cr=null,La=!1,Vc=!1;function Tp(t){cr===null?cr=[t]:cr.push(t)}function Bw(t){La=!0,Tp(t)}function qr(){if(!Vc&&cr!==null){Vc=!0;var t=0,i=Ie;try{var l=cr;for(Ie=1;t<l.length;t++){var c=l[t];do c=c(!0);while(c!==null)}cr=null,La=!1}catch(d){throw cr!==null&&(cr=cr.slice(t+1)),gs(Ii,qr),d}finally{Ie=i,Vc=!1}}return null}var Us=[],js=0,Ma=null,ba=0,an=[],un=0,Di=null,hr=1,dr="";function Li(t,i){Us[js++]=ba,Us[js++]=Ma,Ma=t,ba=i}function kp(t,i,l){an[un++]=hr,an[un++]=dr,an[un++]=Di,Di=t;var c=hr;t=dr;var d=32-At(c)-1;c&=~(1<<d),l+=1;var p=32-At(i)+d;if(30<p){var v=d-d%5;p=(c&(1<<v)-1).toString(32),c>>=v,d-=v,hr=1<<32-At(i)+d|l<<d|c,dr=p+t}else hr=1<<p|l<<d|c,dr=t}function Wc(t){t.return!==null&&(Li(t,1),kp(t,1,0))}function $c(t){for(;t===Ma;)Ma=Us[--js],Us[js]=null,ba=Us[--js],Us[js]=null;for(;t===Di;)Di=an[--un],an[un]=null,dr=an[--un],an[un]=null,hr=an[--un],an[un]=null}var en=null,tn=null,Ge=!1,Tn=null;function Rp(t,i){var l=fn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=t,i=t.deletions,i===null?(t.deletions=[l],t.flags|=16):i.push(l)}function Np(t,i){switch(t.tag){case 5:var l=t.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,en=t,tn=$r(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,en=t,tn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=Di!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=fn(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,en=t,tn=null,!0):!1;default:return!1}}function Gc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kc(t){if(Ge){var i=tn;if(i){var l=i;if(!Np(t,i)){if(Gc(t))throw Error(n(418));i=$r(l.nextSibling);var c=en;i&&Np(t,i)?Rp(c,l):(t.flags=t.flags&-4097|2,Ge=!1,en=t)}}else{if(Gc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,en=t}}}function Pp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Fa(t){if(t!==en)return!1;if(!Ge)return Pp(t),Ge=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!Uc(t.type,t.memoizedProps)),i&&(i=tn)){if(Gc(t))throw xp(),Error(n(418));for(;i;)Rp(t,i),i=$r(i.nextSibling)}if(Pp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(i===0){tn=$r(t.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}t=t.nextSibling}tn=null}}else tn=en?$r(t.stateNode.nextSibling):null;return!0}function xp(){for(var t=tn;t;)t=$r(t.nextSibling)}function zs(){tn=en=null,Ge=!1}function qc(t){Tn===null?Tn=[t]:Tn.push(t)}var Vw=fe.ReactCurrentBatchConfig;function el(t,i,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var c=l.stateNode}if(!c)throw Error(n(147,t));var d=c,p=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(v){var T=d.refs;v===null?delete T[p]:T[p]=v},i._stringRef=p,i)}if(typeof t!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,t))}return t}function Ua(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Ap(t){var i=t._init;return i(t._payload)}function Op(t){function i(U,A){if(t){var j=U.deletions;j===null?(U.deletions=[A],U.flags|=16):j.push(A)}}function l(U,A){if(!t)return null;for(;A!==null;)i(U,A),A=A.sibling;return null}function c(U,A){for(U=new Map;A!==null;)A.key!==null?U.set(A.key,A):U.set(A.index,A),A=A.sibling;return U}function d(U,A){return U=ni(U,A),U.index=0,U.sibling=null,U}function p(U,A,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<A?(U.flags|=2,A):j):(U.flags|=2,A)):(U.flags|=1048576,A)}function v(U){return t&&U.alternate===null&&(U.flags|=2),U}function T(U,A,j,X){return A===null||A.tag!==6?(A=jh(j,U.mode,X),A.return=U,A):(A=d(A,j),A.return=U,A)}function N(U,A,j,X){var ae=j.type;return ae===O?q(U,A,j.props.children,X,j.key):A!==null&&(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Tt&&Ap(ae)===A.type)?(X=d(A,j.props),X.ref=el(U,A,j),X.return=U,X):(X=au(j.type,j.key,j.props,null,U.mode,X),X.ref=el(U,A,j),X.return=U,X)}function H(U,A,j,X){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=zh(j,U.mode,X),A.return=U,A):(A=d(A,j.children||[]),A.return=U,A)}function q(U,A,j,X,ae){return A===null||A.tag!==7?(A=Bi(j,U.mode,X,ae),A.return=U,A):(A=d(A,j),A.return=U,A)}function Y(U,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return A=jh(""+A,U.mode,j),A.return=U,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Te:return j=au(A.type,A.key,A.props,null,U.mode,j),j.ref=el(U,null,A),j.return=U,j;case Se:return A=zh(A,U.mode,j),A.return=U,A;case Tt:var X=A._init;return Y(U,X(A._payload),j)}if(Zn(A)||ce(A))return A=Bi(A,U.mode,j,null),A.return=U,A;Ua(U,A)}return null}function K(U,A,j,X){var ae=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ae!==null?null:T(U,A,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Te:return j.key===ae?N(U,A,j,X):null;case Se:return j.key===ae?H(U,A,j,X):null;case Tt:return ae=j._init,K(U,A,ae(j._payload),X)}if(Zn(j)||ce(j))return ae!==null?null:q(U,A,j,X,null);Ua(U,j)}return null}function ne(U,A,j,X,ae){if(typeof X=="string"&&X!==""||typeof X=="number")return U=U.get(j)||null,T(A,U,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Te:return U=U.get(X.key===null?j:X.key)||null,N(A,U,X,ae);case Se:return U=U.get(X.key===null?j:X.key)||null,H(A,U,X,ae);case Tt:var he=X._init;return ne(U,A,j,he(X._payload),ae)}if(Zn(X)||ce(X))return U=U.get(j)||null,q(A,U,X,ae,null);Ua(A,X)}return null}function oe(U,A,j,X){for(var ae=null,he=null,de=A,me=A=0,pt=null;de!==null&&me<j.length;me++){de.index>me?(pt=de,de=null):pt=de.sibling;var xe=K(U,de,j[me],X);if(xe===null){de===null&&(de=pt);break}t&&de&&xe.alternate===null&&i(U,de),A=p(xe,A,me),he===null?ae=xe:he.sibling=xe,he=xe,de=pt}if(me===j.length)return l(U,de),Ge&&Li(U,me),ae;if(de===null){for(;me<j.length;me++)de=Y(U,j[me],X),de!==null&&(A=p(de,A,me),he===null?ae=de:he.sibling=de,he=de);return Ge&&Li(U,me),ae}for(de=c(U,de);me<j.length;me++)pt=ne(de,U,me,j[me],X),pt!==null&&(t&&pt.alternate!==null&&de.delete(pt.key===null?me:pt.key),A=p(pt,A,me),he===null?ae=pt:he.sibling=pt,he=pt);return t&&de.forEach(function(ri){return i(U,ri)}),Ge&&Li(U,me),ae}function le(U,A,j,X){var ae=ce(j);if(typeof ae!="function")throw Error(n(150));if(j=ae.call(j),j==null)throw Error(n(151));for(var he=ae=null,de=A,me=A=0,pt=null,xe=j.next();de!==null&&!xe.done;me++,xe=j.next()){de.index>me?(pt=de,de=null):pt=de.sibling;var ri=K(U,de,xe.value,X);if(ri===null){de===null&&(de=pt);break}t&&de&&ri.alternate===null&&i(U,de),A=p(ri,A,me),he===null?ae=ri:he.sibling=ri,he=ri,de=pt}if(xe.done)return l(U,de),Ge&&Li(U,me),ae;if(de===null){for(;!xe.done;me++,xe=j.next())xe=Y(U,xe.value,X),xe!==null&&(A=p(xe,A,me),he===null?ae=xe:he.sibling=xe,he=xe);return Ge&&Li(U,me),ae}for(de=c(U,de);!xe.done;me++,xe=j.next())xe=ne(de,U,me,xe.value,X),xe!==null&&(t&&xe.alternate!==null&&de.delete(xe.key===null?me:xe.key),A=p(xe,A,me),he===null?ae=xe:he.sibling=xe,he=xe);return t&&de.forEach(function(EE){return i(U,EE)}),Ge&&Li(U,me),ae}function tt(U,A,j,X){if(typeof j=="object"&&j!==null&&j.type===O&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Te:e:{for(var ae=j.key,he=A;he!==null;){if(he.key===ae){if(ae=j.type,ae===O){if(he.tag===7){l(U,he.sibling),A=d(he,j.props.children),A.return=U,U=A;break e}}else if(he.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Tt&&Ap(ae)===he.type){l(U,he.sibling),A=d(he,j.props),A.ref=el(U,he,j),A.return=U,U=A;break e}l(U,he);break}else i(U,he);he=he.sibling}j.type===O?(A=Bi(j.props.children,U.mode,X,j.key),A.return=U,U=A):(X=au(j.type,j.key,j.props,null,U.mode,X),X.ref=el(U,A,j),X.return=U,U=X)}return v(U);case Se:e:{for(he=j.key;A!==null;){if(A.key===he)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){l(U,A.sibling),A=d(A,j.children||[]),A.return=U,U=A;break e}else{l(U,A);break}else i(U,A);A=A.sibling}A=zh(j,U.mode,X),A.return=U,U=A}return v(U);case Tt:return he=j._init,tt(U,A,he(j._payload),X)}if(Zn(j))return oe(U,A,j,X);if(ce(j))return le(U,A,j,X);Ua(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,A!==null&&A.tag===6?(l(U,A.sibling),A=d(A,j),A.return=U,U=A):(l(U,A),A=jh(j,U.mode,X),A.return=U,U=A),v(U)):l(U,A)}return tt}var Hs=Op(!0),Dp=Op(!1),ja=Gr(null),za=null,Bs=null,Yc=null;function Qc(){Yc=Bs=za=null}function Xc(t){var i=ja.current;We(ja),t._currentValue=i}function Jc(t,i,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===l)break;t=t.return}}function Vs(t,i){za=t,Yc=Bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&i&&(Ht=!0),t.firstContext=null)}function cn(t){var i=t._currentValue;if(Yc!==t)if(t={context:t,memoizedValue:i,next:null},Bs===null){if(za===null)throw Error(n(308));Bs=t,za.dependencies={lanes:0,firstContext:t}}else Bs=Bs.next=t;return i}var Mi=null;function Zc(t){Mi===null?Mi=[t]:Mi.push(t)}function Lp(t,i,l,c){var d=i.interleaved;return d===null?(l.next=l,Zc(i)):(l.next=d.next,d.next=l),i.interleaved=l,fr(t,c)}function fr(t,i){t.lanes|=i;var l=t.alternate;for(l!==null&&(l.lanes|=i),l=t,t=t.return;t!==null;)t.childLanes|=i,l=t.alternate,l!==null&&(l.childLanes|=i),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Yr=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mp(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Qr(t,i,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Pe&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,fr(t,l)}return d=c.interleaved,d===null?(i.next=i,Zc(c)):(i.next=d.next,d.next=i),c.interleaved=i,fr(t,l)}function Ha(t,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,Ur(t,l)}}function bp(t,i){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?d=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?d=p=i:p=p.next=i}else d=p=i;l={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=i:t.next=i,l.lastBaseUpdate=i}function Ba(t,i,l,c){var d=t.updateQueue;Yr=!1;var p=d.firstBaseUpdate,v=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var N=T,H=N.next;N.next=null,v===null?p=H:v.next=H,v=N;var q=t.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==v&&(T===null?q.firstBaseUpdate=H:T.next=H,q.lastBaseUpdate=N))}if(p!==null){var Y=d.baseState;v=0,q=H=N=null,T=p;do{var K=T.lane,ne=T.eventTime;if((c&K)===K){q!==null&&(q=q.next={eventTime:ne,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var oe=t,le=T;switch(K=i,ne=l,le.tag){case 1:if(oe=le.payload,typeof oe=="function"){Y=oe.call(ne,Y,K);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=le.payload,K=typeof oe=="function"?oe.call(ne,Y,K):oe,K==null)break e;Y=re({},Y,K);break e;case 2:Yr=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,K=d.effects,K===null?d.effects=[T]:K.push(T))}else ne={eventTime:ne,lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(H=q=ne,N=Y):q=q.next=ne,v|=K;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(q===null&&(N=Y),d.baseState=N,d.firstBaseUpdate=H,d.lastBaseUpdate=q,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else p===null&&(d.shared.lanes=0);Ui|=v,t.lanes=v,t.memoizedState=Y}}function Fp(t,i,l){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],d=c.callback;if(d!==null){if(c.callback=null,c=l,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var tl={},Bn=Gr(tl),nl=Gr(tl),rl=Gr(tl);function bi(t){if(t===tl)throw Error(n(174));return t}function th(t,i){switch(He(rl,i),He(nl,t),He(Bn,tl),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:it(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=it(i,t)}We(Bn),He(Bn,i)}function Ws(){We(Bn),We(nl),We(rl)}function Up(t){bi(rl.current);var i=bi(Bn.current),l=it(i,t.type);i!==l&&(He(nl,t),He(Bn,l))}function nh(t){nl.current===t&&(We(Bn),We(nl))}var qe=Gr(0);function Va(t){for(var i=t;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rh=[];function ih(){for(var t=0;t<rh.length;t++)rh[t]._workInProgressVersionPrimary=null;rh.length=0}var Wa=fe.ReactCurrentDispatcher,sh=fe.ReactCurrentBatchConfig,Fi=0,Ye=null,ot=null,dt=null,$a=!1,il=!1,sl=0,Ww=0;function Rt(){throw Error(n(321))}function oh(t,i){if(i===null)return!1;for(var l=0;l<i.length&&l<t.length;l++)if(!In(t[l],i[l]))return!1;return!0}function lh(t,i,l,c,d,p){if(Fi=p,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Wa.current=t===null||t.memoizedState===null?qw:Yw,t=l(c,d),il){p=0;do{if(il=!1,sl=0,25<=p)throw Error(n(301));p+=1,dt=ot=null,i.updateQueue=null,Wa.current=Qw,t=l(c,d)}while(il)}if(Wa.current=qa,i=ot!==null&&ot.next!==null,Fi=0,dt=ot=Ye=null,$a=!1,i)throw Error(n(300));return t}function ah(){var t=sl!==0;return sl=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ye.memoizedState=dt=t:dt=dt.next=t,dt}function hn(){if(ot===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var i=dt===null?Ye.memoizedState:dt.next;if(i!==null)dt=i,ot=t;else{if(t===null)throw Error(n(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?Ye.memoizedState=dt=t:dt=dt.next=t}return dt}function ol(t,i){return typeof i=="function"?i(t):i}function uh(t){var i=hn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=t;var c=ot,d=c.baseQueue,p=l.pending;if(p!==null){if(d!==null){var v=d.next;d.next=p.next,p.next=v}c.baseQueue=d=p,l.pending=null}if(d!==null){p=d.next,c=c.baseState;var T=v=null,N=null,H=p;do{var q=H.lane;if((Fi&q)===q)N!==null&&(N=N.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:t(c,H.action);else{var Y={lane:q,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};N===null?(T=N=Y,v=c):N=N.next=Y,Ye.lanes|=q,Ui|=q}H=H.next}while(H!==null&&H!==p);N===null?v=c:N.next=T,In(c,i.memoizedState)||(Ht=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=N,l.lastRenderedState=c}if(t=l.interleaved,t!==null){d=t;do p=d.lane,Ye.lanes|=p,Ui|=p,d=d.next;while(d!==t)}else d===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function ch(t){var i=hn(),l=i.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=t;var c=l.dispatch,d=l.pending,p=i.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do p=t(p,v.action),v=v.next;while(v!==d);In(p,i.memoizedState)||(Ht=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),l.lastRenderedState=p}return[p,c]}function jp(){}function zp(t,i){var l=Ye,c=hn(),d=i(),p=!In(c.memoizedState,d);if(p&&(c.memoizedState=d,Ht=!0),c=c.queue,hh(Vp.bind(null,l,c,t),[t]),c.getSnapshot!==i||p||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,ll(9,Bp.bind(null,l,c,d,i),void 0,null),ft===null)throw Error(n(349));Fi&30||Hp(l,i,d)}return d}function Hp(t,i,l){t.flags|=16384,t={getSnapshot:i,value:l},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.stores=[t]):(l=i.stores,l===null?i.stores=[t]:l.push(t))}function Bp(t,i,l,c){i.value=l,i.getSnapshot=c,Wp(i)&&$p(t)}function Vp(t,i,l){return l(function(){Wp(i)&&$p(t)})}function Wp(t){var i=t.getSnapshot;t=t.value;try{var l=i();return!In(t,l)}catch{return!0}}function $p(t){var i=fr(t,1);i!==null&&Pn(i,t,1,-1)}function Gp(t){var i=Vn();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:t},i.queue=t,t=t.dispatch=Kw.bind(null,Ye,t),[i.memoizedState,t]}function ll(t,i,l,c){return t={tag:t,create:i,destroy:l,deps:c,next:null},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.lastEffect=t.next=t):(l=i.lastEffect,l===null?i.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,i.lastEffect=t)),t}function Kp(){return hn().memoizedState}function Ga(t,i,l,c){var d=Vn();Ye.flags|=t,d.memoizedState=ll(1|i,l,void 0,c===void 0?null:c)}function Ka(t,i,l,c){var d=hn();c=c===void 0?null:c;var p=void 0;if(ot!==null){var v=ot.memoizedState;if(p=v.destroy,c!==null&&oh(c,v.deps)){d.memoizedState=ll(i,l,p,c);return}}Ye.flags|=t,d.memoizedState=ll(1|i,l,p,c)}function qp(t,i){return Ga(8390656,8,t,i)}function hh(t,i){return Ka(2048,8,t,i)}function Yp(t,i){return Ka(4,2,t,i)}function Qp(t,i){return Ka(4,4,t,i)}function Xp(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jp(t,i,l){return l=l!=null?l.concat([t]):null,Ka(4,4,Xp.bind(null,i,t),l)}function dh(){}function Zp(t,i){var l=hn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&oh(i,c[1])?c[0]:(l.memoizedState=[t,i],t)}function em(t,i){var l=hn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&oh(i,c[1])?c[0]:(t=t(),l.memoizedState=[t,i],t)}function tm(t,i,l){return Fi&21?(In(l,i)||(l=Ri(),Ye.lanes|=l,Ui|=l,t.baseState=!0),i):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=l)}function $w(t,i){var l=Ie;Ie=l!==0&&4>l?l:4,t(!0);var c=sh.transition;sh.transition={};try{t(!1),i()}finally{Ie=l,sh.transition=c}}function nm(){return hn().memoizedState}function Gw(t,i,l){var c=ei(t);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},rm(t))im(i,l);else if(l=Lp(t,i,l,c),l!==null){var d=Dt();Pn(l,t,c,d),sm(l,i,c)}}function Kw(t,i,l){var c=ei(t),d={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(rm(t))im(i,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var v=i.lastRenderedState,T=p(v,l);if(d.hasEagerState=!0,d.eagerState=T,In(T,v)){var N=i.interleaved;N===null?(d.next=d,Zc(i)):(d.next=N.next,N.next=d),i.interleaved=d;return}}catch{}finally{}l=Lp(t,i,d,c),l!==null&&(d=Dt(),Pn(l,t,c,d),sm(l,i,c))}}function rm(t){var i=t.alternate;return t===Ye||i!==null&&i===Ye}function im(t,i){il=$a=!0;var l=t.pending;l===null?i.next=i:(i.next=l.next,l.next=i),t.pending=i}function sm(t,i,l){if(l&4194240){var c=i.lanes;c&=t.pendingLanes,l|=c,i.lanes=l,Ur(t,l)}}var qa={readContext:cn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},qw={readContext:cn,useCallback:function(t,i){return Vn().memoizedState=[t,i===void 0?null:i],t},useContext:cn,useEffect:qp,useImperativeHandle:function(t,i,l){return l=l!=null?l.concat([t]):null,Ga(4194308,4,Xp.bind(null,i,t),l)},useLayoutEffect:function(t,i){return Ga(4194308,4,t,i)},useInsertionEffect:function(t,i){return Ga(4,2,t,i)},useMemo:function(t,i){var l=Vn();return i=i===void 0?null:i,t=t(),l.memoizedState=[t,i],t},useReducer:function(t,i,l){var c=Vn();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=Gw.bind(null,Ye,t),[c.memoizedState,t]},useRef:function(t){var i=Vn();return t={current:t},i.memoizedState=t},useState:Gp,useDebugValue:dh,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=Gp(!1),i=t[0];return t=$w.bind(null,t[1]),Vn().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,l){var c=Ye,d=Vn();if(Ge){if(l===void 0)throw Error(n(407));l=l()}else{if(l=i(),ft===null)throw Error(n(349));Fi&30||Hp(c,i,l)}d.memoizedState=l;var p={value:l,getSnapshot:i};return d.queue=p,qp(Vp.bind(null,c,p,t),[t]),c.flags|=2048,ll(9,Bp.bind(null,c,p,l,i),void 0,null),l},useId:function(){var t=Vn(),i=ft.identifierPrefix;if(Ge){var l=dr,c=hr;l=(c&~(1<<32-At(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=sl++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=Ww++,i=":"+i+"r"+l.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},Yw={readContext:cn,useCallback:Zp,useContext:cn,useEffect:hh,useImperativeHandle:Jp,useInsertionEffect:Yp,useLayoutEffect:Qp,useMemo:em,useReducer:uh,useRef:Kp,useState:function(){return uh(ol)},useDebugValue:dh,useDeferredValue:function(t){var i=hn();return tm(i,ot.memoizedState,t)},useTransition:function(){var t=uh(ol)[0],i=hn().memoizedState;return[t,i]},useMutableSource:jp,useSyncExternalStore:zp,useId:nm,unstable_isNewReconciler:!1},Qw={readContext:cn,useCallback:Zp,useContext:cn,useEffect:hh,useImperativeHandle:Jp,useInsertionEffect:Yp,useLayoutEffect:Qp,useMemo:em,useReducer:ch,useRef:Kp,useState:function(){return ch(ol)},useDebugValue:dh,useDeferredValue:function(t){var i=hn();return ot===null?i.memoizedState=t:tm(i,ot.memoizedState,t)},useTransition:function(){var t=ch(ol)[0],i=hn().memoizedState;return[t,i]},useMutableSource:jp,useSyncExternalStore:zp,useId:nm,unstable_isNewReconciler:!1};function kn(t,i){if(t&&t.defaultProps){i=re({},i),t=t.defaultProps;for(var l in t)i[l]===void 0&&(i[l]=t[l]);return i}return i}function fh(t,i,l,c){i=t.memoizedState,l=l(c,i),l=l==null?i:re({},i,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Ya={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,i,l){t=t._reactInternals;var c=Dt(),d=ei(t),p=pr(c,d);p.payload=i,l!=null&&(p.callback=l),i=Qr(t,p,d),i!==null&&(Pn(i,t,d,c),Ha(i,t,d))},enqueueReplaceState:function(t,i,l){t=t._reactInternals;var c=Dt(),d=ei(t),p=pr(c,d);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=Qr(t,p,d),i!==null&&(Pn(i,t,d,c),Ha(i,t,d))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var l=Dt(),c=ei(t),d=pr(l,c);d.tag=2,i!=null&&(d.callback=i),i=Qr(t,d,c),i!==null&&(Pn(i,t,c,l),Ha(i,t,c))}};function om(t,i,l,c,d,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,v):i.prototype&&i.prototype.isPureReactComponent?!Ko(l,c)||!Ko(d,p):!0}function lm(t,i,l){var c=!1,d=Kr,p=i.contextType;return typeof p=="object"&&p!==null?p=cn(p):(d=zt(i)?Oi:kt.current,c=i.contextTypes,p=(c=c!=null)?Fs(t,d):Kr),i=new i(l,p),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ya,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),i}function am(t,i,l,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==t&&Ya.enqueueReplaceState(i,i.state,null)}function ph(t,i,l,c){var d=t.stateNode;d.props=l,d.state=t.memoizedState,d.refs={},eh(t);var p=i.contextType;typeof p=="object"&&p!==null?d.context=cn(p):(p=zt(i)?Oi:kt.current,d.context=Fs(t,p)),d.state=t.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(fh(t,i,p,l),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Ya.enqueueReplaceState(d,d.state,null),Ba(t,l,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,i){try{var l="",c=i;do l+=ye(c),c=c.return;while(c);var d=l}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:i,stack:d,digest:null}}function mh(t,i,l){return{value:t,source:null,stack:l??null,digest:i??null}}function gh(t,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var Xw=typeof WeakMap=="function"?WeakMap:Map;function um(t,i,l){l=pr(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){nu||(nu=!0,Ah=c),gh(t,i)},l}function cm(t,i,l){l=pr(-1,l),l.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;l.payload=function(){return c(d)},l.callback=function(){gh(t,i)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){gh(t,i),typeof c!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),l}function hm(t,i,l){var c=t.pingCache;if(c===null){c=t.pingCache=new Xw;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(l)||(d.add(l),t=hE.bind(null,t,i,l),i.then(t,t))}function dm(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function fm(t,i,l,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===i?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=pr(-1,1),i.tag=2,Qr(l,i,1))),l.lanes|=1),t)}var Jw=fe.ReactCurrentOwner,Ht=!1;function Ot(t,i,l,c){i.child=t===null?Dp(i,null,l,c):Hs(i,t.child,l,c)}function pm(t,i,l,c,d){l=l.render;var p=i.ref;return Vs(i,d),c=lh(t,i,l,c,p,d),l=ah(),t!==null&&!Ht?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,mr(t,i,d)):(Ge&&l&&Wc(i),i.flags|=1,Ot(t,i,c,d),i.child)}function mm(t,i,l,c,d){if(t===null){var p=l.type;return typeof p=="function"&&!Uh(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=p,gm(t,i,p,c,d)):(t=au(l.type,null,c,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!(t.lanes&d)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ko,l(v,c)&&t.ref===i.ref)return mr(t,i,d)}return i.flags|=1,t=ni(p,c),t.ref=i.ref,t.return=i,i.child=t}function gm(t,i,l,c,d){if(t!==null){var p=t.memoizedProps;if(Ko(p,c)&&t.ref===i.ref)if(Ht=!1,i.pendingProps=c=p,(t.lanes&d)!==0)t.flags&131072&&(Ht=!0);else return i.lanes=t.lanes,mr(t,i,d)}return _h(t,i,l,c,d)}function _m(t,i,l){var c=i.pendingProps,d=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Ks,nn),nn|=l;else{if(!(l&1073741824))return t=p!==null?p.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,He(Ks,nn),nn|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:l,He(Ks,nn),nn|=c}else p!==null?(c=p.baseLanes|l,i.memoizedState=null):c=l,He(Ks,nn),nn|=c;return Ot(t,i,d,l),i.child}function ym(t,i){var l=i.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function _h(t,i,l,c,d){var p=zt(l)?Oi:kt.current;return p=Fs(i,p),Vs(i,d),l=lh(t,i,l,c,p,d),c=ah(),t!==null&&!Ht?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~d,mr(t,i,d)):(Ge&&c&&Wc(i),i.flags|=1,Ot(t,i,l,d),i.child)}function vm(t,i,l,c,d){if(zt(l)){var p=!0;Da(i)}else p=!1;if(Vs(i,d),i.stateNode===null)Xa(t,i),lm(i,l,c),ph(i,l,c,d),c=!0;else if(t===null){var v=i.stateNode,T=i.memoizedProps;v.props=T;var N=v.context,H=l.contextType;typeof H=="object"&&H!==null?H=cn(H):(H=zt(l)?Oi:kt.current,H=Fs(i,H));var q=l.getDerivedStateFromProps,Y=typeof q=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==c||N!==H)&&am(i,v,c,H),Yr=!1;var K=i.memoizedState;v.state=K,Ba(i,c,v,d),N=i.memoizedState,T!==c||K!==N||jt.current||Yr?(typeof q=="function"&&(fh(i,l,q,c),N=i.memoizedState),(T=Yr||om(i,l,T,c,K,N,H))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),v.props=c,v.state=N,v.context=H,c=T):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Mp(t,i),T=i.memoizedProps,H=i.type===i.elementType?T:kn(i.type,T),v.props=H,Y=i.pendingProps,K=v.context,N=l.contextType,typeof N=="object"&&N!==null?N=cn(N):(N=zt(l)?Oi:kt.current,N=Fs(i,N));var ne=l.getDerivedStateFromProps;(q=typeof ne=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==Y||K!==N)&&am(i,v,c,N),Yr=!1,K=i.memoizedState,v.state=K,Ba(i,c,v,d);var oe=i.memoizedState;T!==Y||K!==oe||jt.current||Yr?(typeof ne=="function"&&(fh(i,l,ne,c),oe=i.memoizedState),(H=Yr||om(i,l,H,c,K,oe,N)||!1)?(q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,oe,N),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,oe,N)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=oe),v.props=c,v.state=oe,v.context=N,c=H):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),c=!1)}return yh(t,i,l,c,p,d)}function yh(t,i,l,c,d,p){ym(t,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&Ip(i,l,!1),mr(t,i,p);c=i.stateNode,Jw.current=i;var T=v&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&v?(i.child=Hs(i,t.child,null,p),i.child=Hs(i,null,T,p)):Ot(t,i,T,p),i.memoizedState=c.state,d&&Ip(i,l,!0),i.child}function wm(t){var i=t.stateNode;i.pendingContext?Sp(t,i.pendingContext,i.pendingContext!==i.context):i.context&&Sp(t,i.context,!1),th(t,i.containerInfo)}function Em(t,i,l,c,d){return zs(),qc(d),i.flags|=256,Ot(t,i,l,c),i.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function wh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Sm(t,i,l){var c=i.pendingProps,d=qe.current,p=!1,v=(i.flags&128)!==0,T;if((T=v)||(T=t!==null&&t.memoizedState===null?!1:(d&2)!==0),T?(p=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),He(qe,d&1),t===null)return Kc(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(i.mode&1?t.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(v=c.children,t=c.fallback,p?(c=i.mode,p=i.child,v={mode:"hidden",children:v},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=uu(v,c,0,null),t=Bi(t,c,l,null),p.return=i,t.return=i,p.sibling=t,i.child=p,i.child.memoizedState=wh(l),i.memoizedState=vh,t):Eh(i,v));if(d=t.memoizedState,d!==null&&(T=d.dehydrated,T!==null))return Zw(t,i,v,c,T,d,l);if(p){p=c.fallback,v=i.mode,d=t.child,T=d.sibling;var N={mode:"hidden",children:c.children};return!(v&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=ni(d,N),c.subtreeFlags=d.subtreeFlags&14680064),T!==null?p=ni(T,p):(p=Bi(p,v,l,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,v=t.child.memoizedState,v=v===null?wh(l):{baseLanes:v.baseLanes|l,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~l,i.memoizedState=vh,c}return p=t.child,t=p.sibling,c=ni(p,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=l),c.return=i,c.sibling=null,t!==null&&(l=i.deletions,l===null?(i.deletions=[t],i.flags|=16):l.push(t)),i.child=c,i.memoizedState=null,c}function Eh(t,i){return i=uu({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Qa(t,i,l,c){return c!==null&&qc(c),Hs(i,t.child,null,l),t=Eh(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zw(t,i,l,c,d,p,v){if(l)return i.flags&256?(i.flags&=-257,c=mh(Error(n(422))),Qa(t,i,v,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(p=c.fallback,d=i.mode,c=uu({mode:"visible",children:c.children},d,0,null),p=Bi(p,d,v,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,i.mode&1&&Hs(i,t.child,null,v),i.child.memoizedState=wh(v),i.memoizedState=vh,p);if(!(i.mode&1))return Qa(t,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var T=c.dgst;return c=T,p=Error(n(419)),c=mh(p,c,void 0),Qa(t,i,v,c)}if(T=(v&t.childLanes)!==0,Ht||T){if(c=ft,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|v)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,fr(t,d),Pn(c,t,d,-1))}return Fh(),c=mh(Error(n(421))),Qa(t,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=t.child,i=dE.bind(null,t),d._reactRetry=i,null):(t=p.treeContext,tn=$r(d.nextSibling),en=i,Ge=!0,Tn=null,t!==null&&(an[un++]=hr,an[un++]=dr,an[un++]=Di,hr=t.id,dr=t.overflow,Di=i),i=Eh(i,c.children),i.flags|=4096,i)}function Cm(t,i,l){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Jc(t.return,i,l)}function Sh(t,i,l,c,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=d)}function Im(t,i,l){var c=i.pendingProps,d=c.revealOrder,p=c.tail;if(Ot(t,i,c.children,l),c=qe.current,c&2)c=c&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cm(t,l,i);else if(t.tag===19)Cm(t,l,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(He(qe,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(l=i.child,d=null;l!==null;)t=l.alternate,t!==null&&Va(t)===null&&(d=l),l=l.sibling;l=d,l===null?(d=i.child,i.child=null):(d=l.sibling,l.sibling=null),Sh(i,!1,d,l,p);break;case"backwards":for(l=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Va(t)===null){i.child=d;break}t=d.sibling,d.sibling=l,l=d,d=t}Sh(i,!0,l,null,p);break;case"together":Sh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xa(t,i){!(i.mode&1)&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function mr(t,i,l){if(t!==null&&(i.dependencies=t.dependencies),Ui|=i.lanes,!(l&i.childLanes))return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,l=ni(t,t.pendingProps),i.child=l,l.return=i;t.sibling!==null;)t=t.sibling,l=l.sibling=ni(t,t.pendingProps),l.return=i;l.sibling=null}return i.child}function eE(t,i,l){switch(i.tag){case 3:wm(i),zs();break;case 5:Up(i);break;case 1:zt(i.type)&&Da(i);break;case 4:th(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;He(ja,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(qe,qe.current&1),i.flags|=128,null):l&i.child.childLanes?Sm(t,i,l):(He(qe,qe.current&1),t=mr(t,i,l),t!==null?t.sibling:null);He(qe,qe.current&1);break;case 19:if(c=(l&i.childLanes)!==0,t.flags&128){if(c)return Im(t,i,l);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(qe,qe.current),c)break;return null;case 22:case 23:return i.lanes=0,_m(t,i,l)}return mr(t,i,l)}var Tm,Ch,km,Rm;Tm=function(t,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ch=function(){},km=function(t,i,l,c){var d=t.memoizedProps;if(d!==c){t=i.stateNode,bi(Bn.current);var p=null;switch(l){case"input":d=_i(t,d),c=_i(t,c),p=[];break;case"select":d=re({},d,{value:void 0}),c=re({},c,{value:void 0}),p=[];break;case"textarea":d=wo(t,d),c=wo(t,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=xa)}ko(l,c);var v;l=null;for(H in d)if(!c.hasOwnProperty(H)&&d.hasOwnProperty(H)&&d[H]!=null)if(H==="style"){var T=d[H];for(v in T)T.hasOwnProperty(v)&&(l||(l={}),l[v]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?p||(p=[]):(p=p||[]).push(H,null));for(H in c){var N=c[H];if(T=d!=null?d[H]:void 0,c.hasOwnProperty(H)&&N!==T&&(N!=null||T!=null))if(H==="style")if(T){for(v in T)!T.hasOwnProperty(v)||N&&N.hasOwnProperty(v)||(l||(l={}),l[v]="");for(v in N)N.hasOwnProperty(v)&&T[v]!==N[v]&&(l||(l={}),l[v]=N[v])}else l||(p||(p=[]),p.push(H,l)),l=N;else H==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,T=T?T.__html:void 0,N!=null&&T!==N&&(p=p||[]).push(H,N)):H==="children"?typeof N!="string"&&typeof N!="number"||(p=p||[]).push(H,""+N):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(N!=null&&H==="onScroll"&&Ve("scroll",t),p||T===N||(p=[])):(p=p||[]).push(H,N))}l&&(p=p||[]).push("style",l);var H=p;(i.updateQueue=H)&&(i.flags|=4)}},Rm=function(t,i,l,c){l!==c&&(i.flags|=4)};function al(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(i)for(var d=t.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)l|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=l,i}function tE(t,i,l){var c=i.pendingProps;switch($c(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return zt(i.type)&&Oa(),Nt(i),null;case 3:return c=i.stateNode,Ws(),We(jt),We(kt),ih(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Fa(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Tn!==null&&(Lh(Tn),Tn=null))),Ch(t,i),Nt(i),null;case 5:nh(i);var d=bi(rl.current);if(l=i.type,t!==null&&i.stateNode!=null)km(t,i,l,c,d),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(n(166));return Nt(i),null}if(t=bi(Bn.current),Fa(i)){c=i.stateNode,l=i.type;var p=i.memoizedProps;switch(c[Hn]=i,c[Jo]=p,t=(i.mode&1)!==0,l){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(d=0;d<Yo.length;d++)Ve(Yo[d],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":os(c,p),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ve("invalid",c);break;case"textarea":as(c,p),Ve("invalid",c)}ko(l,p),d=null;for(var v in p)if(p.hasOwnProperty(v)){var T=p[v];v==="children"?typeof T=="string"?c.textContent!==T&&(p.suppressHydrationWarning!==!0&&Pa(c.textContent,T,t),d=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(p.suppressHydrationWarning!==!0&&Pa(c.textContent,T,t),d=["children",""+T]):o.hasOwnProperty(v)&&T!=null&&v==="onScroll"&&Ve("scroll",c)}switch(l){case"input":Jn(c),na(c,p,!0);break;case"textarea":Jn(c),Eo(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=xa)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rt(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=v.createElement(l,{is:c.is}):(t=v.createElement(l),l==="select"&&(v=t,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):t=v.createElementNS(t,l),t[Hn]=i,t[Jo]=c,Tm(t,i,!1,!1),i.stateNode=t;e:{switch(v=Ro(l,c),l){case"dialog":Ve("cancel",t),Ve("close",t),d=c;break;case"iframe":case"object":case"embed":Ve("load",t),d=c;break;case"video":case"audio":for(d=0;d<Yo.length;d++)Ve(Yo[d],t);d=c;break;case"source":Ve("error",t),d=c;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),d=c;break;case"details":Ve("toggle",t),d=c;break;case"input":os(t,c),d=_i(t,c),Ve("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=re({},c,{value:void 0}),Ve("invalid",t);break;case"textarea":as(t,c),d=wo(t,c),Ve("invalid",t);break;default:d=c}ko(l,d),T=d;for(p in T)if(T.hasOwnProperty(p)){var N=T[p];p==="style"?Io(t,N):p==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&So(t,N)):p==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&Dr(t,N):typeof N=="number"&&Dr(t,""+N):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?N!=null&&p==="onScroll"&&Ve("scroll",t):N!=null&&ie(t,p,N,v))}switch(l){case"input":Jn(t),na(t,c,!1);break;case"textarea":Jn(t),Eo(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Oe(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?er(t,!!c.multiple,p,!1):c.defaultValue!=null&&er(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=xa)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Nt(i),null;case 6:if(t&&i.stateNode!=null)Rm(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(n(166));if(l=bi(rl.current),bi(Bn.current),Fa(i)){if(c=i.stateNode,l=i.memoizedProps,c[Hn]=i,(p=c.nodeValue!==l)&&(t=en,t!==null))switch(t.tag){case 3:Pa(c.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pa(c.nodeValue,l,(t.mode&1)!==0)}p&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Hn]=i,i.stateNode=c}return Nt(i),null;case 13:if(We(qe),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&tn!==null&&i.mode&1&&!(i.flags&128))xp(),zs(),i.flags|=98560,p=!1;else if(p=Fa(i),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Hn]=i}else zs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Nt(i),p=!1}else Tn!==null&&(Lh(Tn),Tn=null),p=!0;if(!p)return i.flags&65536?i:null}return i.flags&128?(i.lanes=l,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(t===null||qe.current&1?lt===0&&(lt=3):Fh())),i.updateQueue!==null&&(i.flags|=4),Nt(i),null);case 4:return Ws(),Ch(t,i),t===null&&Qo(i.stateNode.containerInfo),Nt(i),null;case 10:return Xc(i.type._context),Nt(i),null;case 17:return zt(i.type)&&Oa(),Nt(i),null;case 19:if(We(qe),p=i.memoizedState,p===null)return Nt(i),null;if(c=(i.flags&128)!==0,v=p.rendering,v===null)if(c)al(p,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(v=Va(t),v!==null){for(i.flags|=128,al(p,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)p=l,t=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return He(qe,qe.current&1|2),i.child}t=t.sibling}p.tail!==null&&ze()>qs&&(i.flags|=128,c=!0,al(p,!1),i.lanes=4194304)}else{if(!c)if(t=Va(v),t!==null){if(i.flags|=128,c=!0,l=t.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),al(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ge)return Nt(i),null}else 2*ze()-p.renderingStartTime>qs&&l!==1073741824&&(i.flags|=128,c=!0,al(p,!1),i.lanes=4194304);p.isBackwards?(v.sibling=i.child,i.child=v):(l=p.last,l!==null?l.sibling=v:i.child=v,p.last=v)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=ze(),i.sibling=null,l=qe.current,He(qe,c?l&1|2:l&1),i):(Nt(i),null);case 22:case 23:return bh(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?nn&1073741824&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function nE(t,i){switch($c(i),i.tag){case 1:return zt(i.type)&&Oa(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ws(),We(jt),We(kt),ih(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 5:return nh(i),null;case 13:if(We(qe),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return We(qe),null;case 4:return Ws(),null;case 10:return Xc(i.type._context),null;case 22:case 23:return bh(),null;case 24:return null;default:return null}}var Ja=!1,Pt=!1,rE=typeof WeakSet=="function"?WeakSet:Set,se=null;function Gs(t,i){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Xe(t,i,c)}else l.current=null}function Ih(t,i,l){try{l()}catch(c){Xe(t,i,c)}}var Nm=!1;function iE(t,i){if(bc=Hr,t=op(),Nc(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var v=0,T=-1,N=-1,H=0,q=0,Y=t,K=null;t:for(;;){for(var ne;Y!==l||d!==0&&Y.nodeType!==3||(T=v+d),Y!==p||c!==0&&Y.nodeType!==3||(N=v+c),Y.nodeType===3&&(v+=Y.nodeValue.length),(ne=Y.firstChild)!==null;)K=Y,Y=ne;for(;;){if(Y===t)break t;if(K===l&&++H===d&&(T=v),K===p&&++q===c&&(N=v),(ne=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=ne}l=T===-1||N===-1?null:{start:T,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fc={focusedElem:t,selectionRange:l},Hr=!1,se=i;se!==null;)if(i=se,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,se=t;else for(;se!==null;){i=se;try{var oe=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var le=oe.memoizedProps,tt=oe.memoizedState,U=i.stateNode,A=U.getSnapshotBeforeUpdate(i.elementType===i.type?le:kn(i.type,le),tt);U.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var j=i.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){Xe(i,i.return,X)}if(t=i.sibling,t!==null){t.return=i.return,se=t;break}se=i.return}return oe=Nm,Nm=!1,oe}function ul(t,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&Ih(i,l,p)}d=d.next}while(d!==c)}}function Za(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&t)===t){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Th(t){var i=t.ref;if(i!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof i=="function"?i(t):i.current=t}}function Pm(t){var i=t.alternate;i!==null&&(t.alternate=null,Pm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Hn],delete i[Jo],delete i[Hc],delete i[zw],delete i[Hw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xm(t){return t.tag===5||t.tag===3||t.tag===4}function Am(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(t,i):l.insertBefore(t,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(t,l)):(i=l,i.appendChild(t)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=xa));else if(c!==4&&(t=t.child,t!==null))for(kh(t,i,l),t=t.sibling;t!==null;)kh(t,i,l),t=t.sibling}function Rh(t,i,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?l.insertBefore(t,i):l.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Rh(t,i,l),t=t.sibling;t!==null;)Rh(t,i,l),t=t.sibling}var Et=null,Rn=!1;function Xr(t,i,l){for(l=l.child;l!==null;)Om(t,i,l),l=l.sibling}function Om(t,i,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ti,l)}catch{}switch(l.tag){case 5:Pt||Gs(l,i);case 6:var c=Et,d=Rn;Et=null,Xr(t,i,l),Et=c,Rn=d,Et!==null&&(Rn?(t=Et,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):Et.removeChild(l.stateNode));break;case 18:Et!==null&&(Rn?(t=Et,l=l.stateNode,t.nodeType===8?zc(t.parentNode,l):t.nodeType===1&&zc(t,l),Sn(t)):zc(Et,l.stateNode));break;case 4:c=Et,d=Rn,Et=l.stateNode.containerInfo,Rn=!0,Xr(t,i,l),Et=c,Rn=d;break;case 0:case 11:case 14:case 15:if(!Pt&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Ih(l,i,v),d=d.next}while(d!==c)}Xr(t,i,l);break;case 1:if(!Pt&&(Gs(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(T){Xe(l,i,T)}Xr(t,i,l);break;case 21:Xr(t,i,l);break;case 22:l.mode&1?(Pt=(c=Pt)||l.memoizedState!==null,Xr(t,i,l),Pt=c):Xr(t,i,l);break;default:Xr(t,i,l)}}function Dm(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new rE),i.forEach(function(c){var d=fE.bind(null,t,c);l.has(c)||(l.add(c),c.then(d,d))})}}function Nn(t,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var d=l[c];try{var p=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 5:Et=T.stateNode,Rn=!1;break e;case 3:Et=T.stateNode.containerInfo,Rn=!0;break e;case 4:Et=T.stateNode.containerInfo,Rn=!0;break e}T=T.return}if(Et===null)throw Error(n(160));Om(p,v,d),Et=null,Rn=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(H){Xe(d,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Lm(i,t),i=i.sibling}function Lm(t,i){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(i,t),Wn(t),c&4){try{ul(3,t,t.return),Za(3,t)}catch(le){Xe(t,t.return,le)}try{ul(5,t,t.return)}catch(le){Xe(t,t.return,le)}}break;case 1:Nn(i,t),Wn(t),c&512&&l!==null&&Gs(l,l.return);break;case 5:if(Nn(i,t),Wn(t),c&512&&l!==null&&Gs(l,l.return),t.flags&32){var d=t.stateNode;try{Dr(d,"")}catch(le){Xe(t,t.return,le)}}if(c&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,v=l!==null?l.memoizedProps:p,T=t.type,N=t.updateQueue;if(t.updateQueue=null,N!==null)try{T==="input"&&p.type==="radio"&&p.name!=null&&yo(d,p),Ro(T,v);var H=Ro(T,p);for(v=0;v<N.length;v+=2){var q=N[v],Y=N[v+1];q==="style"?Io(d,Y):q==="dangerouslySetInnerHTML"?So(d,Y):q==="children"?Dr(d,Y):ie(d,q,Y,H)}switch(T){case"input":vo(d,p);break;case"textarea":us(d,p);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?er(d,!!p.multiple,ne,!1):K!==!!p.multiple&&(p.defaultValue!=null?er(d,!!p.multiple,p.defaultValue,!0):er(d,!!p.multiple,p.multiple?[]:"",!1))}d[Jo]=p}catch(le){Xe(t,t.return,le)}}break;case 6:if(Nn(i,t),Wn(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(le){Xe(t,t.return,le)}}break;case 3:if(Nn(i,t),Wn(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Sn(i.containerInfo)}catch(le){Xe(t,t.return,le)}break;case 4:Nn(i,t),Wn(t);break;case 13:Nn(i,t),Wn(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(xh=ze())),c&4&&Dm(t);break;case 22:if(q=l!==null&&l.memoizedState!==null,t.mode&1?(Pt=(H=Pt)||q,Nn(i,t),Pt=H):Nn(i,t),Wn(t),c&8192){if(H=t.memoizedState!==null,(t.stateNode.isHidden=H)&&!q&&t.mode&1)for(se=t,q=t.child;q!==null;){for(Y=se=q;se!==null;){switch(K=se,ne=K.child,K.tag){case 0:case 11:case 14:case 15:ul(4,K,K.return);break;case 1:Gs(K,K.return);var oe=K.stateNode;if(typeof oe.componentWillUnmount=="function"){c=K,l=K.return;try{i=c,oe.props=i.memoizedProps,oe.state=i.memoizedState,oe.componentWillUnmount()}catch(le){Xe(c,l,le)}}break;case 5:Gs(K,K.return);break;case 22:if(K.memoizedState!==null){Fm(Y);continue}}ne!==null?(ne.return=K,se=ne):Fm(Y)}q=q.sibling}e:for(q=null,Y=t;;){if(Y.tag===5){if(q===null){q=Y;try{d=Y.stateNode,H?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(T=Y.stateNode,N=Y.memoizedProps.style,v=N!=null&&N.hasOwnProperty("display")?N.display:null,T.style.display=Co("display",v))}catch(le){Xe(t,t.return,le)}}}else if(Y.tag===6){if(q===null)try{Y.stateNode.nodeValue=H?"":Y.memoizedProps}catch(le){Xe(t,t.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;q===Y&&(q=null),Y=Y.return}q===Y&&(q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Nn(i,t),Wn(t),c&4&&Dm(t);break;case 21:break;default:Nn(i,t),Wn(t)}}function Wn(t){var i=t.flags;if(i&2){try{e:{for(var l=t.return;l!==null;){if(xm(l)){var c=l;break e}l=l.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Dr(d,""),c.flags&=-33);var p=Am(t);Rh(t,p,d);break;case 3:case 4:var v=c.stateNode.containerInfo,T=Am(t);kh(t,T,v);break;default:throw Error(n(161))}}catch(N){Xe(t,t.return,N)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function sE(t,i,l){se=t,Mm(t)}function Mm(t,i,l){for(var c=(t.mode&1)!==0;se!==null;){var d=se,p=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||Ja;if(!v){var T=d.alternate,N=T!==null&&T.memoizedState!==null||Pt;T=Ja;var H=Pt;if(Ja=v,(Pt=N)&&!H)for(se=d;se!==null;)v=se,N=v.child,v.tag===22&&v.memoizedState!==null?Um(d):N!==null?(N.return=v,se=N):Um(d);for(;p!==null;)se=p,Mm(p),p=p.sibling;se=d,Ja=T,Pt=H}bm(t)}else d.subtreeFlags&8772&&p!==null?(p.return=d,se=p):bm(t)}}function bm(t){for(;se!==null;){var i=se;if(i.flags&8772){var l=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Pt||Za(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Pt)if(l===null)c.componentDidMount();else{var d=i.elementType===i.type?l.memoizedProps:kn(i.type,l.memoizedProps);c.componentDidUpdate(d,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&Fp(i,p,c);break;case 3:var v=i.updateQueue;if(v!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Fp(i,v,l)}break;case 5:var T=i.stateNode;if(l===null&&i.flags&4){l=T;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var q=H.memoizedState;if(q!==null){var Y=q.dehydrated;Y!==null&&Sn(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pt||i.flags&512&&Th(i)}catch(K){Xe(i,i.return,K)}}if(i===t){se=null;break}if(l=i.sibling,l!==null){l.return=i.return,se=l;break}se=i.return}}function Fm(t){for(;se!==null;){var i=se;if(i===t){se=null;break}var l=i.sibling;if(l!==null){l.return=i.return,se=l;break}se=i.return}}function Um(t){for(;se!==null;){var i=se;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Za(4,i)}catch(N){Xe(i,l,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(N){Xe(i,d,N)}}var p=i.return;try{Th(i)}catch(N){Xe(i,p,N)}break;case 5:var v=i.return;try{Th(i)}catch(N){Xe(i,v,N)}}}catch(N){Xe(i,i.return,N)}if(i===t){se=null;break}var T=i.sibling;if(T!==null){T.return=i.return,se=T;break}se=i.return}}var oE=Math.ceil,eu=fe.ReactCurrentDispatcher,Nh=fe.ReactCurrentOwner,dn=fe.ReactCurrentBatchConfig,Pe=0,ft=null,nt=null,St=0,nn=0,Ks=Gr(0),lt=0,cl=null,Ui=0,tu=0,Ph=0,hl=null,Bt=null,xh=0,qs=1/0,gr=null,nu=!1,Ah=null,Jr=null,ru=!1,Zr=null,iu=0,dl=0,Oh=null,su=-1,ou=0;function Dt(){return Pe&6?ze():su!==-1?su:su=ze()}function ei(t){return t.mode&1?Pe&2&&St!==0?St&-St:Vw.transition!==null?(ou===0&&(ou=Ri()),ou):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:zo(t.type)),t):1}function Pn(t,i,l,c){if(50<dl)throw dl=0,Oh=null,Error(n(185));Fr(t,l,c),(!(Pe&2)||t!==ft)&&(t===ft&&(!(Pe&2)&&(tu|=l),lt===4&&ti(t,St)),Vt(t,c),l===1&&Pe===0&&!(i.mode&1)&&(qs=ze()+500,La&&qr()))}function Vt(t,i){var l=t.callbackNode;ir(t,i);var c=ki(t,t===ft?St:0);if(c===0)l!==null&&Mo(l),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(l!=null&&Mo(l),i===1)t.tag===0?Bw(zm.bind(null,t)):Tp(zm.bind(null,t)),Uw(function(){!(Pe&6)&&qr()}),l=null;else{switch(jr(c)){case 1:l=Ii;break;case 4:l=Lr;break;case 16:l=on;break;case 536870912:l=oa;break;default:l=on}l=qm(l,jm.bind(null,t))}t.callbackPriority=i,t.callbackNode=l}}function jm(t,i){if(su=-1,ou=0,Pe&6)throw Error(n(327));var l=t.callbackNode;if(Ys()&&t.callbackNode!==l)return null;var c=ki(t,t===ft?St:0);if(c===0)return null;if(c&30||c&t.expiredLanes||i)i=lu(t,c);else{i=c;var d=Pe;Pe|=2;var p=Bm();(ft!==t||St!==i)&&(gr=null,qs=ze()+500,zi(t,i));do try{uE();break}catch(T){Hm(t,T)}while(!0);Qc(),eu.current=p,Pe=d,nt!==null?i=0:(ft=null,St=0,i=lt)}if(i!==0){if(i===2&&(d=Jt(t),d!==0&&(c=d,i=Dh(t,d))),i===1)throw l=cl,zi(t,0),ti(t,c),Vt(t,ze()),l;if(i===6)ti(t,c);else{if(d=t.current.alternate,!(c&30)&&!lE(d)&&(i=lu(t,c),i===2&&(p=Jt(t),p!==0&&(c=p,i=Dh(t,p))),i===1))throw l=cl,zi(t,0),ti(t,c),Vt(t,ze()),l;switch(t.finishedWork=d,t.finishedLanes=c,i){case 0:case 1:throw Error(n(345));case 2:Hi(t,Bt,gr);break;case 3:if(ti(t,c),(c&130023424)===c&&(i=xh+500-ze(),10<i)){if(ki(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){Dt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=jc(Hi.bind(null,t,Bt,gr),i);break}Hi(t,Bt,gr);break;case 4:if(ti(t,c),(c&4194240)===c)break;for(i=t.eventTimes,d=-1;0<c;){var v=31-At(c);p=1<<v,v=i[v],v>d&&(d=v),c&=~p}if(c=d,c=ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*oE(c/1960))-c,10<c){t.timeoutHandle=jc(Hi.bind(null,t,Bt,gr),c);break}Hi(t,Bt,gr);break;case 5:Hi(t,Bt,gr);break;default:throw Error(n(329))}}}return Vt(t,ze()),t.callbackNode===l?jm.bind(null,t):null}function Dh(t,i){var l=hl;return t.current.memoizedState.isDehydrated&&(zi(t,i).flags|=256),t=lu(t,i),t!==2&&(i=Bt,Bt=l,i!==null&&Lh(i)),t}function Lh(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function lE(t){for(var i=t;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var d=l[c],p=d.getSnapshot;d=d.value;try{if(!In(p(),d))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ti(t,i){for(i&=~Ph,i&=~tu,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var l=31-At(i),c=1<<l;t[l]=-1,i&=~c}}function zm(t){if(Pe&6)throw Error(n(327));Ys();var i=ki(t,0);if(!(i&1))return Vt(t,ze()),null;var l=lu(t,i);if(t.tag!==0&&l===2){var c=Jt(t);c!==0&&(i=c,l=Dh(t,c))}if(l===1)throw l=cl,zi(t,0),ti(t,i),Vt(t,ze()),l;if(l===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,Hi(t,Bt,gr),Vt(t,ze()),null}function Mh(t,i){var l=Pe;Pe|=1;try{return t(i)}finally{Pe=l,Pe===0&&(qs=ze()+500,La&&qr())}}function ji(t){Zr!==null&&Zr.tag===0&&!(Pe&6)&&Ys();var i=Pe;Pe|=1;var l=dn.transition,c=Ie;try{if(dn.transition=null,Ie=1,t)return t()}finally{Ie=c,dn.transition=l,Pe=i,!(Pe&6)&&qr()}}function bh(){nn=Ks.current,We(Ks)}function zi(t,i){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,Fw(l)),nt!==null)for(l=nt.return;l!==null;){var c=l;switch($c(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Oa();break;case 3:Ws(),We(jt),We(kt),ih();break;case 5:nh(c);break;case 4:Ws();break;case 13:We(qe);break;case 19:We(qe);break;case 10:Xc(c.type._context);break;case 22:case 23:bh()}l=l.return}if(ft=t,nt=t=ni(t.current,null),St=nn=i,lt=0,cl=null,Ph=tu=Ui=0,Bt=hl=null,Mi!==null){for(i=0;i<Mi.length;i++)if(l=Mi[i],c=l.interleaved,c!==null){l.interleaved=null;var d=c.next,p=l.pending;if(p!==null){var v=p.next;p.next=d,c.next=v}l.pending=c}Mi=null}return t}function Hm(t,i){do{var l=nt;try{if(Qc(),Wa.current=qa,$a){for(var c=Ye.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}$a=!1}if(Fi=0,dt=ot=Ye=null,il=!1,sl=0,Nh.current=null,l===null||l.return===null){lt=1,cl=i,nt=null;break}e:{var p=t,v=l.return,T=l,N=i;if(i=St,T.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=N,q=T,Y=q.tag;if(!(q.mode&1)&&(Y===0||Y===11||Y===15)){var K=q.alternate;K?(q.updateQueue=K.updateQueue,q.memoizedState=K.memoizedState,q.lanes=K.lanes):(q.updateQueue=null,q.memoizedState=null)}var ne=dm(v);if(ne!==null){ne.flags&=-257,fm(ne,v,T,p,i),ne.mode&1&&hm(p,H,i),i=ne,N=H;var oe=i.updateQueue;if(oe===null){var le=new Set;le.add(N),i.updateQueue=le}else oe.add(N);break e}else{if(!(i&1)){hm(p,H,i),Fh();break e}N=Error(n(426))}}else if(Ge&&T.mode&1){var tt=dm(v);if(tt!==null){!(tt.flags&65536)&&(tt.flags|=256),fm(tt,v,T,p,i),qc($s(N,T));break e}}p=N=$s(N,T),lt!==4&&(lt=2),hl===null?hl=[p]:hl.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var U=um(p,N,i);bp(p,U);break e;case 1:T=N;var A=p.type,j=p.stateNode;if(!(p.flags&128)&&(typeof A.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Jr===null||!Jr.has(j)))){p.flags|=65536,i&=-i,p.lanes|=i;var X=cm(p,T,i);bp(p,X);break e}}p=p.return}while(p!==null)}Wm(l)}catch(ae){i=ae,nt===l&&l!==null&&(nt=l=l.return);continue}break}while(!0)}function Bm(){var t=eu.current;return eu.current=qa,t===null?qa:t}function Fh(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(Ui&268435455)&&!(tu&268435455)||ti(ft,St)}function lu(t,i){var l=Pe;Pe|=2;var c=Bm();(ft!==t||St!==i)&&(gr=null,zi(t,i));do try{aE();break}catch(d){Hm(t,d)}while(!0);if(Qc(),Pe=l,eu.current=c,nt!==null)throw Error(n(261));return ft=null,St=0,lt}function aE(){for(;nt!==null;)Vm(nt)}function uE(){for(;nt!==null&&!ia();)Vm(nt)}function Vm(t){var i=Km(t.alternate,t,nn);t.memoizedProps=t.pendingProps,i===null?Wm(t):nt=i,Nh.current=null}function Wm(t){var i=t;do{var l=i.alternate;if(t=i.return,i.flags&32768){if(l=nE(l,i),l!==null){l.flags&=32767,nt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,nt=null;return}}else if(l=tE(l,i,nn),l!==null){nt=l;return}if(i=i.sibling,i!==null){nt=i;return}nt=i=t}while(i!==null);lt===0&&(lt=5)}function Hi(t,i,l){var c=Ie,d=dn.transition;try{dn.transition=null,Ie=1,cE(t,i,l,c)}finally{dn.transition=d,Ie=c}return null}function cE(t,i,l,c){do Ys();while(Zr!==null);if(Pe&6)throw Error(n(327));l=t.finishedWork;var d=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=l.lanes|l.childLanes;if(Fe(t,p),t===ft&&(nt=ft=null,St=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ru||(ru=!0,qm(on,function(){return Ys(),null})),p=(l.flags&15990)!==0,l.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var v=Ie;Ie=1;var T=Pe;Pe|=4,Nh.current=null,iE(t,l),Lm(l,t),xw(Fc),Hr=!!bc,Fc=bc=null,t.current=l,sE(l),wc(),Pe=T,Ie=v,dn.transition=p}else t.current=l;if(ru&&(ru=!1,Zr=t,iu=d),p=t.pendingLanes,p===0&&(Jr=null),la(l.stateNode),Vt(t,ze()),i!==null)for(c=t.onRecoverableError,l=0;l<i.length;l++)d=i[l],c(d.value,{componentStack:d.stack,digest:d.digest});if(nu)throw nu=!1,t=Ah,Ah=null,t;return iu&1&&t.tag!==0&&Ys(),p=t.pendingLanes,p&1?t===Oh?dl++:(dl=0,Oh=t):dl=0,qr(),null}function Ys(){if(Zr!==null){var t=jr(iu),i=dn.transition,l=Ie;try{if(dn.transition=null,Ie=16>t?16:t,Zr===null)var c=!1;else{if(t=Zr,Zr=null,iu=0,Pe&6)throw Error(n(331));var d=Pe;for(Pe|=4,se=t.current;se!==null;){var p=se,v=p.child;if(se.flags&16){var T=p.deletions;if(T!==null){for(var N=0;N<T.length;N++){var H=T[N];for(se=H;se!==null;){var q=se;switch(q.tag){case 0:case 11:case 15:ul(8,q,p)}var Y=q.child;if(Y!==null)Y.return=q,se=Y;else for(;se!==null;){q=se;var K=q.sibling,ne=q.return;if(Pm(q),q===H){se=null;break}if(K!==null){K.return=ne,se=K;break}se=ne}}}var oe=p.alternate;if(oe!==null){var le=oe.child;if(le!==null){oe.child=null;do{var tt=le.sibling;le.sibling=null,le=tt}while(le!==null)}}se=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,se=v;else e:for(;se!==null;){if(p=se,p.flags&2048)switch(p.tag){case 0:case 11:case 15:ul(9,p,p.return)}var U=p.sibling;if(U!==null){U.return=p.return,se=U;break e}se=p.return}}var A=t.current;for(se=A;se!==null;){v=se;var j=v.child;if(v.subtreeFlags&2064&&j!==null)j.return=v,se=j;else e:for(v=A;se!==null;){if(T=se,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:Za(9,T)}}catch(ae){Xe(T,T.return,ae)}if(T===v){se=null;break e}var X=T.sibling;if(X!==null){X.return=T.return,se=X;break e}se=T.return}}if(Pe=d,qr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ti,t)}catch{}c=!0}return c}finally{Ie=l,dn.transition=i}}return!1}function $m(t,i,l){i=$s(l,i),i=um(t,i,1),t=Qr(t,i,1),i=Dt(),t!==null&&(Fr(t,1,i),Vt(t,i))}function Xe(t,i,l){if(t.tag===3)$m(t,t,l);else for(;i!==null;){if(i.tag===3){$m(i,t,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){t=$s(l,t),t=cm(i,t,1),i=Qr(i,t,1),t=Dt(),i!==null&&(Fr(i,1,t),Vt(i,t));break}}i=i.return}}function hE(t,i,l){var c=t.pingCache;c!==null&&c.delete(i),i=Dt(),t.pingedLanes|=t.suspendedLanes&l,ft===t&&(St&l)===l&&(lt===4||lt===3&&(St&130023424)===St&&500>ze()-xh?zi(t,0):Ph|=l),Vt(t,i)}function Gm(t,i){i===0&&(t.mode&1?(i=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):i=1);var l=Dt();t=fr(t,i),t!==null&&(Fr(t,i,l),Vt(t,l))}function dE(t){var i=t.memoizedState,l=0;i!==null&&(l=i.retryLane),Gm(t,l)}function fE(t,i){var l=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(l=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(i),Gm(t,l)}var Km;Km=function(t,i,l){if(t!==null)if(t.memoizedProps!==i.pendingProps||jt.current)Ht=!0;else{if(!(t.lanes&l)&&!(i.flags&128))return Ht=!1,eE(t,i,l);Ht=!!(t.flags&131072)}else Ht=!1,Ge&&i.flags&1048576&&kp(i,ba,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Xa(t,i),t=i.pendingProps;var d=Fs(i,kt.current);Vs(i,l),d=lh(null,i,c,t,d,l);var p=ah();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,zt(c)?(p=!0,Da(i)):p=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,eh(i),d.updater=Ya,i.stateNode=d,d._reactInternals=i,ph(i,c,t,l),i=yh(null,i,c,!0,p,l)):(i.tag=0,Ge&&p&&Wc(i),Ot(null,i,d,l),i=i.child),i;case 16:c=i.elementType;e:{switch(Xa(t,i),t=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=mE(c),t=kn(c,t),d){case 0:i=_h(null,i,c,t,l);break e;case 1:i=vm(null,i,c,t,l);break e;case 11:i=pm(null,i,c,t,l);break e;case 14:i=mm(null,i,c,kn(c.type,t),l);break e}throw Error(n(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kn(c,d),_h(t,i,c,d,l);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kn(c,d),vm(t,i,c,d,l);case 3:e:{if(wm(i),t===null)throw Error(n(387));c=i.pendingProps,p=i.memoizedState,d=p.element,Mp(t,i),Ba(i,c,null,l);var v=i.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){d=$s(Error(n(423)),i),i=Em(t,i,c,l,d);break e}else if(c!==d){d=$s(Error(n(424)),i),i=Em(t,i,c,l,d);break e}else for(tn=$r(i.stateNode.containerInfo.firstChild),en=i,Ge=!0,Tn=null,l=Dp(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(zs(),c===d){i=mr(t,i,l);break e}Ot(t,i,c,l)}i=i.child}return i;case 5:return Up(i),t===null&&Kc(i),c=i.type,d=i.pendingProps,p=t!==null?t.memoizedProps:null,v=d.children,Uc(c,d)?v=null:p!==null&&Uc(c,p)&&(i.flags|=32),ym(t,i),Ot(t,i,v,l),i.child;case 6:return t===null&&Kc(i),null;case 13:return Sm(t,i,l);case 4:return th(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Hs(i,null,c,l):Ot(t,i,c,l),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kn(c,d),pm(t,i,c,d,l);case 7:return Ot(t,i,i.pendingProps,l),i.child;case 8:return Ot(t,i,i.pendingProps.children,l),i.child;case 12:return Ot(t,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,p=i.memoizedProps,v=d.value,He(ja,c._currentValue),c._currentValue=v,p!==null)if(In(p.value,v)){if(p.children===d.children&&!jt.current){i=mr(t,i,l);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var T=p.dependencies;if(T!==null){v=p.child;for(var N=T.firstContext;N!==null;){if(N.context===c){if(p.tag===1){N=pr(-1,l&-l),N.tag=2;var H=p.updateQueue;if(H!==null){H=H.shared;var q=H.pending;q===null?N.next=N:(N.next=q.next,q.next=N),H.pending=N}}p.lanes|=l,N=p.alternate,N!==null&&(N.lanes|=l),Jc(p.return,l,i),T.lanes|=l;break}N=N.next}}else if(p.tag===10)v=p.type===i.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=l,T=v.alternate,T!==null&&(T.lanes|=l),Jc(v,l,i),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===i){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Ot(t,i,d.children,l),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Vs(i,l),d=cn(d),c=c(d),i.flags|=1,Ot(t,i,c,l),i.child;case 14:return c=i.type,d=kn(c,i.pendingProps),d=kn(c.type,d),mm(t,i,c,d,l);case 15:return gm(t,i,i.type,i.pendingProps,l);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kn(c,d),Xa(t,i),i.tag=1,zt(c)?(t=!0,Da(i)):t=!1,Vs(i,l),lm(i,c,d),ph(i,c,d,l),yh(null,i,c,!0,t,l);case 19:return Im(t,i,l);case 22:return _m(t,i,l)}throw Error(n(156,i.tag))};function qm(t,i){return gs(t,i)}function pE(t,i,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,l,c){return new pE(t,i,l,c)}function Uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mE(t){if(typeof t=="function")return Uh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===b)return 11;if(t===It)return 14}return 2}function ni(t,i){var l=t.alternate;return l===null?(l=fn(t.tag,i,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=i,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,i=t.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function au(t,i,l,c,d,p){var v=2;if(c=t,typeof t=="function")Uh(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case O:return Bi(l.children,d,p,i);case I:v=8,d|=8;break;case k:return t=fn(12,l,i,d|2),t.elementType=k,t.lanes=p,t;case R:return t=fn(13,l,i,d),t.elementType=R,t.lanes=p,t;case Ze:return t=fn(19,l,i,d),t.elementType=Ze,t.lanes=p,t;case be:return uu(l,d,p,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:v=10;break e;case D:v=9;break e;case b:v=11;break e;case It:v=14;break e;case Tt:v=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=fn(v,l,i,d),i.elementType=t,i.type=c,i.lanes=p,i}function Bi(t,i,l,c){return t=fn(7,t,c,i),t.lanes=l,t}function uu(t,i,l,c){return t=fn(22,t,c,i),t.elementType=be,t.lanes=l,t.stateNode={isHidden:!1},t}function jh(t,i,l){return t=fn(6,t,null,i),t.lanes=l,t}function zh(t,i,l){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=l,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function gE(t,i,l,c,d){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=br(0),this.expirationTimes=br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Hh(t,i,l,c,d,p,v,T,N){return t=new gE(t,i,l,T,N),i===1?(i=1,p===!0&&(i|=8)):i=0,p=fn(3,null,null,i),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},eh(p),t}function _E(t,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Se,key:c==null?null:""+c,children:t,containerInfo:i,implementation:l}}function Ym(t){if(!t)return Kr;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(zt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var l=t.type;if(zt(l))return Cp(t,l,i)}return i}function Qm(t,i,l,c,d,p,v,T,N){return t=Hh(l,c,!0,t,d,p,v,T,N),t.context=Ym(null),l=t.current,c=Dt(),d=ei(l),p=pr(c,d),p.callback=i??null,Qr(l,p,d),t.current.lanes=d,Fr(t,d,c),Vt(t,c),t}function cu(t,i,l,c){var d=i.current,p=Dt(),v=ei(d);return l=Ym(l),i.context===null?i.context=l:i.pendingContext=l,i=pr(p,v),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=Qr(d,i,v),t!==null&&(Pn(t,d,v,p),Ha(t,d,v)),v}function hu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<i?l:i}}function Bh(t,i){Xm(t,i),(t=t.alternate)&&Xm(t,i)}var Jm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vh(t){this._internalRoot=t}du.prototype.render=Vh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));cu(t,i,null,null)},du.prototype.unmount=Vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ji(function(){cu(null,t,null,null)}),i[ur]=null}};function du(t){this._internalRoot=t}du.prototype.unstable_scheduleHydration=function(t){if(t){var i=da();t={blockedOn:null,target:t,priority:i};for(var l=0;l<Fn.length&&i!==0&&i<Fn[l].priority;l++);Fn.splice(l,0,t),l===0&&ma(t)}};function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function yE(t,i,l,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var H=hu(v);p.call(H)}}var v=Qm(i,c,t,0,null,!1,!1,"",Zm);return t._reactRootContainer=v,t[ur]=v.current,Qo(t.nodeType===8?t.parentNode:t),ji(),v}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var T=c;c=function(){var H=hu(N);T.call(H)}}var N=Hh(t,0,!1,null,null,!1,!1,"",Zm);return t._reactRootContainer=N,t[ur]=N.current,Qo(t.nodeType===8?t.parentNode:t),ji(function(){cu(i,N,l,c)}),N}function pu(t,i,l,c,d){var p=l._reactRootContainer;if(p){var v=p;if(typeof d=="function"){var T=d;d=function(){var N=hu(v);T.call(N)}}cu(i,v,t,d)}else v=yE(l,i,t,d,c);return hu(v)}ca=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var l=Mr(i.pendingLanes);l!==0&&(Ur(i,l|1),Vt(i,ze()),!(Pe&6)&&(qs=ze()+500,qr()))}break;case 13:ji(function(){var c=fr(t,1);if(c!==null){var d=Dt();Pn(c,t,1,d)}}),Bh(t,1)}},vs=function(t){if(t.tag===13){var i=fr(t,134217728);if(i!==null){var l=Dt();Pn(i,t,134217728,l)}Bh(t,134217728)}},ha=function(t){if(t.tag===13){var i=ei(t),l=fr(t,i);if(l!==null){var c=Dt();Pn(l,t,i,c)}Bh(t,i)}},da=function(){return Ie},fa=function(t,i){var l=Ie;try{return Ie=t,i()}finally{Ie=l}},No=function(t,i,l){switch(i){case"input":if(vo(t,l),i=l.name,l.type==="radio"&&i!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==t&&c.form===t.form){var d=Aa(c);if(!d)throw Error(n(90));ss(c),vo(c,d)}}}break;case"textarea":us(t,l);break;case"select":i=l.value,i!=null&&er(t,!!l.multiple,i,!1)}},ds=Mh,xo=ji;var vE={usingClientEntryPoint:!1,Events:[Zo,Ms,Aa,nr,Po,Mh]},fl={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wE={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lo(t),t===null?null:t.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Ti=mu.inject(wE),Xt=mu}catch{}}return Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE,Wt.createPortal=function(t,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wh(i))throw Error(n(200));return _E(t,i,null,l)},Wt.createRoot=function(t,i){if(!Wh(t))throw Error(n(299));var l=!1,c="",d=Jm;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Hh(t,1,!1,null,null,l,!1,c,d),t[ur]=i.current,Qo(t.nodeType===8?t.parentNode:t),new Vh(i)},Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Lo(i),t=t===null?null:t.stateNode,t},Wt.flushSync=function(t){return ji(t)},Wt.hydrate=function(t,i,l){if(!fu(i))throw Error(n(200));return pu(null,t,i,!0,l)},Wt.hydrateRoot=function(t,i,l){if(!Wh(t))throw Error(n(405));var c=l!=null&&l.hydratedSources||null,d=!1,p="",v=Jm;if(l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),i=Qm(i,null,t,1,l??null,d,!1,p,v),t[ur]=i.current,Qo(t),c)for(t=0;t<c.length;t++)l=c[t],d=l._getVersion,d=d(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,d]:i.mutableSourceEagerHydrationData.push(l,d);return new du(i)},Wt.render=function(t,i,l){if(!fu(i))throw Error(n(200));return pu(null,t,i,!1,l)},Wt.unmountComponentAtNode=function(t){if(!fu(t))throw Error(n(40));return t._reactRootContainer?(ji(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[ur]=null})}),!0):!1},Wt.unstable_batchedUpdates=Mh,Wt.unstable_renderSubtreeIntoContainer=function(t,i,l,c){if(!fu(l))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return pu(t,i,l,!1,c)},Wt.version="18.3.1-next-f1338f8080-20240426",Wt}var lg;function PE(){if(lg)return Kh.exports;lg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kh.exports=NE(),Kh.exports}var ag;function xE(){if(ag)return gu;ag=1;var r=PE();return gu.createRoot=r.createRoot,gu.hydrateRoot=r.hydrateRoot,gu}var AE=xE(),W=Ud();const qi=SE(W);var ml={},ug;function OE(){if(ug)return ml;ug=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.parse=h,ml.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,z){const x=new u,M=S.length;if(M<2)return x;const B=(z==null?void 0:z.decode)||E;let G=0;do{const Q=S.indexOf("=",G);if(Q===-1)break;const ie=S.indexOf(";",G),fe=ie===-1?M:ie;if(Q>fe){G=S.lastIndexOf(";",Q-1)+1;continue}const Te=m(S,G,Q),Se=g(S,Q,Te),O=S.slice(Te,Se);if(x[O]===void 0){let I=m(S,Q+1,fe),k=g(S,fe,I);const P=B(S.slice(I,k));x[O]=P}G=fe+1}while(G<M);return x}function m(S,z,x){do{const M=S.charCodeAt(z);if(M!==32&&M!==9)return z}while(++z<x);return x}function g(S,z,x){for(;z>x;){const M=S.charCodeAt(--z);if(M!==32&&M!==9)return z+1}return x}function y(S,z,x){const M=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const B=M(z);if(!e.test(B))throw new TypeError(`argument val is invalid: ${z}`);let G=S+"="+B;if(!x)return G;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);G+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);G+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);G+="; Path="+x.path}if(x.expires){if(!C(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);G+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(G+="; HttpOnly"),x.secure&&(G+="; Secure"),x.partitioned&&(G+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return G}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function C(S){return o.call(S)==="[object Date]"}return ml}OE();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cg="popstate";function DE(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return fd("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Al(o)}return ME(e,n,null,r)}function Qe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LE(){return Math.random().toString(36).substring(2,10)}function hg(r,e){return{usr:r.state,key:r.key,idx:e}}function fd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||LE()}}function Al({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function uo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ME(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function C(){m="POP";let B=E(),G=B==null?null:B-y;y=B,g&&g({action:m,location:M.location,delta:G})}function S(B,G){m="PUSH";let Q=fd(M.location,B,G);y=E()+1;let ie=hg(Q,y),fe=M.createHref(Q);try{h.pushState(ie,"",fe)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(fe)}u&&g&&g({action:m,location:M.location,delta:1})}function z(B,G){m="REPLACE";let Q=fd(M.location,B,G);y=E();let ie=hg(Q,y),fe=M.createHref(Q);h.replaceState(ie,"",fe),u&&g&&g({action:m,location:M.location,delta:0})}function x(B){let G=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof B=="string"?B:Al(B);return Q=Q.replace(/ $/,"%20"),Qe(G,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,G)}let M={get action(){return m},get location(){return r(o,h)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(cg,C),g=B,()=>{o.removeEventListener(cg,C),g=null}},createHref(B){return e(o,B)},createURL:x,encodeLocation(B){let G=x(B);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:z,go(B){return h.go(B)}};return M}function j_(r,e,n="/"){return bE(r,e,n,!1)}function bE(r,e,n,s){let o=typeof e=="string"?uo(e):e,u=hi(o.pathname||"/",n);if(u==null)return null;let h=z_(r);FE(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=qE(u);m=GE(h[g],y,s)}return m}function z_(r,e=[],n=[],s=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Qe(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Cr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Qe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),z_(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:WE(y,u.index),routesMeta:E})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of H_(u.path))o(u,h,g)}),e}function H_(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=H_(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function FE(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:$E(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var UE=/^:[\w-]+$/,jE=3,zE=2,HE=1,BE=10,VE=-2,dg=r=>r==="*";function WE(r,e){let n=r.split("/"),s=n.length;return n.some(dg)&&(s+=VE),e&&(s+=zE),n.filter(o=>!dg(o)).reduce((o,u)=>o+(UE.test(u)?jE:u===""?HE:BE),s)}function $E(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function GE(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",C=Pu({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!C&&y&&n&&!s[s.length-1].route.index&&(C=Pu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!C)return null;Object.assign(o,C.params),h.push({params:o,pathname:Cr([u,C.pathname]),pathnameBase:JE(Cr([u,C.pathnameBase])),route:S}),C.pathnameBase!=="/"&&(u=Cr([u,C.pathnameBase]))}return h}function Pu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=KE(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:C},S)=>{if(E==="*"){let x=m[S]||"";h=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const z=m[S];return C&&!z?y[E]=void 0:y[E]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function KE(r,e=!1,n=!0){Yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function qE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function hi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function YE(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?uo(r):r;return{pathname:n?n.startsWith("/")?n:QE(n,e):e,search:ZE(s),hash:e0(o)}}function QE(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qh(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XE(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B_(r){let e=XE(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function V_(r,e,n,s=!1){let o;typeof r=="string"?o=uo(r):(o={...r},Qe(!o.pathname||!o.pathname.includes("?"),Qh("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Qh("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Qh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let C=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),C-=1;o.pathname=S.join("/")}m=C>=0?e[C]:"/"}let g=YE(o,m),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Cr=r=>r.join("/").replace(/\/\/+/g,"/"),JE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,e0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function t0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var W_=["POST","PUT","PATCH","DELETE"];new Set(W_);var n0=["GET",...W_];new Set(n0);var co=W.createContext(null);co.displayName="DataRouter";var tc=W.createContext(null);tc.displayName="DataRouterState";var $_=W.createContext({isTransitioning:!1});$_.displayName="ViewTransition";var r0=W.createContext(new Map);r0.displayName="Fetchers";var i0=W.createContext(null);i0.displayName="Await";var Xn=W.createContext(null);Xn.displayName="Navigation";var Vl=W.createContext(null);Vl.displayName="Location";var Pr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var jd=W.createContext(null);jd.displayName="RouteError";function s0(r,{relative:e}={}){Qe(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=W.useContext(Xn),{hash:o,pathname:u,search:h}=$l(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Cr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Wl(){return W.useContext(Vl)!=null}function ns(){return Qe(Wl(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Vl).location}var G_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function K_(r){W.useContext(Xn).static||W.useLayoutEffect(r)}function zd(){let{isDataRoute:r}=W.useContext(Pr);return r?y0():o0()}function o0(){Qe(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let r=W.useContext(co),{basename:e,navigator:n}=W.useContext(Xn),{matches:s}=W.useContext(Pr),{pathname:o}=ns(),u=JSON.stringify(B_(s)),h=W.useRef(!1);return K_(()=>{h.current=!0}),W.useCallback((g,y={})=>{if(Yn(h.current,G_),!h.current)return;if(typeof g=="number"){n.go(g);return}let E=V_(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Cr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}W.createContext(null);function $l(r,{relative:e}={}){let{matches:n}=W.useContext(Pr),{pathname:s}=ns(),o=JSON.stringify(B_(n));return W.useMemo(()=>V_(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function l0(r,e){return q_(r,e)}function q_(r,e,n,s){var G;Qe(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Xn),{matches:u}=W.useContext(Pr),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let Q=E&&E.path||"";Y_(g,!E||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let C=ns(),S;if(e){let Q=typeof e=="string"?uo(e):e;Qe(y==="/"||((G=Q.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),S=Q}else S=C;let z=S.pathname||"/",x=z;if(y!=="/"){let Q=y.replace(/^\//,"").split("/");x="/"+z.replace(/^\//,"").split("/").slice(Q.length).join("/")}let M=j_(r,{pathname:x});Yn(E||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Yn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=d0(M&&M.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:Cr([y,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?y:Cr([y,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),u,n,s);return e&&B?W.createElement(Vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},B):B}function a0(){let r=_0(),e=t0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:o},n):null,h)}var u0=W.createElement(a0,null),c0=class extends W.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?W.createElement(Pr.Provider,{value:this.props.routeContext},W.createElement(jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h0({routeContext:r,match:e,children:n}){let s=W.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Pr.Provider,{value:r},n)}function d0(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Qe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:C}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let C,S=!1,z=null,x=null;n&&(C=u&&y.route.id?u[y.route.id]:void 0,z=y.route.errorElement||u0,h&&(m<0&&E===0?(Y_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,x=null):m===E&&(S=!0,x=y.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,E+1)),B=()=>{let G;return C?G=z:S?G=x:y.route.Component?G=W.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=g,W.createElement(h0,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?W.createElement(c0,{location:n.location,revalidation:n.revalidation,component:z,error:C,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):B()},null)}function Hd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f0(r){let e=W.useContext(co);return Qe(e,Hd(r)),e}function p0(r){let e=W.useContext(tc);return Qe(e,Hd(r)),e}function m0(r){let e=W.useContext(Pr);return Qe(e,Hd(r)),e}function Bd(r){let e=m0(r),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function g0(){return Bd("useRouteId")}function _0(){var s;let r=W.useContext(jd),e=p0("useRouteError"),n=Bd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function y0(){let{router:r}=f0("useNavigate"),e=Bd("useNavigate"),n=W.useRef(!1);return K_(()=>{n.current=!0}),W.useCallback(async(o,u={})=>{Yn(n.current,G_),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var fg={};function Y_(r,e,n){!e&&!fg[r]&&(fg[r]=!0,Yn(!1,n))}W.memo(v0);function v0({routes:r,future:e,state:n}){return q_(r,void 0,n,e)}function Sl(r){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function w0({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Qe(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=W.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=uo(n));let{pathname:g="/",search:y="",hash:E="",state:C=null,key:S="default"}=n,z=W.useMemo(()=>{let x=hi(g,h);return x==null?null:{location:{pathname:x,search:y,hash:E,state:C,key:S},navigationType:s}},[h,g,y,E,C,S,s]);return Yn(z!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:W.createElement(Xn.Provider,{value:m},W.createElement(Vl.Provider,{children:e,value:z}))}function E0({children:r,location:e}){return l0(pd(r),e)}function pd(r,e=[]){let n=[];return W.Children.forEach(r,(s,o)=>{if(!W.isValidElement(s))return;let u=[...e,o];if(s.type===W.Fragment){n.push.apply(n,pd(s.props.children,u));return}Qe(s.type===Sl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=pd(s.props.children,u)),n.push(h)}),n}var Su="get",Cu="application/x-www-form-urlencoded";function nc(r){return r!=null&&typeof r.tagName=="string"}function S0(r){return nc(r)&&r.tagName.toLowerCase()==="button"}function C0(r){return nc(r)&&r.tagName.toLowerCase()==="form"}function I0(r){return nc(r)&&r.tagName.toLowerCase()==="input"}function T0(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function k0(r,e){return r.button===0&&(!e||e==="_self")&&!T0(r)}var _u=null;function R0(){if(_u===null)try{new FormData(document.createElement("form"),0),_u=!1}catch{_u=!0}return _u}var N0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xh(r){return r!=null&&!N0.has(r)?(Yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):r}function P0(r,e){let n,s,o,u,h;if(C0(r)){let m=r.getAttribute("action");s=m?hi(m,e):null,n=r.getAttribute("method")||Su,o=Xh(r.getAttribute("enctype"))||Cu,u=new FormData(r)}else if(S0(r)||I0(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?hi(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Su,o=Xh(r.getAttribute("formenctype"))||Xh(m.getAttribute("enctype"))||Cu,u=new FormData(m,r),!R0()){let{name:y,type:E,value:C}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,C)}}else{if(nc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Su,s=null,o=Cu,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Vd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function x0(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A0(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function O0(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await x0(u,n);return h.links?h.links():[]}return[]}));return b0(s.flat(1).filter(A0).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pg(r,e,n,s,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var C;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=n[0])==null?void 0:C.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function D0(r,e){return L0(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function L0(r){return[...new Set(r)]}function M0(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function b0(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(M0(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function F0(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function U0(){let r=W.useContext(co);return Vd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function j0(){let r=W.useContext(tc);return Vd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Wd=W.createContext(void 0);Wd.displayName="FrameworkContext";function Q_(){let r=W.useContext(Wd);return Vd(r,"You must render this element inside a <HydratedRouter> element"),r}function z0(r,e){let n=W.useContext(Wd),[s,o]=W.useState(!1),[u,h]=W.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:C}=e,S=W.useRef(null);W.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let M=G=>{G.forEach(Q=>{h(Q.isIntersecting)})},B=new IntersectionObserver(M,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[r]),W.useEffect(()=>{if(s){let M=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(M)}}},[s]);let z=()=>{o(!0)},x=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:gl(m,z),onBlur:gl(g,x),onMouseEnter:gl(y,z),onMouseLeave:gl(E,x),onTouchStart:gl(C,z)}]:[!1,S,{}]}function gl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function H0({page:r,...e}){let{router:n}=U0(),s=W.useMemo(()=>j_(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?W.createElement(V0,{page:r,matches:s,...e}):null}function B0(r){let{manifest:e,routeModules:n}=Q_(),[s,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return O0(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function V0({page:r,matches:e,...n}){let s=ns(),{manifest:o,routeModules:u}=Q_(),{loaderData:h,matches:m}=j0(),g=W.useMemo(()=>pg(r,e,m,o,s,"data"),[r,e,m,o,s]),y=W.useMemo(()=>pg(r,e,m,o,s,"assets"),[r,e,m,o,s]),E=W.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,x=!1;if(e.forEach(B=>{var Q;let G=o.routes[B.route.id];!G||!G.hasLoader||(!g.some(ie=>ie.route.id===B.route.id)&&B.route.id in h&&((Q=u[B.route.id])!=null&&Q.shouldRevalidate)||G.hasClientLoader?x=!0:z.add(B.route.id))}),z.size===0)return[];let M=F0(r);return x&&z.size>0&&M.searchParams.set("_routes",e.filter(B=>z.has(B.route.id)).map(B=>B.route.id).join(",")),[M.pathname+M.search]},[h,s,o,g,e,r,u]),C=W.useMemo(()=>D0(y,o),[y,o]),S=B0(y);return W.createElement(W.Fragment,null,E.map(z=>W.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),C.map(z=>W.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),S.map(({key:z,link:x})=>W.createElement("link",{key:z,...x})))}function W0(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var X_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X_&&(window.__reactRouterVersion="7.1.3")}catch{}function $0({basename:r,children:e,window:n}){let s=W.useRef();s.current==null&&(s.current=DE({window:n,v5Compat:!0}));let o=s.current,[u,h]=W.useState({action:o.action,location:o.location}),m=W.useCallback(g=>{W.startTransition(()=>h(g))},[h]);return W.useLayoutEffect(()=>o.listen(m),[o,m]),W.createElement(w0,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z_=W.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:y,preventScrollReset:E,viewTransition:C,...S},z){let{basename:x}=W.useContext(Xn),M=typeof y=="string"&&J_.test(y),B,G=!1;if(typeof y=="string"&&M&&(B=y,X_))try{let k=new URL(window.location.href),P=y.startsWith("//")?new URL(k.protocol+y):new URL(y),D=hi(P.pathname,x);P.origin===k.origin&&D!=null?y=D+P.search+P.hash:G=!0}catch{Yn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=s0(y,{relative:o}),[ie,fe,Te]=z0(s,S),Se=Y0(y,{replace:h,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:C});function O(k){e&&e(k),k.defaultPrevented||Se(k)}let I=W.createElement("a",{...S,...Te,href:B||Q,onClick:G||u?e:O,ref:W0(z,fe),target:g,"data-discover":!M&&n==="render"?"true":void 0});return ie&&!M?W.createElement(W.Fragment,null,I,W.createElement(H0,{page:Q})):I});Z_.displayName="Link";var G0=W.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...y},E){let C=$l(h,{relative:y.relative}),S=ns(),z=W.useContext(tc),{navigator:x,basename:M}=W.useContext(Xn),B=z!=null&&eS(C)&&m===!0,G=x.encodeLocation?x.encodeLocation(C).pathname:C.pathname,Q=S.pathname,ie=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),ie=ie?ie.toLowerCase():null,G=G.toLowerCase()),ie&&M&&(ie=hi(ie,M)||ie);const fe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Te=Q===G||!o&&Q.startsWith(G)&&Q.charAt(fe)==="/",Se=ie!=null&&(ie===G||!o&&ie.startsWith(G)&&ie.charAt(G.length)==="/"),O={isActive:Te,isPending:Se,isTransitioning:B},I=Te?e:void 0,k;typeof s=="function"?k=s(O):k=[s,Te?"active":null,Se?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(O):u;return W.createElement(Z_,{...y,"aria-current":I,className:k,ref:E,style:P,to:h,viewTransition:m},typeof g=="function"?g(O):g)});G0.displayName="NavLink";var K0=W.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Su,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:C,...S},z)=>{let x=J0(),M=Z0(m,{relative:y}),B=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&J_.test(m),Q=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,Te=(fe==null?void 0:fe.getAttribute("formmethod"))||h;x(fe||ie.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:C})};return W.createElement("form",{ref:z,method:B,action:M,onSubmit:s?g:Q,...S,"data-discover":!G&&r==="render"?"true":void 0})});K0.displayName="Form";function q0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ey(r){let e=W.useContext(co);return Qe(e,q0(r)),e}function Y0(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=zd(),g=ns(),y=$l(r,{relative:u});return W.useCallback(E=>{if(k0(E,e)){E.preventDefault();let C=n!==void 0?n:Al(g)===Al(y);m(r,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,y,n,s,e,r,o,u,h])}var Q0=0,X0=()=>`__${String(++Q0)}__`;function J0(){let{router:r}=ey("useSubmit"),{basename:e}=W.useContext(Xn),n=g0();return W.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:y}=P0(s,e);if(o.navigate===!1){let E=o.fetcherKey||X0();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Z0(r,{relative:e}={}){let{basename:n}=W.useContext(Xn),s=W.useContext(Pr);Qe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...$l(r||".",{relative:e})},h=ns();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(C=>C).forEach(C=>m.append("index",C));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Cr([n,u.pathname])),Al(u)}function eS(r,e={}){let n=W.useContext($_);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ey("useViewTransitionState"),o=$l(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=hi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=hi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pu(o.pathname,h)!=null||Pu(o.pathname,u)!=null}new TextEncoder;const tS=()=>{};var mg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(r,e){if(!r)throw ho(e)},ho=function(r){return new Error("Firebase Database ("+ty.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},$d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,C=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,z=y&63;g||(z=64,h||(S=64)),s.push(n[E],n[C],n[S],n[z])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ny(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):nS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const C=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||C==null)throw new rS;const S=u<<2|m>>4;if(s.push(S),y!==64){const z=m<<4&240|y>>2;if(s.push(z),C!==64){const x=y<<6&192|C;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ry=function(r){const e=ny(r);return $d.encodeByteArray(e,!0)},xu=function(r){return ry(r).replace(/\./g,"")},Au=function(r){try{return $d.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r){return iy(void 0,r)}function iy(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!sS(n)||(r[n]=iy(r[n],e[n]));return r}function sS(r){return r!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=()=>oS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof mg>"u")return;const r=mg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Au(r[1]);return e&&JSON.parse(e)},Gd=()=>{try{return tS()||lS()||aS()||uS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sy=r=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},oy=r=>{const e=sy(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ly=()=>{var r;return(r=Gd())===null||r===void 0?void 0:r.config},ay=r=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xu(JSON.stringify(n)),xu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function cS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dS(){const r=Mt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function fS(){return ty.NODE_ADMIN===!0}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function mS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="FirebaseError";class xr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=gS,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?_S(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new xr(o,m,s)}}function _S(r,e){return r.replace(yS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const yS=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){return JSON.parse(r)}function _t(r){return JSON.stringify(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=function(r){let e={},n={},s={},o="";try{const u=r.split(".");e=Ol(Au(u[0])||""),n=Ol(Au(u[1])||""),o=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:o}},vS=function(r){const e=hy(r),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},wS=function(r){const e=hy(r).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function ro(r,e){if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}function md(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ou(r,e,n){const s={};for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(s[o]=e.call(n,r[o],o,r));return s}function di(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(gg(u)&&gg(h)){if(!di(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function gg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let C=0;C<16;C++)s[C]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let C=0;C<16;C++)s[C]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let C=16;C<80;C++){const S=s[C-3]^s[C-8]^s[C-14]^s[C-16];s[C]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],y,E;for(let C=0;C<80;C++){C<40?C<20?(y=m^u&(h^m),E=1518500249):(y=u^h^m,E=1859775393):C<60?(y=u&h|m&(u|h),E=2400959708):(y=u^h^m,E=3395469782);const S=(o<<5|o>>>27)+y+g+E+s[C]&4294967295;g=m,m=h,h=(u<<30|u>>>2)&4294967295,u=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let o=0;const u=this.buf_;let h=this.inbuf_;for(;o<n;){if(h===0)for(;o<=s;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(u[h]=e.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}else for(;o<n;)if(u[h]=e[o],++h,++o,h===this.blockSize){this.compress_(u),h=0;break}}this.inbuf_=h,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[o]>>u&255,++s;return e}}function SS(r,e){const n=new CS(r,e);return n.subscribe.bind(n)}class CS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");IS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Jh),o.error===void 0&&(o.error=Jh),o.complete===void 0&&(o.complete=Jh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Jh(){}function qd(r,e){return`${r} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);if(o>=55296&&o<=56319){const u=o-55296;s++,J(s<r.length,"Surrogate pair missing trail surrogate.");const h=r.charCodeAt(s)-56320;o=65536+(u<<10)+h}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ic=function(r){let e=0;for(let n=0;n<r.length;n++){const s=r.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class fi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rc;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NS(e))try{this.getOrInitializeService({instanceIdentifier:Vi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vi){return this.instances.has(e)}getOptions(e=Vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vi){return this.component?this.component.multipleInstances?e:Vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RS(r){return r===Vi?void 0:r}function NS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const xS={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},AS=De.INFO,OS={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},DS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=OS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sc{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const LS=(r,e)=>e.some(n=>r instanceof n);let _g,yg;function MS(){return _g||(_g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return yg||(yg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dy=new WeakMap,gd=new WeakMap,fy=new WeakMap,Zh=new WeakMap,Yd=new WeakMap;function FS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ai(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&dy.set(n,r)}).catch(()=>{}),Yd.set(e,r),e}function US(r){if(gd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});gd.set(r,e)}let _d={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return gd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fy.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function jS(r){_d=r(_d)}function zS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(ed(this),e,...n);return fy.set(s,e.sort?e.sort():[e]),ai(s)}:bS().includes(r)?function(...e){return r.apply(ed(this),e),ai(dy.get(this))}:function(...e){return ai(r.apply(ed(this),e))}}function HS(r){return typeof r=="function"?zS(r):(r instanceof IDBTransaction&&US(r),LS(r,MS())?new Proxy(r,_d):r)}function ai(r){if(r instanceof IDBRequest)return FS(r);if(Zh.has(r))return Zh.get(r);const e=HS(r);return e!==r&&(Zh.set(r,e),Yd.set(e,r)),e}const ed=r=>Yd.get(r);function BS(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ai(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ai(h.result),g.oldVersion,g.newVersion,ai(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const VS=["get","getKey","getAll","getAllKeys","count"],WS=["put","add","delete","clear"],td=new Map;function vg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=WS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VS.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return td.set(e,u),u}jS(r=>({...r,get:(e,n,s)=>vg(e,n)||r.get(e,n,s),has:(e,n)=>!!vg(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yd="@firebase/app",wg="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new sc("@firebase/app"),KS="@firebase/app-compat",qS="@firebase/analytics-compat",YS="@firebase/analytics",QS="@firebase/app-check-compat",XS="@firebase/app-check",JS="@firebase/auth",ZS="@firebase/auth-compat",eC="@firebase/database",tC="@firebase/data-connect",nC="@firebase/database-compat",rC="@firebase/functions",iC="@firebase/functions-compat",sC="@firebase/installations",oC="@firebase/installations-compat",lC="@firebase/messaging",aC="@firebase/messaging-compat",uC="@firebase/performance",cC="@firebase/performance-compat",hC="@firebase/remote-config",dC="@firebase/remote-config-compat",fC="@firebase/storage",pC="@firebase/storage-compat",mC="@firebase/firestore",gC="@firebase/vertexai",_C="@firebase/firestore-compat",yC="firebase",vC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",wC={[yd]:"fire-core",[KS]:"fire-core-compat",[YS]:"fire-analytics",[qS]:"fire-analytics-compat",[XS]:"fire-app-check",[QS]:"fire-app-check-compat",[JS]:"fire-auth",[ZS]:"fire-auth-compat",[eC]:"fire-rtdb",[tC]:"fire-data-connect",[nC]:"fire-rtdb-compat",[rC]:"fire-fn",[iC]:"fire-fn-compat",[sC]:"fire-iid",[oC]:"fire-iid-compat",[lC]:"fire-fcm",[aC]:"fire-fcm-compat",[uC]:"fire-perf",[cC]:"fire-perf-compat",[hC]:"fire-rc",[dC]:"fire-rc-compat",[fC]:"fire-gcs",[pC]:"fire-gcs-compat",[mC]:"fire-fst",[_C]:"fire-fst-compat",[gC]:"fire-vertex","fire-js":"fire-js",[yC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Map,EC=new Map,wd=new Map;function Eg(r,e){try{r.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qi(r){const e=r.name;if(wd.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;wd.set(e,r);for(const n of Du.values())Eg(n,r);for(const n of EC.values())Eg(n,r);return!0}function oc(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Gl("app","Firebase",SC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=vC;function py(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:vd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ui.create("bad-app-name",{appName:String(o)});if(n||(n=ly()),!n)throw ui.create("no-options");const u=Du.get(o);if(u){if(di(n,u.options)&&di(s,u.config))return u;throw ui.create("duplicate-app",{appName:o})}const h=new PS(o);for(const g of wd.values())h.addComponent(g);const m=new CC(n,s,h);return Du.set(o,m),m}function Qd(r=vd){const e=Du.get(r);if(!e&&r===vd&&ly())return py();if(!e)throw ui.create("no-app",{appName:r});return e}function Kn(r,e,n){var s;let o=(s=wC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(m.join(" "));return}Qi(new fi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firebase-heartbeat-database",TC=1,Dl="firebase-heartbeat-store";let nd=null;function my(){return nd||(nd=BS(IC,TC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ui.create("idb-open",{originalErrorMessage:r.message})})),nd}async function kC(r){try{const n=(await my()).transaction(Dl),s=await n.objectStore(Dl).get(gy(r));return await n.done,s}catch(e){if(e instanceof xr)Tr.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function Sg(r,e){try{const s=(await my()).transaction(Dl,"readwrite");await s.objectStore(Dl).put(e,gy(r)),await s.done}catch(n){if(n instanceof xr)Tr.warn(n.message);else{const s=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(s.message)}}}function gy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=1024,NC=30;class PC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Cg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>NC){const h=OC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cg(),{heartbeatsToSend:s,unsentEntries:o}=xC(this._heartbeatsCache.heartbeats),u=xu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Tr.warn(n),""}}}function Cg(){return new Date().toISOString().substring(0,10)}function xC(r,e=RC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Ig(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ig(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class AC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?mS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ig(r){return xu(JSON.stringify({version:2,heartbeats:r})).length}function OC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(r){Qi(new fi("platform-logger",e=>new $S(e),"PRIVATE")),Qi(new fi("heartbeat",e=>new PC(e),"PRIVATE")),Kn(yd,wg,r),Kn(yd,wg,"esm2017"),Kn("fire-js","")}DC("");var Tg={};const kg="@firebase/database",Rg="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y="";function LC(r){_y=r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_t(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ol(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ar(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MC(e)}}catch{}return new bC},$i=yy("localStorage"),FC=yy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new sc("@firebase/database"),UC=function(){let r=1;return function(){return r++}}(),vy=function(r){const e=TS(r),n=new ES;n.update(e);const s=n.digest();return $d.encodeByteArray(s)},Kl=function(...r){let e="";for(let n=0;n<r.length;n++){const s=r[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Kl.apply(null,s):typeof s=="object"?e+=_t(s):e+=s,e+=" "}return e};let Cl=null,Ng=!0;const jC=function(r,e){J(!0,"Can't turn on custom loggers persistently."),Xs.logLevel=De.VERBOSE,Cl=Xs.log.bind(Xs)},xt=function(...r){if(Ng===!0&&(Ng=!1,Cl===null&&FC.get("logging_enabled")===!0&&jC()),Cl){const e=Kl.apply(null,r);Cl(e)}},ql=function(r){return function(...e){xt(r,...e)}},Ed=function(...r){const e="FIREBASE INTERNAL ERROR: "+Kl(...r);Xs.error(e)},kr=function(...r){const e=`FIREBASE FATAL ERROR: ${Kl(...r)}`;throw Xs.error(e),new Error(e)},Yt=function(...r){const e="FIREBASE WARNING: "+Kl(...r);Xs.warn(e)},zC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wy=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},HC=function(r){if(document.readyState==="complete")r();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},io="[MIN_NAME]",Xi="[MAX_NAME]",po=function(r,e){if(r===e)return 0;if(r===io||e===Xi)return-1;if(e===io||r===Xi)return 1;{const n=Pg(r),s=Pg(e);return n!==null?s!==null?n-s===0?r.length-e.length:n-s:-1:s!==null?1:r<e?-1:1}},BC=function(r,e){return r===e?0:r<e?-1:1},_l=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+_t(e))},Xd=function(r){if(typeof r!="object"||r===null)return _t(r);const e=[];for(const s in r)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=_t(e[s]),n+=":",n+=Xd(r[e[s]]);return n+="}",n},Ey=function(r,e){const n=r.length;if(n<=e)return[r];const s=[];for(let o=0;o<n;o+=e)o+e>n?s.push(r.substring(o,n)):s.push(r.substring(o,o+e));return s};function Qt(r,e){for(const n in r)r.hasOwnProperty(n)&&e(n,r[n])}const Sy=function(r){J(!wy(r),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let o,u,h,m,g;r===0?(u=0,h=0,o=1/r===-1/0?1:0):(o=r<0,r=Math.abs(r),r>=Math.pow(2,1-s)?(m=Math.min(Math.floor(Math.log(r)/Math.LN2),s),u=m+s,h=Math.round(r*Math.pow(2,n-m)-Math.pow(2,n))):(u=0,h=Math.round(r/Math.pow(2,1-s-n))));const y=[];for(g=n;g;g-=1)y.push(h%2?1:0),h=Math.floor(h/2);for(g=e;g;g-=1)y.push(u%2?1:0),u=Math.floor(u/2);y.push(o?1:0),y.reverse();const E=y.join("");let C="";for(g=0;g<64;g+=8){let S=parseInt(E.substr(g,8),2).toString(16);S.length===1&&(S="0"+S),C=C+S}return C.toLowerCase()},VC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},WC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $C(r,e){let n="Unknown Error";r==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?n="Client doesn't have permission to access the desired data.":r==="unavailable"&&(n="The service is unavailable");const s=new Error(r+" at "+e._path.toString()+": "+n);return s.code=r.toUpperCase(),s}const GC=new RegExp("^-?(0*)\\d{1,10}$"),KC=-2147483648,qC=2147483647,Pg=function(r){if(GC.test(r)){const e=Number(r);if(e>=KC&&e<=qC)return e}return null},mo=function(r){try{r()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Yt("Exception was thrown by user callback.",n),e},Math.floor(0))}},YC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Il=function(r,e){const n=setTimeout(r,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,pn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(xt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yt(e)}}class Iu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Iu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="5",Cy="v",Iy="s",Ty="r",ky="f",Ry=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ny="ls",Py="p",Sd="ac",xy="websocket",Ay="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,s,o,u=!1,h="",m=!1,g=!1,y=null){this.secure=n,this.namespace=s,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=y,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function JC(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function Dy(r,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let s;if(e===xy)s=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(e===Ay)s=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);JC(r)&&(n.ns=r.namespace);const o=[];return Qt(n,(u,h)=>{o.push(u+"="+h)}),s+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.counters_={}}incrementCounter(e,n=1){Ar(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iS(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd={},id={};function Zd(r){const e=r.toString();return rd[e]||(rd[e]=new ZC),rd[e]}function eI(r,e){const n=r.toString();return id[n]||(id[n]=e()),id[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<s.length;++o)s[o]&&mo(()=>{this.onMessage_(s[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="start",nI="close",rI="pLPCommand",iI="pRTLPCB",Ly="id",My="pw",by="ser",sI="cb",oI="seg",lI="ts",aI="d",uI="dframe",Fy=1870,Uy=30,cI=Fy-Uy,hI=25e3,dI=3e4;class Qs{constructor(e,n,s,o,u,h,m){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ql(e),this.stats_=Zd(n),this.urlFn=g=>(this.appCheckToken&&(g[Sd]=this.appCheckToken),Dy(n,Ay,g))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new tI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(dI)),HC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ef((...u)=>{const[h,m,g,y,E]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===xg)this.id=m,this.password=g;else if(h===nI)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...u)=>{const[h,m]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const s={};s[xg]="t",s[by]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[sI]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Cy]=Jd,this.transportSessionId&&(s[Iy]=this.transportSessionId),this.lastSessionId&&(s[Ny]=this.lastSessionId),this.applicationId&&(s[Py]=this.applicationId),this.appCheckToken&&(s[Sd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ry.test(location.hostname)&&(s[Ty]=ky);const o=this.urlFn(s);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return Qs.forceAllow_?!0:!Qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VC()&&!WC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=_t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=ry(n),o=Ey(s,cI);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[uI]="t",s[Ly]=e,s[My]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=_t(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ef{constructor(e,n,s,o){this.onDisconnect=s,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=UC(),window[rI+this.uniqueCallbackIdentifier]=e,window[iI+this.uniqueCallbackIdentifier]=n,this.myIFrame=ef.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){xt("frame writing exception"),m.stack&&xt(m.stack),xt(m)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||xt("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ly]=this.myID,e[My]=this.myPW,e[by]=this.currentSerial;let n=this.urlFn(e),s="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Uy+s.length<=Fy;){const h=this.pendingSegs.shift();s=s+"&"+oI+o+"="+h.seg+"&"+lI+o+"="+h.ts+"&"+aI+o+"="+h.d,o++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(s,Math.floor(hI)),u=()=>{clearTimeout(o),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const o=s.readyState;(!o||o==="loaded"||o==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{xt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=16384,pI=45e3;let Lu=null;typeof MozWebSocket<"u"?Lu=MozWebSocket:typeof WebSocket<"u"&&(Lu=WebSocket);class Gn{constructor(e,n,s,o,u,h,m){this.connId=e,this.applicationId=s,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ql(this.connId),this.stats_=Zd(n),this.connURL=Gn.connectionURL_(n,h,m,o,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,o,u){const h={};return h[Cy]=Jd,typeof location<"u"&&location.hostname&&Ry.test(location.hostname)&&(h[Ty]=ky),n&&(h[Iy]=n),s&&(h[Ny]=s),o&&(h[Sd]=o),u&&(h[Py]=u),Dy(e,xy,h)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let s;fS(),this.mySock=new Lu(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const o=s.message||s.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Gn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Lu!==null&&!Gn.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Ol(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=_t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Ey(n,fI);s.length>1&&this.sendString_(String(s.length));for(let o=0;o<s.length;o++)this.sendString_(s[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gn.responsesRequiredToBeHealthy=2;Gn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static get ALL_TRANSPORTS(){return[Qs,Gn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Gn.isAvailable();let s=n&&!Gn.previouslyFailed();if(e.webSocketOnly&&(n||Yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Gn];else{const o=this.transports_=[];for(const u of Ll.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Ll.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ll.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6e4,gI=5e3,_I=10*1024,yI=100*1024,sd="t",Ag="d",vI="s",Og="r",wI="e",Dg="o",Lg="a",Mg="n",bg="p",EI="h";class SI{constructor(e,n,s,o,u,h,m,g,y,E){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ql("c:"+this.id+":"),this.transportManager_=new Ll(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Il(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>yI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_I?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sd in e){const n=e[sd];n===Lg?this.upgradeIfSecondaryHealthy_():n===Og?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Dg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=_l("t",e),s=_l("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:bg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Mg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=_l("t",e),s=_l("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=_l(sd,e);if(Ag in e){const s=e[Ag];if(n===EI){const o=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Mg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vI?this.onConnectionShutdown_(s):n===Og?this.onReset_(s):n===wI?Ed("Server Error: "+s):n===Dg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ed("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jd!==s&&Yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),Il(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Il(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(gI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:bg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{put(e,n,s,o){}merge(e,n,s,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let o=0;o<s.length;o++)s[o].callback.apply(s[o].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const o=this.getInitialEvent(e);o&&n.apply(s,o)}off(e,n,s){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===n&&(!s||s===o[u].context)){o.splice(u,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends zy{static getInstance(){return new Mu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=32,Ug=768;class Ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[s]=this.pieces_[o],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Le(){return new Ue("")}function we(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function pi(r){return r.pieces_.length-r.pieceNum_}function Be(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new Ue(r.pieces_,e)}function Hy(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function CI(r){let e="";for(let n=r.pieceNum_;n<r.pieces_.length;n++)r.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(r.pieces_[n])));return e||"/"}function By(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function Vy(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let n=r.pieceNum_;n<r.pieces_.length-1;n++)e.push(r.pieces_[n]);return new Ue(e,0)}function at(r,e){const n=[];for(let s=r.pieceNum_;s<r.pieces_.length;s++)n.push(r.pieces_[s]);if(e instanceof Ue)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let o=0;o<s.length;o++)s[o].length>0&&n.push(s[o])}return new Ue(n,0)}function Ce(r){return r.pieceNum_>=r.pieces_.length}function Kt(r,e){const n=we(r),s=we(e);if(n===null)return e;if(n===s)return Kt(Be(r),Be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function tf(r,e){if(pi(r)!==pi(e))return!1;for(let n=r.pieceNum_,s=e.pieceNum_;n<=r.pieces_.length;n++,s++)if(r.pieces_[n]!==e.pieces_[s])return!1;return!0}function xn(r,e){let n=r.pieceNum_,s=e.pieceNum_;if(pi(r)>pi(e))return!1;for(;n<r.pieces_.length;){if(r.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class II{constructor(e,n){this.errorPrefix_=n,this.parts_=By(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=ic(this.parts_[s]);Wy(this)}}function TI(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=ic(e),Wy(r)}function kI(r){const e=r.parts_.pop();r.byteLength_-=ic(e),r.parts_.length>0&&(r.byteLength_-=1)}function Wy(r){if(r.byteLength_>Ug)throw new Error(r.errorPrefix_+"has a key path longer than "+Ug+" bytes ("+r.byteLength_+").");if(r.parts_.length>Fg)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fg+") or object contains a cycle "+Wi(r))}function Wi(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends zy{static getInstance(){return new nf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=1e3,RI=60*5*1e3,jg=30*1e3,NI=1.3,PI=3e4,xI="server_kill",zg=3;class Ir extends jy{constructor(e,n,s,o,u,h,m,g){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Ir.nextPersistentConnectionId_++,this.log_=ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yl,this.maxReconnectDelay_=RI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Mu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const o=++this.requestNumber_,u={r:o,a:e,b:n};this.log_(_t(u)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[o]=s)}get(e){this.initConnection_();const n=new rc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?n.resolve(m):n.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,o){this.initConnection_();const u=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:n,query:e,tag:s};this.listens.get(h).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+s+" for "+o);const u={p:s},h="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(h,u,m=>{const g=m.d,y=m.s;Ir.warnOnListenWarnings_(g,n),(this.listens.get(s)&&this.listens.get(s).get(o))===e&&(this.log_("listen response",m),y!=="ok"&&this.removeListen_(s,o),e.onComplete&&e.onComplete(y,g))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ar(e,"w")){const s=ro(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||wS(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=vS(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,o=>{const u=o.s,h=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+o),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,o)&&this.connected_&&this.sendUnlisten_(s,o,e._queryObject,n)}sendUnlisten_(e,n,s,o){this.log_("Unlisten on "+e+" for "+n);const u={p:e},h="n";o&&(u.q=s,u.t=o),this.sendRequest(h,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,o){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,n,s,o){this.putInternal("p",e,n,s,o)}merge(e,n,s,o){this.putInternal("m",e,n,s,o)}putInternal(e,n,s,o,u){this.initConnection_();const h={p:n,d:s};u!==void 0&&(h.h=u),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_t(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ed("Unrecognized action received from server: "+_t(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>PI&&(this.reconnectDelay_=yl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Ir.nextConnectionId_++,u=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,s())},y=function(C){J(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(C)};this.realtime_={close:g,sendRequest:y};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[C,S]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?xt("getToken() completed but was canceled"):(xt("getToken() completed. Creating connection."),this.authToken_=C&&C.accessToken,this.appCheckToken_=S&&S.token,m=new SI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,z=>{Yt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(xI)},u))}catch(C){this.log_("Failed to get token: "+C),h||(this.repoInfo_.nodeAdmin&&Yt(C),g())}}}interrupt(e){xt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],md(this.interruptReasons_)&&(this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>Xd(u)).join("$"):s="default";const o=this.removeListen_(e,s);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const s=new Ue(e).toString();let o;if(this.listens.has(s)){const u=this.listens.get(s);o=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else o=void 0;return o}onAuthRevoked_(e,n){xt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zg&&(this.reconnectDelay_=jg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){xt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_y.replace(/\./g,"-")]=1,Kd()?e["framework.cordova"]=1:cy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Mu.getInstance().currentlyOnline();return md(this.interruptReasons_)&&e}}Ir.nextPersistentConnectionId_=0;Ir.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Ee(io,e),o=new Ee(io,n);return this.compare(s,o)!==0}minPost(){return Ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu;class $y extends lc{static get __EMPTY_NODE(){return yu}static set __EMPTY_NODE(e){yu=e}compare(e,n){return po(e.name,n.name)}isDefinedOn(e){throw ho("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(Xi,yu)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new Ee(e,yu)}toString(){return".key"}}const Js=new $y;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n,s,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!e.isEmpty();)if(e=e,h=n?s(e.key,n):1,o&&(h*=-1),h<0)this.isReverse_?e=e.left:e=e.right;else if(h===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??gt.RED,this.left=o??qt.EMPTY_NODE,this.right=u??qt.EMPTY_NODE}copy(e,n,s,o,u){return new gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,o;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY_NODE;o=s.right.min_(),s=s.copy(o.key,o.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gt.RED=!0;gt.BLACK=!1;class AI{copy(e,n,s,o,u){return this}insert(e,n,s){return new gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(e,n=qt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gt.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,o=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return o?o.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(o=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vu(this.root_,null,this.comparator_,!0,e)}}qt.EMPTY_NODE=new AI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(r,e){return po(r.name,e.name)}function rf(r,e){return po(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;function DI(r){Cd=r}const Gy=function(r){return typeof r=="number"?"number:"+Sy(r):"string:"+r},Ky=function(r){if(r.isLeafNode()){const e=r.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ar(e,".sv"),"Priority must be a string or number.")}else J(r===Cd||r.isEmpty(),"priority of unexpected type.");J(r===Cd||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hg;class mt{static set __childrenNodeConstructor(e){Hg=e}static get __childrenNodeConstructor(){return Hg}constructor(e,n=mt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ky(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new mt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:we(e)===".priority"?this.priorityNode_:mt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:mt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=we(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(J(s!==".priority"||pi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,mt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Gy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Sy(this.value_):e+=this.value_,this.lazyHash_=vy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===mt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof mt.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,o=mt.VALUE_TYPE_ORDER.indexOf(n),u=mt.VALUE_TYPE_ORDER.indexOf(s);return J(o>=0,"Unknown leaf type: "+n),J(u>=0,"Unknown leaf type: "+s),o===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}mt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy,Yy;function LI(r){qy=r}function MI(r){Yy=r}class bI extends lc{compare(e,n){const s=e.node.getPriority(),o=n.node.getPriority(),u=s.compareTo(o);return u===0?po(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(Xi,new mt("[PRIORITY-POST]",Yy))}makePost(e,n){const s=qy(e);return new Ee(n,new mt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Je=new bI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=Math.log(2);class UI{constructor(e){const n=u=>parseInt(Math.log(u)/FI,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=s(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bu=function(r,e,n,s){r.sort(e);const o=function(g,y){const E=y-g;let C,S;if(E===0)return null;if(E===1)return C=r[g],S=n?n(C):C,new gt(S,C.node,gt.BLACK,null,null);{const z=parseInt(E/2,10)+g,x=o(g,z),M=o(z+1,y);return C=r[z],S=n?n(C):C,new gt(S,C.node,gt.BLACK,x,M)}},u=function(g){let y=null,E=null,C=r.length;const S=function(x,M){const B=C-x,G=C;C-=x;const Q=o(B+1,G),ie=r[B],fe=n?n(ie):ie;z(new gt(fe,ie.node,M,null,Q))},z=function(x){y?(y.left=x,y=x):(E=x,y=x)};for(let x=0;x<g.count;++x){const M=g.nextBitIsOne(),B=Math.pow(2,g.count-(x+1));M?S(B,gt.BLACK):(S(B,gt.BLACK),S(B,gt.RED))}return E},h=new UI(r.length),m=u(h);return new qt(s||e,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od;const vl={};class vr{static get Default(){return J(Je,"ChildrenNode.ts has not been loaded"),od=od||new vr({".priority":vl},{".priority":Je}),od}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ro(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return Ar(this.indexSet_,e.toString())}addIndex(e,n){J(e!==Js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let o=!1;const u=n.getIterator(Ee.Wrap);let h=u.getNext();for(;h;)o=o||e.isDefinedOn(h.node),s.push(h),h=u.getNext();let m;o?m=bu(s,e.getCompare()):m=vl;const g=e.toString(),y=Object.assign({},this.indexSet_);y[g]=e;const E=Object.assign({},this.indexes_);return E[g]=m,new vr(E,y)}addToIndexes(e,n){const s=Ou(this.indexes_,(o,u)=>{const h=ro(this.indexSet_,u);if(J(h,"Missing index implementation for "+u),o===vl)if(h.isDefinedOn(e.node)){const m=[],g=n.getIterator(Ee.Wrap);let y=g.getNext();for(;y;)y.name!==e.name&&m.push(y),y=g.getNext();return m.push(e),bu(m,h.getCompare())}else return vl;else{const m=n.get(e.name);let g=o;return m&&(g=g.remove(new Ee(e.name,m))),g.insert(e,e.node)}});return new vr(s,this.indexSet_)}removeFromIndexes(e,n){const s=Ou(this.indexes_,o=>{if(o===vl)return o;{const u=n.get(e.name);return u?o.remove(new Ee(e.name,u)):o}});return new vr(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl;class pe{static get EMPTY_NODE(){return wl||(wl=new pe(new qt(rf),null,vr.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Ky(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wl}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?wl:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(J(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Ee(e,n);let o,u;n.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(o=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const h=o.isEmpty()?wl:this.priorityNode_;return new pe(o,h,u)}}updateChild(e,n){const s=we(e);if(s===null)return n;{J(we(e)!==".priority"||pi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(s).updateChild(Be(e),n);return this.updateImmediateChild(s,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,o=0,u=!0;if(this.forEachChild(Je,(h,m)=>{n[h]=m.val(e),s++,u&&pe.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!e&&u&&o<2*s){const h=[];for(const m in n)h[m]=n[m];return h}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Gy(this.getPriority().val())+":"),this.forEachChild(Je,(n,s)=>{const o=s.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":vy(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const o=this.resolveIndex_(s);if(o){const u=o.getPredecessorKey(new Ee(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ee(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Ee.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Ee.Wrap);let u=o.peek();for(;u!=null&&n.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yl?-1:0}withIndex(e){if(e===Js||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Js||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator(Je),o=n.getIterator(Je);let u=s.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=s.getNext(),h=o.getNext()}return u===null&&h===null}else return!1;else return!1}}resolveIndex_(e){return e===Js?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class jI extends pe{constructor(){super(new qt(rf),pe.EMPTY_NODE,vr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const Yl=new jI;Object.defineProperties(Ee,{MIN:{value:new Ee(io,pe.EMPTY_NODE)},MAX:{value:new Ee(Xi,Yl)}});$y.__EMPTY_NODE=pe.EMPTY_NODE;mt.__childrenNodeConstructor=pe;DI(Yl);MI(Yl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=!0;function Ct(r,e=null){if(r===null)return pe.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(e=r[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const n=r;return new mt(n,Ct(e))}if(!(r instanceof Array)&&zI){const n=[];let s=!1;if(Qt(r,(h,m)=>{if(h.substring(0,1)!=="."){const g=Ct(m);g.isEmpty()||(s=s||!g.getPriority().isEmpty(),n.push(new Ee(h,g)))}}),n.length===0)return pe.EMPTY_NODE;const u=bu(n,OI,h=>h.name,rf);if(s){const h=bu(n,Je.getCompare());return new pe(u,Ct(e),new vr({".priority":h},{".priority":Je}))}else return new pe(u,Ct(e),vr.Default)}else{let n=pe.EMPTY_NODE;return Qt(r,(s,o)=>{if(Ar(r,s)&&s.substring(0,1)!=="."){const u=Ct(o);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(Ct(e))}}LI(Ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI extends lc{constructor(e){super(),this.indexPath_=e,J(!Ce(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),o=this.extractChild(n.node),u=s.compareTo(o);return u===0?po(e.name,n.name):u}makePost(e,n){const s=Ct(e),o=pe.EMPTY_NODE.updateChild(this.indexPath_,s);return new Ee(n,o)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,Yl);return new Ee(Xi,e)}toString(){return By(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends lc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?po(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ee.MIN}maxPost(){return Ee.MAX}makePost(e,n){const s=Ct(e);return new Ee(n,s)}toString(){return".value"}}const VI=new BI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(r){return{type:"value",snapshotNode:r}}function so(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function Ml(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function bl(r,e,n){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:n}}function WI(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.index_=e}updateChild(e,n,s,o,u,h){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=e.getImmediateChild(n);return m.getChild(o).equals(s.getChild(o))&&m.isEmpty()===s.isEmpty()||(h!=null&&(s.isEmpty()?e.hasChild(n)?h.trackChildChange(Ml(n,m)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(so(n,s)):h.trackChildChange(bl(n,s,m))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Je,(o,u)=>{n.hasChild(o)||s.trackChildChange(Ml(o,u))}),n.isLeafNode()||n.forEachChild(Je,(o,u)=>{if(e.hasChild(o)){const h=e.getImmediateChild(o);h.equals(u)||s.trackChildChange(bl(o,u,h))}else s.trackChildChange(so(o,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?pe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.indexedFilter_=new sf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fl.getStartPost_(e),this.endPost_=Fl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,o,u,h){return this.matches(new Ee(n,s))||(s=pe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,o,u,h)}updateFullNode(e,n,s){n.isLeafNode()&&(n=pe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(pe.EMPTY_NODE);const u=this;return n.forEachChild(Je,(h,m)=>{u.matches(new Ee(h,m))||(o=o.updateImmediateChild(h,pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Fl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,o,u,h){return this.rangedFilter_.matches(new Ee(n,s))||(s=pe.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,o,u,h):this.fullLimitUpdateChild_(e,n,s,u,h)}updateFullNode(e,n,s){let o;if(n.isLeafNode()||n.isEmpty())o=pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=pe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const m=u.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(pe.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let h=0;for(;u.hasNext();){const m=u.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,o,u){let h;if(this.reverse_){const C=this.index_.getCompare();h=(S,z)=>C(z,S)}else h=this.index_.getCompare();const m=e;J(m.numChildren()===this.limit_,"");const g=new Ee(n,s),y=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),E=this.rangedFilter_.matches(g);if(m.hasChild(n)){const C=m.getImmediateChild(n);let S=o.getChildAfterChild(this.index_,y,this.reverse_);for(;S!=null&&(S.name===n||m.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const z=S==null?1:h(S,g);if(E&&!s.isEmpty()&&z>=0)return u!=null&&u.trackChildChange(bl(n,s,C)),m.updateImmediateChild(n,s);{u!=null&&u.trackChildChange(Ml(n,C));const M=m.updateImmediateChild(n,pe.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u!=null&&u.trackChildChange(so(S.name,S.node)),M.updateImmediateChild(S.name,S.node)):M}}else return s.isEmpty()?e:E&&h(y,g)>=0?(u!=null&&(u.trackChildChange(Ml(y.name,y.node)),u.trackChildChange(so(n,s))),m.updateImmediateChild(n,s).updateImmediateChild(y.name,pe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:io}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Je}copy(){const e=new of;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function GI(r){return r.loadsAllData()?new sf(r.getIndex()):r.hasLimit()?new $I(r):new Fl(r)}function Bg(r){const e={};if(r.isDefault())return e;let n;if(r.index_===Je?n="$priority":r.index_===VI?n="$value":r.index_===Js?n="$key":(J(r.index_ instanceof HI,"Unrecognized index type!"),n=r.index_.toString()),e.orderBy=_t(n),r.startSet_){const s=r.startAfterSet_?"startAfter":"startAt";e[s]=_t(r.indexStartValue_),r.startNameSet_&&(e[s]+=","+_t(r.indexStartName_))}if(r.endSet_){const s=r.endBeforeSet_?"endBefore":"endAt";e[s]=_t(r.indexEndValue_),r.endNameSet_&&(e[s]+=","+_t(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function Vg(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let n=r.viewFrom_;n===""&&(r.isViewFromLeft()?n="l":n="r"),e.vf=n}return r.index_!==Je&&(e.i=r.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends jy{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.log_=ql("p:rest:"),this.listens_={}}listen(e,n,s,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const h=Fu.getListenId_(e,s),m={};this.listens_[h]=m;const g=Bg(e._queryParams);this.restRequest_(u+".json",g,(y,E)=>{let C=E;if(y===404&&(C=null,y=null),y===null&&this.onDataUpdate_(u,C,!1,s),ro(this.listens_,h)===m){let S;y?y===401?S="permission_denied":S="rest_error:"+y:S="ok",o(S,null)}})}unlisten(e,n){const s=Fu.getListenId_(e,n);delete this.listens_[s]}get(e){const n=Bg(e._queryParams),s=e._path.toString(),o=new rc;return this.restRequest_(s+".json",n,(u,h)=>{let m=h;u===404&&(m=null,u=null),u===null?(this.onDataUpdate_(s,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(n.auth=o.accessToken),u&&u.token&&(n.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fo(n);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(s&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Ol(m.responseText)}catch{Yt("Failed to parse JSON response for "+h+": "+m.responseText)}s(null,g)}else m.status!==401&&m.status!==404&&Yt("Got unsuccessful REST response for "+h+" Status: "+m.status),s(m.status);s=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(){return{value:null,children:new Map}}function Xy(r,e,n){if(Ce(e))r.value=n,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(e,n);else{const s=we(e);r.children.has(s)||r.children.set(s,Uu());const o=r.children.get(s);e=Be(e),Xy(o,e,n)}}function Id(r,e,n){r.value!==null?n(e,r.value):qI(r,(s,o)=>{const u=new Ue(e.toString()+"/"+s);Id(o,u,n)})}function qI(r,e){r.children.forEach((n,s)=>{e(s,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qt(this.last_,(s,o)=>{n[s]=n[s]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=10*1e3,QI=30*1e3,XI=5*60*1e3;class JI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new YI(e);const s=Wg+(QI-Wg)*Math.random();Il(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Qt(e,(o,u)=>{u>0&&Ar(this.statsToReport_,o)&&(n[o]=u,s=!0)}),s&&this.server_.reportStats(n),Il(this.reportStats_.bind(this),Math.floor(Math.random()*2*XI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(An||(An={}));function Jy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function af(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=An.ACK_USER_WRITE,this.source=Jy()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ue(e));return new ju(Le(),n,this.revert)}}else return J(we(this.path)===e,"operationForChild called for unrelated child."),new ju(Be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.source=e,this.path=n,this.type=An.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new Ul(this.source,Le()):new Ul(this.source,Be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=An.OVERWRITE}operationForChild(e){return Ce(this.path)?new Ji(this.source,Le(),this.snap.getImmediateChild(e)):new Ji(this.source,Be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=An.MERGE}operationForChild(e){if(Ce(this.path)){const n=this.children.subtree(new Ue(e));return n.isEmpty()?null:n.value?new Ji(this.source,Le(),n.value):new jl(this.source,Le(),n)}else return J(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new jl(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function eT(r,e,n,s){const o=[],u=[];return e.forEach(h=>{h.type==="child_changed"&&r.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(WI(h.childName,h.snapshotNode))}),El(r,o,"child_removed",e,s,n),El(r,o,"child_added",e,s,n),El(r,o,"child_moved",u,s,n),El(r,o,"child_changed",e,s,n),El(r,o,"value",e,s,n),o}function El(r,e,n,s,o,u){const h=s.filter(m=>m.type===n);h.sort((m,g)=>nT(r,m,g)),h.forEach(m=>{const g=tT(r,m,u);o.forEach(y=>{y.respondsTo(m.type)&&e.push(y.createEvent(g,r.query_))})})}function tT(r,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}function nT(r,e,n){if(e.childName==null||n.childName==null)throw ho("Should only compare child_ events.");const s=new Ee(e.childName,e.snapshotNode),o=new Ee(n.childName,n.snapshotNode);return r.index_.compare(s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(r,e){return{eventCache:r,serverCache:e}}function Tl(r,e,n,s){return ac(new Zi(e,n,s),r.serverCache)}function Zy(r,e,n,s){return ac(r.eventCache,new Zi(e,n,s))}function Td(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function es(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld;const rT=()=>(ld||(ld=new qt(BC)),ld);class $e{static fromObject(e){let n=new $e(null);return Qt(e,(s,o)=>{n=n.set(new Ue(s),o)}),n}constructor(e,n=rT()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Le(),value:this.value};if(Ce(e))return null;{const s=we(e),o=this.children.get(s);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Be(e),n);return u!=null?{path:at(new Ue(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const n=we(e),s=this.children.get(n);return s!==null?s.subtree(Be(e)):new $e(null)}}set(e,n){if(Ce(e))return new $e(n,this.children);{const s=we(e),u=(this.children.get(s)||new $e(null)).set(Be(e),n),h=this.children.insert(s,u);return new $e(this.value,h)}}remove(e){if(Ce(e))return this.children.isEmpty()?new $e(null):new $e(null,this.children);{const n=we(e),s=this.children.get(n);if(s){const o=s.remove(Be(e));let u;return o.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,o),this.value===null&&u.isEmpty()?new $e(null):new $e(this.value,u)}else return this}}get(e){if(Ce(e))return this.value;{const n=we(e),s=this.children.get(n);return s?s.get(Be(e)):null}}setTree(e,n){if(Ce(e))return n;{const s=we(e),u=(this.children.get(s)||new $e(null)).setTree(Be(e),n);let h;return u.isEmpty()?h=this.children.remove(s):h=this.children.insert(s,u),new $e(this.value,h)}}fold(e){return this.fold_(Le(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((o,u)=>{s[o]=u.fold_(at(e,o),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Le(),n)}findOnPath_(e,n,s){const o=this.value?s(n,this.value):!1;if(o)return o;if(Ce(e))return null;{const u=we(e),h=this.children.get(u);return h?h.findOnPath_(Be(e),at(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Le(),n)}foreachOnPath_(e,n,s){if(Ce(e))return this;{this.value&&s(n,this.value);const o=we(e),u=this.children.get(o);return u?u.foreachOnPath_(Be(e),at(n,o),s):new $e(null)}}foreach(e){this.foreach_(Le(),e)}foreach_(e,n){this.children.inorderTraversal((s,o)=>{o.foreach_(at(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.writeTree_=e}static empty(){return new Dn(new $e(null))}}function kl(r,e,n){if(Ce(e))return new Dn(new $e(n));{const s=r.writeTree_.findRootMostValueAndPath(e);if(s!=null){const o=s.path;let u=s.value;const h=Kt(o,e);return u=u.updateChild(h,n),new Dn(r.writeTree_.set(o,u))}else{const o=new $e(n),u=r.writeTree_.setTree(e,o);return new Dn(u)}}}function $g(r,e,n){let s=r;return Qt(n,(o,u)=>{s=kl(s,at(e,o),u)}),s}function Gg(r,e){if(Ce(e))return Dn.empty();{const n=r.writeTree_.setTree(e,new $e(null));return new Dn(n)}}function kd(r,e){return is(r,e)!=null}function is(r,e){const n=r.writeTree_.findRootMostValueAndPath(e);return n!=null?r.writeTree_.get(n.path).getChild(Kt(n.path,e)):null}function Kg(r){const e=[],n=r.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Je,(s,o)=>{e.push(new Ee(s,o))}):r.writeTree_.children.inorderTraversal((s,o)=>{o.value!=null&&e.push(new Ee(s,o.value))}),e}function ci(r,e){if(Ce(e))return r;{const n=is(r,e);return n!=null?new Dn(new $e(n)):new Dn(r.writeTree_.subtree(e))}}function Rd(r){return r.writeTree_.isEmpty()}function oo(r,e){return ev(Le(),r.writeTree_,e)}function ev(r,e,n){if(e.value!=null)return n.updateChild(r,e.value);{let s=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(J(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=ev(at(r,o),u,n)}),!n.getChild(r).isEmpty()&&s!==null&&(n=n.updateChild(at(r,".priority"),s)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(r,e){return iv(e,r)}function iT(r,e,n,s,o){J(s>r.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),r.allWrites.push({path:e,snap:n,writeId:s,visible:o}),o&&(r.visibleWrites=kl(r.visibleWrites,e,n)),r.lastWriteId=s}function sT(r,e){for(let n=0;n<r.allWrites.length;n++){const s=r.allWrites[n];if(s.writeId===e)return s}return null}function oT(r,e){const n=r.allWrites.findIndex(m=>m.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");const s=r.allWrites[n];r.allWrites.splice(n,1);let o=s.visible,u=!1,h=r.allWrites.length-1;for(;o&&h>=0;){const m=r.allWrites[h];m.visible&&(h>=n&&lT(m,s.path)?o=!1:xn(s.path,m.path)&&(u=!0)),h--}if(o){if(u)return aT(r),!0;if(s.snap)r.visibleWrites=Gg(r.visibleWrites,s.path);else{const m=s.children;Qt(m,g=>{r.visibleWrites=Gg(r.visibleWrites,at(s.path,g))})}return!0}else return!1}function lT(r,e){if(r.snap)return xn(r.path,e);for(const n in r.children)if(r.children.hasOwnProperty(n)&&xn(at(r.path,n),e))return!0;return!1}function aT(r){r.visibleWrites=tv(r.allWrites,uT,Le()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function uT(r){return r.visible}function tv(r,e,n){let s=Dn.empty();for(let o=0;o<r.length;++o){const u=r[o];if(e(u)){const h=u.path;let m;if(u.snap)xn(n,h)?(m=Kt(n,h),s=kl(s,m,u.snap)):xn(h,n)&&(m=Kt(h,n),s=kl(s,Le(),u.snap.getChild(m)));else if(u.children){if(xn(n,h))m=Kt(n,h),s=$g(s,m,u.children);else if(xn(h,n))if(m=Kt(h,n),Ce(m))s=$g(s,Le(),u.children);else{const g=ro(u.children,we(m));if(g){const y=g.getChild(Be(m));s=kl(s,Le(),y)}}}else throw ho("WriteRecord should have .snap or .children")}}return s}function nv(r,e,n,s,o){if(!s&&!o){const u=is(r.visibleWrites,e);if(u!=null)return u;{const h=ci(r.visibleWrites,e);if(Rd(h))return n;if(n==null&&!kd(h,Le()))return null;{const m=n||pe.EMPTY_NODE;return oo(h,m)}}}else{const u=ci(r.visibleWrites,e);if(!o&&Rd(u))return n;if(!o&&n==null&&!kd(u,Le()))return null;{const h=function(y){return(y.visible||o)&&(!s||!~s.indexOf(y.writeId))&&(xn(y.path,e)||xn(e,y.path))},m=tv(r.allWrites,h,e),g=n||pe.EMPTY_NODE;return oo(m,g)}}}function cT(r,e,n){let s=pe.EMPTY_NODE;const o=is(r.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Je,(u,h)=>{s=s.updateImmediateChild(u,h)}),s;if(n){const u=ci(r.visibleWrites,e);return n.forEachChild(Je,(h,m)=>{const g=oo(ci(u,new Ue(h)),m);s=s.updateImmediateChild(h,g)}),Kg(u).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}else{const u=ci(r.visibleWrites,e);return Kg(u).forEach(h=>{s=s.updateImmediateChild(h.name,h.node)}),s}}function hT(r,e,n,s,o){J(s||o,"Either existingEventSnap or existingServerSnap must exist");const u=at(e,n);if(kd(r.visibleWrites,u))return null;{const h=ci(r.visibleWrites,u);return Rd(h)?o.getChild(n):oo(h,o.getChild(n))}}function dT(r,e,n,s){const o=at(e,n),u=is(r.visibleWrites,o);if(u!=null)return u;if(s.isCompleteForChild(n)){const h=ci(r.visibleWrites,o);return oo(h,s.getNode().getImmediateChild(n))}else return null}function fT(r,e){return is(r.visibleWrites,e)}function pT(r,e,n,s,o,u,h){let m;const g=ci(r.visibleWrites,e),y=is(g,Le());if(y!=null)m=y;else if(n!=null)m=oo(g,n);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const E=[],C=h.getCompare(),S=u?m.getReverseIteratorFrom(s,h):m.getIteratorFrom(s,h);let z=S.getNext();for(;z&&E.length<o;)C(z,s)!==0&&E.push(z),z=S.getNext();return E}else return[]}function mT(){return{visibleWrites:Dn.empty(),allWrites:[],lastWriteId:-1}}function zu(r,e,n,s){return nv(r.writeTree,r.treePath,e,n,s)}function cf(r,e){return cT(r.writeTree,r.treePath,e)}function qg(r,e,n,s){return hT(r.writeTree,r.treePath,e,n,s)}function Hu(r,e){return fT(r.writeTree,at(r.treePath,e))}function gT(r,e,n,s,o,u){return pT(r.writeTree,r.treePath,e,n,s,o,u)}function hf(r,e,n){return dT(r.writeTree,r.treePath,e,n)}function rv(r,e){return iv(at(r.treePath,e),r.writeTree)}function iv(r,e){return{treePath:r,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(s!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(s);if(o){const u=o.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,bl(s,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,Ml(s,o.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,so(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,bl(s,e.snapshotNode,o.oldSnap));else throw ho("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const sv=new yT;class df{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Zi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hf(this.writes_,e,s)}}getChildAfterChild(e,n,s){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:es(this.viewCache_),u=gT(this.writes_,o,n,1,s,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r){return{filter:r}}function wT(r,e){J(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function ET(r,e,n,s,o){const u=new _T;let h,m;if(n.type===An.OVERWRITE){const y=n;y.source.fromUser?h=Nd(r,e,y.path,y.snap,s,o,u):(J(y.source.fromServer,"Unknown source."),m=y.source.tagged||e.serverCache.isFiltered()&&!Ce(y.path),h=Bu(r,e,y.path,y.snap,s,o,m,u))}else if(n.type===An.MERGE){const y=n;y.source.fromUser?h=CT(r,e,y.path,y.children,s,o,u):(J(y.source.fromServer,"Unknown source."),m=y.source.tagged||e.serverCache.isFiltered(),h=Pd(r,e,y.path,y.children,s,o,m,u))}else if(n.type===An.ACK_USER_WRITE){const y=n;y.revert?h=kT(r,e,y.path,s,o,u):h=IT(r,e,y.path,y.affectedTree,s,o,u)}else if(n.type===An.LISTEN_COMPLETE)h=TT(r,e,n.path,s,u);else throw ho("Unknown operation type: "+n.type);const g=u.getChanges();return ST(e,h,g),{viewCache:h,changes:g}}function ST(r,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const o=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Td(r);(n.length>0||!r.eventCache.isFullyInitialized()||o&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(Qy(Td(e)))}}function ov(r,e,n,s,o,u){const h=e.eventCache;if(Hu(s,n)!=null)return e;{let m,g;if(Ce(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=es(e),E=y instanceof pe?y:pe.EMPTY_NODE,C=cf(s,E);m=r.filter.updateFullNode(e.eventCache.getNode(),C,u)}else{const y=zu(s,es(e));m=r.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const y=we(n);if(y===".priority"){J(pi(n)===1,"Can't have a priority with additional path components");const E=h.getNode();g=e.serverCache.getNode();const C=qg(s,n,E,g);C!=null?m=r.filter.updatePriority(E,C):m=h.getNode()}else{const E=Be(n);let C;if(h.isCompleteForChild(y)){g=e.serverCache.getNode();const S=qg(s,n,h.getNode(),g);S!=null?C=h.getNode().getImmediateChild(y).updateChild(E,S):C=h.getNode().getImmediateChild(y)}else C=hf(s,y,e.serverCache);C!=null?m=r.filter.updateChild(h.getNode(),y,C,E,o,u):m=h.getNode()}}return Tl(e,m,h.isFullyInitialized()||Ce(n),r.filter.filtersNodes())}}function Bu(r,e,n,s,o,u,h,m){const g=e.serverCache;let y;const E=h?r.filter:r.filter.getIndexedFilter();if(Ce(n))y=E.updateFullNode(g.getNode(),s,null);else if(E.filtersNodes()&&!g.isFiltered()){const z=g.getNode().updateChild(n,s);y=E.updateFullNode(g.getNode(),z,null)}else{const z=we(n);if(!g.isCompleteForPath(n)&&pi(n)>1)return e;const x=Be(n),B=g.getNode().getImmediateChild(z).updateChild(x,s);z===".priority"?y=E.updatePriority(g.getNode(),B):y=E.updateChild(g.getNode(),z,B,x,sv,null)}const C=Zy(e,y,g.isFullyInitialized()||Ce(n),E.filtersNodes()),S=new df(o,C,u);return ov(r,C,n,o,S,m)}function Nd(r,e,n,s,o,u,h){const m=e.eventCache;let g,y;const E=new df(o,e,u);if(Ce(n))y=r.filter.updateFullNode(e.eventCache.getNode(),s,h),g=Tl(e,y,!0,r.filter.filtersNodes());else{const C=we(n);if(C===".priority")y=r.filter.updatePriority(e.eventCache.getNode(),s),g=Tl(e,y,m.isFullyInitialized(),m.isFiltered());else{const S=Be(n),z=m.getNode().getImmediateChild(C);let x;if(Ce(S))x=s;else{const M=E.getCompleteChild(C);M!=null?Hy(S)===".priority"&&M.getChild(Vy(S)).isEmpty()?x=M:x=M.updateChild(S,s):x=pe.EMPTY_NODE}if(z.equals(x))g=e;else{const M=r.filter.updateChild(m.getNode(),C,x,S,E,h);g=Tl(e,M,m.isFullyInitialized(),r.filter.filtersNodes())}}}return g}function Yg(r,e){return r.eventCache.isCompleteForChild(e)}function CT(r,e,n,s,o,u,h){let m=e;return s.foreach((g,y)=>{const E=at(n,g);Yg(e,we(E))&&(m=Nd(r,m,E,y,o,u,h))}),s.foreach((g,y)=>{const E=at(n,g);Yg(e,we(E))||(m=Nd(r,m,E,y,o,u,h))}),m}function Qg(r,e,n){return n.foreach((s,o)=>{e=e.updateChild(s,o)}),e}function Pd(r,e,n,s,o,u,h,m){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g=e,y;Ce(n)?y=s:y=new $e(null).setTree(n,s);const E=e.serverCache.getNode();return y.children.inorderTraversal((C,S)=>{if(E.hasChild(C)){const z=e.serverCache.getNode().getImmediateChild(C),x=Qg(r,z,S);g=Bu(r,g,new Ue(C),x,o,u,h,m)}}),y.children.inorderTraversal((C,S)=>{const z=!e.serverCache.isCompleteForChild(C)&&S.value===null;if(!E.hasChild(C)&&!z){const x=e.serverCache.getNode().getImmediateChild(C),M=Qg(r,x,S);g=Bu(r,g,new Ue(C),M,o,u,h,m)}}),g}function IT(r,e,n,s,o,u,h){if(Hu(o,n)!=null)return e;const m=e.serverCache.isFiltered(),g=e.serverCache;if(s.value!=null){if(Ce(n)&&g.isFullyInitialized()||g.isCompleteForPath(n))return Bu(r,e,n,g.getNode().getChild(n),o,u,m,h);if(Ce(n)){let y=new $e(null);return g.getNode().forEachChild(Js,(E,C)=>{y=y.set(new Ue(E),C)}),Pd(r,e,n,y,o,u,m,h)}else return e}else{let y=new $e(null);return s.foreach((E,C)=>{const S=at(n,E);g.isCompleteForPath(S)&&(y=y.set(E,g.getNode().getChild(S)))}),Pd(r,e,n,y,o,u,m,h)}}function TT(r,e,n,s,o){const u=e.serverCache,h=Zy(e,u.getNode(),u.isFullyInitialized()||Ce(n),u.isFiltered());return ov(r,h,n,s,sv,o)}function kT(r,e,n,s,o,u){let h;if(Hu(s,n)!=null)return e;{const m=new df(s,e,o),g=e.eventCache.getNode();let y;if(Ce(n)||we(n)===".priority"){let E;if(e.serverCache.isFullyInitialized())E=zu(s,es(e));else{const C=e.serverCache.getNode();J(C instanceof pe,"serverChildren would be complete if leaf node"),E=cf(s,C)}E=E,y=r.filter.updateFullNode(g,E,u)}else{const E=we(n);let C=hf(s,E,e.serverCache);C==null&&e.serverCache.isCompleteForChild(E)&&(C=g.getImmediateChild(E)),C!=null?y=r.filter.updateChild(g,E,C,Be(n),m,u):e.eventCache.getNode().hasChild(E)?y=r.filter.updateChild(g,E,pe.EMPTY_NODE,Be(n),m,u):y=g,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(h=zu(s,es(e)),h.isLeafNode()&&(y=r.filter.updateFullNode(y,h,u)))}return h=e.serverCache.isFullyInitialized()||Hu(s,Le())!=null,Tl(e,y,h,r.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,o=new sf(s.getIndex()),u=GI(s);this.processor_=vT(u);const h=n.serverCache,m=n.eventCache,g=o.updateFullNode(pe.EMPTY_NODE,h.getNode(),null),y=u.updateFullNode(pe.EMPTY_NODE,m.getNode(),null),E=new Zi(g,h.isFullyInitialized(),o.filtersNodes()),C=new Zi(y,m.isFullyInitialized(),u.filtersNodes());this.viewCache_=ac(C,E),this.eventGenerator_=new ZI(this.query_)}get query(){return this.query_}}function NT(r){return r.viewCache_.serverCache.getNode()}function PT(r,e){const n=es(r.viewCache_);return n&&(r.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function Xg(r){return r.eventRegistrations_.length===0}function xT(r,e){r.eventRegistrations_.push(e)}function Jg(r,e,n){const s=[];if(n){J(e==null,"A cancel should cancel all event registrations.");const o=r.query._path;r.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(n,o);h&&s.push(h)})}if(e){let o=[];for(let u=0;u<r.eventRegistrations_.length;++u){const h=r.eventRegistrations_[u];if(!h.matches(e))o.push(h);else if(e.hasAnyCallback()){o=o.concat(r.eventRegistrations_.slice(u+1));break}}r.eventRegistrations_=o}else r.eventRegistrations_=[];return s}function Zg(r,e,n,s){e.type===An.MERGE&&e.source.queryId!==null&&(J(es(r.viewCache_),"We should always have a full cache before handling merges"),J(Td(r.viewCache_),"Missing event cache, even though we have a server cache"));const o=r.viewCache_,u=ET(r.processor_,o,e,n,s);return wT(r.processor_,u.viewCache),J(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=u.viewCache,lv(r,u.changes,u.viewCache.eventCache.getNode(),null)}function AT(r,e){const n=r.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Je,(u,h)=>{s.push(so(u,h))}),n.isFullyInitialized()&&s.push(Qy(n.getNode())),lv(r,s,n.getNode(),e)}function lv(r,e,n,s){const o=s?[s]:r.eventRegistrations_;return eT(r.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu;class OT{constructor(){this.views=new Map}}function DT(r){J(!Vu,"__referenceConstructor has already been defined"),Vu=r}function LT(){return J(Vu,"Reference.ts has not been loaded"),Vu}function MT(r){return r.views.size===0}function ff(r,e,n,s){const o=e.source.queryId;if(o!==null){const u=r.views.get(o);return J(u!=null,"SyncTree gave us an op for an invalid query."),Zg(u,e,n,s)}else{let u=[];for(const h of r.views.values())u=u.concat(Zg(h,e,n,s));return u}}function bT(r,e,n,s,o){const u=e._queryIdentifier,h=r.views.get(u);if(!h){let m=zu(n,o?s:null),g=!1;m?g=!0:s instanceof pe?(m=cf(n,s),g=!1):(m=pe.EMPTY_NODE,g=!1);const y=ac(new Zi(m,g,!1),new Zi(s,o,!1));return new RT(e,y)}return h}function FT(r,e,n,s,o,u){const h=bT(r,e,s,o,u);return r.views.has(e._queryIdentifier)||r.views.set(e._queryIdentifier,h),xT(h,n),AT(h,n)}function UT(r,e,n,s){const o=e._queryIdentifier,u=[];let h=[];const m=mi(r);if(o==="default")for(const[g,y]of r.views.entries())h=h.concat(Jg(y,n,s)),Xg(y)&&(r.views.delete(g),y.query._queryParams.loadsAllData()||u.push(y.query));else{const g=r.views.get(o);g&&(h=h.concat(Jg(g,n,s)),Xg(g)&&(r.views.delete(o),g.query._queryParams.loadsAllData()||u.push(g.query)))}return m&&!mi(r)&&u.push(new(LT())(e._repo,e._path)),{removed:u,events:h}}function av(r){const e=[];for(const n of r.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zs(r,e){let n=null;for(const s of r.views.values())n=n||PT(s,e);return n}function uv(r,e){if(e._queryParams.loadsAllData())return uc(r);{const s=e._queryIdentifier;return r.views.get(s)}}function cv(r,e){return uv(r,e)!=null}function mi(r){return uc(r)!=null}function uc(r){for(const e of r.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;function jT(r){J(!Wu,"__referenceConstructor has already been defined"),Wu=r}function zT(){return J(Wu,"Reference.ts has not been loaded"),Wu}let HT=1;class e_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new $e(null),this.pendingWriteTree_=mT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hv(r,e,n,s,o){return iT(r.pendingWriteTree_,e,n,s,o),o?Ql(r,new Ji(Jy(),e,n)):[]}function Gi(r,e,n=!1){const s=sT(r.pendingWriteTree_,e);if(oT(r.pendingWriteTree_,e)){let u=new $e(null);return s.snap!=null?u=u.set(Le(),!0):Qt(s.children,h=>{u=u.set(new Ue(h),!0)}),Ql(r,new ju(s.path,u,n))}else return[]}function cc(r,e,n){return Ql(r,new Ji(lf(),e,n))}function BT(r,e,n){const s=$e.fromObject(n);return Ql(r,new jl(lf(),e,s))}function VT(r,e){return Ql(r,new Ul(lf(),e))}function WT(r,e,n){const s=mf(r,n);if(s){const o=gf(s),u=o.path,h=o.queryId,m=Kt(u,e),g=new Ul(af(h),m);return _f(r,u,g)}else return[]}function xd(r,e,n,s,o=!1){const u=e._path,h=r.syncPointTree_.get(u);let m=[];if(h&&(e._queryIdentifier==="default"||cv(h,e))){const g=UT(h,e,n,s);MT(h)&&(r.syncPointTree_=r.syncPointTree_.remove(u));const y=g.removed;if(m=g.events,!o){const E=y.findIndex(S=>S._queryParams.loadsAllData())!==-1,C=r.syncPointTree_.findOnPath(u,(S,z)=>mi(z));if(E&&!C){const S=r.syncPointTree_.subtree(u);if(!S.isEmpty()){const z=KT(S);for(let x=0;x<z.length;++x){const M=z[x],B=M.query,G=pv(r,M);r.listenProvider_.startListening(Rl(B),$u(r,B),G.hashFn,G.onComplete)}}}!C&&y.length>0&&!s&&(E?r.listenProvider_.stopListening(Rl(e),null):y.forEach(S=>{const z=r.queryToTagMap.get(hc(S));r.listenProvider_.stopListening(Rl(S),z)}))}qT(r,y)}return m}function $T(r,e,n,s){const o=mf(r,s);if(o!=null){const u=gf(o),h=u.path,m=u.queryId,g=Kt(h,e),y=new Ji(af(m),g,n);return _f(r,h,y)}else return[]}function GT(r,e,n,s){const o=mf(r,s);if(o){const u=gf(o),h=u.path,m=u.queryId,g=Kt(h,e),y=$e.fromObject(n),E=new jl(af(m),g,y);return _f(r,h,E)}else return[]}function t_(r,e,n,s=!1){const o=e._path;let u=null,h=!1;r.syncPointTree_.foreachOnPath(o,(S,z)=>{const x=Kt(S,o);u=u||Zs(z,x),h=h||mi(z)});let m=r.syncPointTree_.get(o);m?(h=h||mi(m),u=u||Zs(m,Le())):(m=new OT,r.syncPointTree_=r.syncPointTree_.set(o,m));let g;u!=null?g=!0:(g=!1,u=pe.EMPTY_NODE,r.syncPointTree_.subtree(o).foreachChild((z,x)=>{const M=Zs(x,Le());M&&(u=u.updateImmediateChild(z,M))}));const y=cv(m,e);if(!y&&!e._queryParams.loadsAllData()){const S=hc(e);J(!r.queryToTagMap.has(S),"View does not exist, but we have a tag");const z=YT();r.queryToTagMap.set(S,z),r.tagToQueryMap.set(z,S)}const E=uf(r.pendingWriteTree_,o);let C=FT(m,e,n,E,u,g);if(!y&&!h&&!s){const S=uv(m,e);C=C.concat(QT(r,e,S))}return C}function pf(r,e,n){const o=r.pendingWriteTree_,u=r.syncPointTree_.findOnPath(e,(h,m)=>{const g=Kt(h,e),y=Zs(m,g);if(y)return y});return nv(o,e,u,n,!0)}function Ql(r,e){return dv(e,r.syncPointTree_,null,uf(r.pendingWriteTree_,Le()))}function dv(r,e,n,s){if(Ce(r.path))return fv(r,e,n,s);{const o=e.get(Le());n==null&&o!=null&&(n=Zs(o,Le()));let u=[];const h=we(r.path),m=r.operationForChild(h),g=e.children.get(h);if(g&&m){const y=n?n.getImmediateChild(h):null,E=rv(s,h);u=u.concat(dv(m,g,y,E))}return o&&(u=u.concat(ff(o,r,s,n))),u}}function fv(r,e,n,s){const o=e.get(Le());n==null&&o!=null&&(n=Zs(o,Le()));let u=[];return e.children.inorderTraversal((h,m)=>{const g=n?n.getImmediateChild(h):null,y=rv(s,h),E=r.operationForChild(h);E&&(u=u.concat(fv(E,m,g,y)))}),o&&(u=u.concat(ff(o,r,s,n))),u}function pv(r,e){const n=e.query,s=$u(r,n);return{hashFn:()=>(NT(e)||pe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return s?WT(r,n._path,s):VT(r,n._path);{const u=$C(o,n);return xd(r,n,null,u)}}}}function $u(r,e){const n=hc(e);return r.queryToTagMap.get(n)}function hc(r){return r._path.toString()+"$"+r._queryIdentifier}function mf(r,e){return r.tagToQueryMap.get(e)}function gf(r){const e=r.indexOf("$");return J(e!==-1&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new Ue(r.substr(0,e))}}function _f(r,e,n){const s=r.syncPointTree_.get(e);J(s,"Missing sync point for query tag that we're tracking");const o=uf(r.pendingWriteTree_,e);return ff(s,n,o,null)}function KT(r){return r.fold((e,n,s)=>{if(n&&mi(n))return[uc(n)];{let o=[];return n&&(o=av(n)),Qt(s,(u,h)=>{o=o.concat(h)}),o}})}function Rl(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(zT())(r._repo,r._path):r}function qT(r,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const o=hc(s),u=r.queryToTagMap.get(o);r.queryToTagMap.delete(o),r.tagToQueryMap.delete(u)}}}function YT(){return HT++}function QT(r,e,n){const s=e._path,o=$u(r,e),u=pv(r,n),h=r.listenProvider_.startListening(Rl(e),o,u.hashFn,u.onComplete),m=r.syncPointTree_.subtree(s);if(o)J(!mi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((y,E,C)=>{if(!Ce(y)&&E&&mi(E))return[uc(E).query];{let S=[];return E&&(S=S.concat(av(E).map(z=>z.query))),Qt(C,(z,x)=>{S=S.concat(x)}),S}});for(let y=0;y<g.length;++y){const E=g[y];r.listenProvider_.stopListening(Rl(E),$u(r,E))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new yf(n)}node(){return this.node_}}class vf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=at(this.path_,e);return new vf(this.syncTree_,n)}node(){return pf(this.syncTree_,this.path_)}}const XT=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},n_=function(r,e,n){if(!r||typeof r!="object")return r;if(J(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return JT(r[".sv"],e,n);if(typeof r[".sv"]=="object")return ZT(r[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},JT=function(r,e,n){switch(r){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+r)}},ZT=function(r,e,n){r.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const s=r.increment;typeof s!="number"&&J(!1,"Unexpected increment value: "+s);const o=e.node();if(J(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return s;const h=o.getValue();return typeof h!="number"?s:h+s},e1=function(r,e,n,s){return wf(e,new vf(n,r),s)},mv=function(r,e,n){return wf(r,new yf(e),n)};function wf(r,e,n){const s=r.getPriority().val(),o=n_(s,e.getImmediateChild(".priority"),n);let u;if(r.isLeafNode()){const h=r,m=n_(h.getValue(),e,n);return m!==h.getValue()||o!==h.getPriority().val()?new mt(m,Ct(o)):r}else{const h=r;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new mt(o))),h.forEachChild(Je,(m,g)=>{const y=wf(g,e.getImmediateChild(m),n);y!==g&&(u=u.updateImmediateChild(m,y))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function Sf(r,e){let n=e instanceof Ue?e:new Ue(e),s=r,o=we(n);for(;o!==null;){const u=ro(s.node.children,o)||{children:{},childCount:0};s=new Ef(o,s,u),n=Be(n),o=we(n)}return s}function go(r){return r.node.value}function gv(r,e){r.node.value=e,Ad(r)}function _v(r){return r.node.childCount>0}function t1(r){return go(r)===void 0&&!_v(r)}function dc(r,e){Qt(r.node.children,(n,s)=>{e(new Ef(n,r,s))})}function yv(r,e,n,s){n&&e(r),dc(r,o=>{yv(o,e,!0)})}function n1(r,e,n){let s=r.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Xl(r){return new Ue(r.parent===null?r.name:Xl(r.parent)+"/"+r.name)}function Ad(r){r.parent!==null&&r1(r.parent,r.name,r)}function r1(r,e,n){const s=t1(n),o=Ar(r.node.children,e);s&&o?(delete r.node.children[e],r.node.childCount--,Ad(r)):!s&&!o&&(r.node.children[e]=n.node,r.node.childCount++,Ad(r))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=/[\[\].#$\/\u0000-\u001F\u007F]/,s1=/[\[\].#$\u0000-\u001F\u007F]/,ad=10*1024*1024,vv=function(r){return typeof r=="string"&&r.length!==0&&!i1.test(r)},wv=function(r){return typeof r=="string"&&r.length!==0&&!s1.test(r)},o1=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),wv(r)},Ev=function(r,e,n,s){s&&e===void 0||Cf(qd(r,"value"),e,n)},Cf=function(r,e,n){const s=n instanceof Ue?new II(n,r):n;if(e===void 0)throw new Error(r+"contains undefined "+Wi(s));if(typeof e=="function")throw new Error(r+"contains a function "+Wi(s)+" with contents = "+e.toString());if(wy(e))throw new Error(r+"contains "+e.toString()+" "+Wi(s));if(typeof e=="string"&&e.length>ad/3&&ic(e)>ad)throw new Error(r+"contains a string greater than "+ad+" utf8 bytes "+Wi(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(Qt(e,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(u=!0,!vv(h)))throw new Error(r+" contains an invalid key ("+h+") "+Wi(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);TI(s,h),Cf(r,m,s),kI(s)}),o&&u)throw new Error(r+' contains ".value" child '+Wi(s)+" in addition to actual children.")}},Sv=function(r,e,n,s){if(!wv(n))throw new Error(qd(r,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},l1=function(r,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sv(r,e,n)},If=function(r,e){if(we(e)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},a1=function(r,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!o1(n))throw new Error(qd(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Tf(r,e){let n=null;for(let s=0;s<e.length;s++){const o=e[s],u=o.getPath();n!==null&&!tf(u,n.path)&&(r.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(o)}n&&r.eventLists_.push(n)}function Cv(r,e,n){Tf(r,n),Iv(r,s=>tf(s,e))}function Rr(r,e,n){Tf(r,n),Iv(r,s=>xn(s,e)||xn(e,s))}function Iv(r,e){r.recursionDepth_++;let n=!0;for(let s=0;s<r.eventLists_.length;s++){const o=r.eventLists_[s];if(o){const u=o.path;e(u)?(c1(r.eventLists_[s]),r.eventLists_[s]=null):n=!1}}n&&(r.eventLists_=[]),r.recursionDepth_--}function c1(r){for(let e=0;e<r.events.length;e++){const n=r.events[e];if(n!==null){r.events[e]=null;const s=n.getEventRunner();Cl&&xt("event: "+n.toString()),mo(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="repo_interrupt",d1=25;class f1{constructor(e,n,s,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new u1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uu(),this.transactionQueueTree_=new Ef,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function p1(r,e,n){if(r.stats_=Zd(r.repoInfo_),r.forceRestClient_||YC())r.server_=new Fu(r.repoInfo_,(s,o,u,h)=>{r_(r,s,o,u,h)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>i_(r,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_t(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}r.persistentConnection_=new Ir(r.repoInfo_,e,(s,o,u,h)=>{r_(r,s,o,u,h)},s=>{i_(r,s)},s=>{m1(r,s)},r.authTokenProvider_,r.appCheckProvider_,n),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(s=>{r.server_.refreshAuthToken(s)}),r.appCheckProvider_.addTokenChangeListener(s=>{r.server_.refreshAppCheckToken(s.token)}),r.statsReporter_=eI(r.repoInfo_,()=>new JI(r.stats_,r.server_)),r.infoData_=new KI,r.infoSyncTree_=new e_({startListening:(s,o,u,h)=>{let m=[];const g=r.infoData_.getNode(s._path);return g.isEmpty()||(m=cc(r.infoSyncTree_,s._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),Rf(r,"connected",!1),r.serverSyncTree_=new e_({startListening:(s,o,u,h)=>(r.server_.listen(s,u,o,(m,g)=>{const y=h(m,g);Rr(r.eventQueue_,s._path,y)}),[]),stopListening:(s,o)=>{r.server_.unlisten(s,o)}})}function Tv(r){const n=r.infoData_.getNode(new Ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kf(r){return XT({timestamp:Tv(r)})}function r_(r,e,n,s,o){r.dataUpdateCount++;const u=new Ue(e);n=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,n):n;let h=[];if(o)if(s){const g=Ou(n,y=>Ct(y));h=GT(r.serverSyncTree_,u,g,o)}else{const g=Ct(n);h=$T(r.serverSyncTree_,u,g,o)}else if(s){const g=Ou(n,y=>Ct(y));h=BT(r.serverSyncTree_,u,g)}else{const g=Ct(n);h=cc(r.serverSyncTree_,u,g)}let m=u;h.length>0&&(m=fc(r,u)),Rr(r.eventQueue_,m,h)}function i_(r,e){Rf(r,"connected",e),e===!1&&_1(r)}function m1(r,e){Qt(e,(n,s)=>{Rf(r,n,s)})}function Rf(r,e,n){const s=new Ue("/.info/"+e),o=Ct(n);r.infoData_.updateSnapshot(s,o);const u=cc(r.infoSyncTree_,s,o);Rr(r.eventQueue_,s,u)}function kv(r){return r.nextWriteId_++}function g1(r,e,n,s,o){Nf(r,"set",{path:e.toString(),value:n,priority:s});const u=kf(r),h=Ct(n,s),m=pf(r.serverSyncTree_,e),g=mv(h,m,u),y=kv(r),E=hv(r.serverSyncTree_,e,g,y,!0);Tf(r.eventQueue_,E),r.server_.put(e.toString(),h.val(!0),(S,z)=>{const x=S==="ok";x||Yt("set at "+e+" failed: "+S);const M=Gi(r.serverSyncTree_,y,!x);Rr(r.eventQueue_,e,M),E1(r,o,S,z)});const C=Av(r,e);fc(r,C),Rr(r.eventQueue_,C,[])}function _1(r){Nf(r,"onDisconnectEvents");const e=kf(r),n=Uu();Id(r.onDisconnect_,Le(),(o,u)=>{const h=e1(o,u,r.serverSyncTree_,e);Xy(n,o,h)});let s=[];Id(n,Le(),(o,u)=>{s=s.concat(cc(r.serverSyncTree_,o,u));const h=Av(r,o);fc(r,h)}),r.onDisconnect_=Uu(),Rr(r.eventQueue_,Le(),s)}function y1(r,e,n){let s;we(e._path)===".info"?s=t_(r.infoSyncTree_,e,n):s=t_(r.serverSyncTree_,e,n),Cv(r.eventQueue_,e._path,s)}function v1(r,e,n){let s;we(e._path)===".info"?s=xd(r.infoSyncTree_,e,n):s=xd(r.serverSyncTree_,e,n),Cv(r.eventQueue_,e._path,s)}function w1(r){r.persistentConnection_&&r.persistentConnection_.interrupt(h1)}function Nf(r,...e){let n="";r.persistentConnection_&&(n=r.persistentConnection_.id+":"),xt(n,...e)}function E1(r,e,n,s){e&&mo(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let u=o;s&&(u+=": "+s);const h=new Error(u);h.code=o,e(h)}})}function Rv(r,e,n){return pf(r.serverSyncTree_,e,n)||pe.EMPTY_NODE}function Pf(r,e=r.transactionQueueTree_){if(e||pc(r,e),go(e)){const n=Pv(r,e);J(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&S1(r,Xl(e),n)}else _v(e)&&dc(e,n=>{Pf(r,n)})}function S1(r,e,n){const s=n.map(y=>y.currentWriteId),o=Rv(r,e,s);let u=o;const h=o.hash();for(let y=0;y<n.length;y++){const E=n[y];J(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const C=Kt(e,E.path);u=u.updateChild(C,E.currentOutputSnapshotRaw)}const m=u.val(!0),g=e;r.server_.put(g.toString(),m,y=>{Nf(r,"transaction put response",{path:g.toString(),status:y});let E=[];if(y==="ok"){const C=[];for(let S=0;S<n.length;S++)n[S].status=2,E=E.concat(Gi(r.serverSyncTree_,n[S].currentWriteId)),n[S].onComplete&&C.push(()=>n[S].onComplete(null,!0,n[S].currentOutputSnapshotResolved)),n[S].unwatcher();pc(r,Sf(r.transactionQueueTree_,e)),Pf(r,r.transactionQueueTree_),Rr(r.eventQueue_,e,E);for(let S=0;S<C.length;S++)mo(C[S])}else{if(y==="datastale")for(let C=0;C<n.length;C++)n[C].status===3?n[C].status=4:n[C].status=0;else{Yt("transaction at "+g.toString()+" failed: "+y);for(let C=0;C<n.length;C++)n[C].status=4,n[C].abortReason=y}fc(r,e)}},h)}function fc(r,e){const n=Nv(r,e),s=Xl(n),o=Pv(r,n);return C1(r,o,s),s}function C1(r,e,n){if(e.length===0)return;const s=[];let o=[];const h=e.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<e.length;m++){const g=e[m],y=Kt(n,g.path);let E=!1,C;if(J(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)E=!0,C=g.abortReason,o=o.concat(Gi(r.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=d1)E=!0,C="maxretry",o=o.concat(Gi(r.serverSyncTree_,g.currentWriteId,!0));else{const S=Rv(r,g.path,h);g.currentInputSnapshot=S;const z=e[m].update(S.val());if(z!==void 0){Cf("transaction failed: Data returned ",z,g.path);let x=Ct(z);typeof z=="object"&&z!=null&&Ar(z,".priority")||(x=x.updatePriority(S.getPriority()));const B=g.currentWriteId,G=kf(r),Q=mv(x,S,G);g.currentOutputSnapshotRaw=x,g.currentOutputSnapshotResolved=Q,g.currentWriteId=kv(r),h.splice(h.indexOf(B),1),o=o.concat(hv(r.serverSyncTree_,g.path,Q,g.currentWriteId,g.applyLocally)),o=o.concat(Gi(r.serverSyncTree_,B,!0))}else E=!0,C="nodata",o=o.concat(Gi(r.serverSyncTree_,g.currentWriteId,!0))}Rr(r.eventQueue_,n,o),o=[],E&&(e[m].status=2,function(S){setTimeout(S,Math.floor(0))}(e[m].unwatcher),e[m].onComplete&&(C==="nodata"?s.push(()=>e[m].onComplete(null,!1,e[m].currentInputSnapshot)):s.push(()=>e[m].onComplete(new Error(C),!1,null))))}pc(r,r.transactionQueueTree_);for(let m=0;m<s.length;m++)mo(s[m]);Pf(r,r.transactionQueueTree_)}function Nv(r,e){let n,s=r.transactionQueueTree_;for(n=we(e);n!==null&&go(s)===void 0;)s=Sf(s,n),e=Be(e),n=we(e);return s}function Pv(r,e){const n=[];return xv(r,e,n),n.sort((s,o)=>s.order-o.order),n}function xv(r,e,n){const s=go(e);if(s)for(let o=0;o<s.length;o++)n.push(s[o]);dc(e,o=>{xv(r,o,n)})}function pc(r,e){const n=go(e);if(n){let s=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[s]=n[o],s++);n.length=s,gv(e,n.length>0?n:void 0)}dc(e,s=>{pc(r,s)})}function Av(r,e){const n=Xl(Nv(r,e)),s=Sf(r.transactionQueueTree_,e);return n1(s,o=>{ud(r,o)}),ud(r,s),yv(s,o=>{ud(r,o)}),n}function ud(r,e){const n=go(e);if(n){const s=[];let o=[],u=-1;for(let h=0;h<n.length;h++)n[h].status===3||(n[h].status===1?(J(u===h-1,"All SENT items should be at beginning of queue."),u=h,n[h].status=3,n[h].abortReason="set"):(J(n[h].status===0,"Unexpected transaction status in abort"),n[h].unwatcher(),o=o.concat(Gi(r.serverSyncTree_,n[h].currentWriteId,!0)),n[h].onComplete&&s.push(n[h].onComplete.bind(null,new Error("set"),!1,null))));u===-1?gv(e,void 0):n.length=u+1,Rr(r.eventQueue_,Xl(e),o);for(let h=0;h<s.length;h++)mo(s[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){let e="";const n=r.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let o=n[s];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function T1(r){const e={};r.charAt(0)==="?"&&(r=r.substring(1));for(const n of r.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Yt(`Invalid query segment '${n}' in query '${r}'`)}return e}const s_=function(r,e){const n=k1(r),s=n.namespace;n.domain==="firebase.com"&&kr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&kr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zC();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Oy(n.host,n.secure,s,o,e,"",s!==n.subdomain),path:new Ue(n.pathString)}},k1=function(r){let e="",n="",s="",o="",u="",h=!0,m="https",g=443;if(typeof r=="string"){let y=r.indexOf("//");y>=0&&(m=r.substring(0,y-1),r=r.substring(y+2));let E=r.indexOf("/");E===-1&&(E=r.length);let C=r.indexOf("?");C===-1&&(C=r.length),e=r.substring(0,Math.min(E,C)),E<C&&(o=I1(r.substring(E,C)));const S=T1(r.substring(Math.min(r.length,C)));y=e.indexOf(":"),y>=0?(h=m==="https"||m==="wss",g=parseInt(e.substring(y+1),10)):y=e.length;const z=e.slice(0,y);if(z.toLowerCase()==="localhost")n="localhost";else if(z.split(".").length<=2)n=z;else{const x=e.indexOf(".");s=e.substring(0,x).toLowerCase(),n=e.substring(x+1),u=s}"ns"in S&&(u=S.ns)}return{host:e,port:g,domain:n,subdomain:s,secure:h,scheme:m,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",R1=function(){let r=0;const e=[];return function(n){const s=n===r;r=n;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=o_.charAt(n%64),n=Math.floor(n/64);J(n===0,"Cannot push at time == 0");let h=u.join("");if(s){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=o_.charAt(e[o]);return J(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,s,o){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_t(this.snapshot.exportVal())}}class P1{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,s,o){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=o}get key(){return Ce(this._path)?null:Hy(this._path)}get ref(){return new gi(this._repo,this._path)}get _queryIdentifier(){const e=Vg(this._queryParams),n=Xd(e);return n==="{}"?"default":n}get _queryObject(){return Vg(this._queryParams)}isEqual(e){if(e=rn(e),!(e instanceof xf))return!1;const n=this._repo===e._repo,s=tf(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&s&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+CI(this._path)}}class gi extends xf{constructor(e,n){super(e,n,new of,!1)}get parent(){const e=Vy(this._path);return e===null?null:new gi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Gu{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ue(e),s=zl(this.ref,e);return new Gu(this._node.getChild(n),s,Je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,o)=>e(new Gu(o,zl(this.ref,s),Je)))}hasChild(e){const n=new Ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _r(r,e){return r=rn(r),r._checkNotDeleted("ref"),e!==void 0?zl(r._root,e):r._root}function zl(r,e){return r=rn(r),we(r._path)===null?l1("child","path",e):Sv("child","path",e),new gi(r._repo,at(r._path,e))}function Ov(r,e){r=rn(r),If("push",r._path),Ev("push",e,r._path,!0);const n=Tv(r._repo),s=R1(n),o=zl(r,s),u=zl(r,s);let h;return h=Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function Dv(r){return If("remove",r._path),Hl(r,null)}function Hl(r,e){r=rn(r),If("set",r._path),Ev("set",e,r._path,!1);const n=new rc;return g1(r._repo,r._path,e,null,n.wrapCallback(()=>{})),n.promise}class Af{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new N1("value",this,new Gu(e.snapshotNode,new gi(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new P1(this,e,n):null}matches(e){return e instanceof Af?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function A1(r,e,n,s,o){const u=new x1(n,void 0),h=new Af(u);return y1(r._repo,r,h),()=>v1(r._repo,r,h)}function Od(r,e,n,s){return A1(r,"value",e)}DT(gi);jT(gi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="FIREBASE_DATABASE_EMULATOR_HOST",Dd={};let D1=!1;function L1(r,e,n,s){r.repoInfo_=new Oy(e,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(r.authTokenProvider_=s)}function M1(r,e,n,s,o){let u=s||r.options.databaseURL;u===void 0&&(r.options.projectId||kr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xt("Using default host for project ",r.options.projectId),u=`${r.options.projectId}-default-rtdb.firebaseio.com`);let h=s_(u,o),m=h.repoInfo,g;typeof process<"u"&&Tg&&(g=Tg[O1]),g?(u=`http://${g}?ns=${m.namespace}`,h=s_(u,o),m=h.repoInfo):h.repoInfo.secure;const y=new XC(r.name,r.options,e);a1("Invalid Firebase Database URL",h),Ce(h.path)||kr("Database URL must point to the root of a Firebase Database (not including a child path).");const E=F1(m,r,y,new QC(r,n));return new U1(E,r)}function b1(r,e){const n=Dd[e];(!n||n[r.key]!==r)&&kr(`Database ${e}(${r.repoInfo_}) has already been deleted.`),w1(r),delete n[r.key]}function F1(r,e,n,s){let o=Dd[e.name];o||(o={},Dd[e.name]=o);let u=o[r.toURLString()];return u&&kr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new f1(r,D1,n,s),o[r.toURLString()]=u,u}class U1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(p1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gi(this._repo,Le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(b1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kr("Cannot call "+e+" on a deleted database.")}}function j1(r=Qd(),e){const n=oc(r,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=oy("database");s&&z1(n,...s)}return n}function z1(r,e,n,s={}){r=rn(r),r._checkNotDeleted("useEmulator");const o=`${e}:${n}`,u=r._repoInternal;if(r._instanceStarted){if(o===r._repoInternal.repoInfo_.host&&di(s,u.repoInfo_.emulatorOptions))return;kr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&kr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Iu(Iu.OWNER);else if(s.mockUserToken){const m=typeof s.mockUserToken=="string"?s.mockUserToken:uy(s.mockUserToken,r.app.options.projectId);h=new Iu(m)}L1(u,o,s,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r){LC(rs),Qi(new fi("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return M1(s,o,u,n)},"PUBLIC").setMultipleInstances(!0)),Kn(kg,Rg,r),Kn(kg,Rg,"esm2017")}Ir.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)};Ir.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)};H1();var B1="firebase",V1="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(B1,V1,"app");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function k(){}k.prototype=I.prototype,O.D=I.prototype,O.prototype=new k,O.prototype.constructor=O,O.C=function(P,D,b){for(var R=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)R[Ze-2]=arguments[Ze];return I.prototype[D].apply(P,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,I,k){k||(k=0);var P=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)P[D]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(D=0;16>D;++D)P[D]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=O.g[0],k=O.g[1],D=O.g[2];var b=O.g[3],R=I+(b^k&(D^b))+P[0]+3614090360&4294967295;I=k+(R<<7&4294967295|R>>>25),R=b+(D^I&(k^D))+P[1]+3905402710&4294967295,b=I+(R<<12&4294967295|R>>>20),R=D+(k^b&(I^k))+P[2]+606105819&4294967295,D=b+(R<<17&4294967295|R>>>15),R=k+(I^D&(b^I))+P[3]+3250441966&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(b^k&(D^b))+P[4]+4118548399&4294967295,I=k+(R<<7&4294967295|R>>>25),R=b+(D^I&(k^D))+P[5]+1200080426&4294967295,b=I+(R<<12&4294967295|R>>>20),R=D+(k^b&(I^k))+P[6]+2821735955&4294967295,D=b+(R<<17&4294967295|R>>>15),R=k+(I^D&(b^I))+P[7]+4249261313&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(b^k&(D^b))+P[8]+1770035416&4294967295,I=k+(R<<7&4294967295|R>>>25),R=b+(D^I&(k^D))+P[9]+2336552879&4294967295,b=I+(R<<12&4294967295|R>>>20),R=D+(k^b&(I^k))+P[10]+4294925233&4294967295,D=b+(R<<17&4294967295|R>>>15),R=k+(I^D&(b^I))+P[11]+2304563134&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(b^k&(D^b))+P[12]+1804603682&4294967295,I=k+(R<<7&4294967295|R>>>25),R=b+(D^I&(k^D))+P[13]+4254626195&4294967295,b=I+(R<<12&4294967295|R>>>20),R=D+(k^b&(I^k))+P[14]+2792965006&4294967295,D=b+(R<<17&4294967295|R>>>15),R=k+(I^D&(b^I))+P[15]+1236535329&4294967295,k=D+(R<<22&4294967295|R>>>10),R=I+(D^b&(k^D))+P[1]+4129170786&4294967295,I=k+(R<<5&4294967295|R>>>27),R=b+(k^D&(I^k))+P[6]+3225465664&4294967295,b=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(b^I))+P[11]+643717713&4294967295,D=b+(R<<14&4294967295|R>>>18),R=k+(b^I&(D^b))+P[0]+3921069994&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(D^b&(k^D))+P[5]+3593408605&4294967295,I=k+(R<<5&4294967295|R>>>27),R=b+(k^D&(I^k))+P[10]+38016083&4294967295,b=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(b^I))+P[15]+3634488961&4294967295,D=b+(R<<14&4294967295|R>>>18),R=k+(b^I&(D^b))+P[4]+3889429448&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(D^b&(k^D))+P[9]+568446438&4294967295,I=k+(R<<5&4294967295|R>>>27),R=b+(k^D&(I^k))+P[14]+3275163606&4294967295,b=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(b^I))+P[3]+4107603335&4294967295,D=b+(R<<14&4294967295|R>>>18),R=k+(b^I&(D^b))+P[8]+1163531501&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(D^b&(k^D))+P[13]+2850285829&4294967295,I=k+(R<<5&4294967295|R>>>27),R=b+(k^D&(I^k))+P[2]+4243563512&4294967295,b=I+(R<<9&4294967295|R>>>23),R=D+(I^k&(b^I))+P[7]+1735328473&4294967295,D=b+(R<<14&4294967295|R>>>18),R=k+(b^I&(D^b))+P[12]+2368359562&4294967295,k=D+(R<<20&4294967295|R>>>12),R=I+(k^D^b)+P[5]+4294588738&4294967295,I=k+(R<<4&4294967295|R>>>28),R=b+(I^k^D)+P[8]+2272392833&4294967295,b=I+(R<<11&4294967295|R>>>21),R=D+(b^I^k)+P[11]+1839030562&4294967295,D=b+(R<<16&4294967295|R>>>16),R=k+(D^b^I)+P[14]+4259657740&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(k^D^b)+P[1]+2763975236&4294967295,I=k+(R<<4&4294967295|R>>>28),R=b+(I^k^D)+P[4]+1272893353&4294967295,b=I+(R<<11&4294967295|R>>>21),R=D+(b^I^k)+P[7]+4139469664&4294967295,D=b+(R<<16&4294967295|R>>>16),R=k+(D^b^I)+P[10]+3200236656&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(k^D^b)+P[13]+681279174&4294967295,I=k+(R<<4&4294967295|R>>>28),R=b+(I^k^D)+P[0]+3936430074&4294967295,b=I+(R<<11&4294967295|R>>>21),R=D+(b^I^k)+P[3]+3572445317&4294967295,D=b+(R<<16&4294967295|R>>>16),R=k+(D^b^I)+P[6]+76029189&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(k^D^b)+P[9]+3654602809&4294967295,I=k+(R<<4&4294967295|R>>>28),R=b+(I^k^D)+P[12]+3873151461&4294967295,b=I+(R<<11&4294967295|R>>>21),R=D+(b^I^k)+P[15]+530742520&4294967295,D=b+(R<<16&4294967295|R>>>16),R=k+(D^b^I)+P[2]+3299628645&4294967295,k=D+(R<<23&4294967295|R>>>9),R=I+(D^(k|~b))+P[0]+4096336452&4294967295,I=k+(R<<6&4294967295|R>>>26),R=b+(k^(I|~D))+P[7]+1126891415&4294967295,b=I+(R<<10&4294967295|R>>>22),R=D+(I^(b|~k))+P[14]+2878612391&4294967295,D=b+(R<<15&4294967295|R>>>17),R=k+(b^(D|~I))+P[5]+4237533241&4294967295,k=D+(R<<21&4294967295|R>>>11),R=I+(D^(k|~b))+P[12]+1700485571&4294967295,I=k+(R<<6&4294967295|R>>>26),R=b+(k^(I|~D))+P[3]+2399980690&4294967295,b=I+(R<<10&4294967295|R>>>22),R=D+(I^(b|~k))+P[10]+4293915773&4294967295,D=b+(R<<15&4294967295|R>>>17),R=k+(b^(D|~I))+P[1]+2240044497&4294967295,k=D+(R<<21&4294967295|R>>>11),R=I+(D^(k|~b))+P[8]+1873313359&4294967295,I=k+(R<<6&4294967295|R>>>26),R=b+(k^(I|~D))+P[15]+4264355552&4294967295,b=I+(R<<10&4294967295|R>>>22),R=D+(I^(b|~k))+P[6]+2734768916&4294967295,D=b+(R<<15&4294967295|R>>>17),R=k+(b^(D|~I))+P[13]+1309151649&4294967295,k=D+(R<<21&4294967295|R>>>11),R=I+(D^(k|~b))+P[4]+4149444226&4294967295,I=k+(R<<6&4294967295|R>>>26),R=b+(k^(I|~D))+P[11]+3174756917&4294967295,b=I+(R<<10&4294967295|R>>>22),R=D+(I^(b|~k))+P[2]+718787259&4294967295,D=b+(R<<15&4294967295|R>>>17),R=k+(b^(D|~I))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+b&4294967295}s.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var k=I-this.blockSize,P=this.B,D=this.h,b=0;b<I;){if(D==0)for(;b<=k;)o(this,O,b),b+=this.blockSize;if(typeof O=="string"){for(;b<I;)if(P[D++]=O.charCodeAt(b++),D==this.blockSize){o(this,P),D=0;break}}else for(;b<I;)if(P[D++]=O[b++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=I},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var k=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=k&255,k/=256;for(this.u(O),O=Array(16),I=k=0;4>I;++I)for(var P=0;32>P;P+=8)O[k++]=this.g[I]>>>P&255;return O};function u(O,I){var k=m;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=I(O)}function h(O,I){this.h=I;for(var k=[],P=!0,D=O.length-1;0<=D;D--){var b=O[D]|0;P&&b==I||(k[D]=b,P=!1)}this.g=k}var m={};function g(O){return-128<=O&&128>O?u(O,function(I){return new h([I|0],0>I?-1:0)}):new h([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return B(y(-O));for(var I=[],k=1,P=0;O>=k;P++)I[P]=O/k|0,k*=4294967296;return new h(I,0)}function E(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return B(E(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(I,8)),P=C,D=0;D<O.length;D+=8){var b=Math.min(8,O.length-D),R=parseInt(O.substring(D,D+b),I);8>b?(b=y(Math.pow(I,b)),P=P.j(b).add(y(R))):(P=P.j(k),P=P.add(y(R)))}return P}var C=g(0),S=g(1),z=g(16777216);r=h.prototype,r.m=function(){if(M(this))return-B(this).m();for(var O=0,I=1,k=0;k<this.g.length;k++){var P=this.i(k);O+=(0<=P?P:4294967296+P)*I,I*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(M(this))return"-"+B(this).toString(O);for(var I=y(Math.pow(O,6)),k=this,P="";;){var D=fe(k,I).g;k=G(k,D.j(I));var b=((0<k.g.length?k.g[0]:k.h)>>>0).toString(O);if(k=D,x(k))return b+P;for(;6>b.length;)b="0"+b;P=b+P}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function M(O){return O.h==-1}r.l=function(O){return O=G(this,O),M(O)?-1:x(O)?0:1};function B(O){for(var I=O.g.length,k=[],P=0;P<I;P++)k[P]=~O.g[P];return new h(k,~O.h).add(S)}r.abs=function(){return M(this)?B(this):this},r.add=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],P=0,D=0;D<=I;D++){var b=P+(this.i(D)&65535)+(O.i(D)&65535),R=(b>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);P=R>>>16,b&=65535,R&=65535,k[D]=R<<16|b}return new h(k,k[k.length-1]&-2147483648?-1:0)};function G(O,I){return O.add(B(I))}r.j=function(O){if(x(this)||x(O))return C;if(M(this))return M(O)?B(this).j(B(O)):B(B(this).j(O));if(M(O))return B(this.j(B(O)));if(0>this.l(z)&&0>O.l(z))return y(this.m()*O.m());for(var I=this.g.length+O.g.length,k=[],P=0;P<2*I;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<O.g.length;D++){var b=this.i(P)>>>16,R=this.i(P)&65535,Ze=O.i(D)>>>16,It=O.i(D)&65535;k[2*P+2*D]+=R*It,Q(k,2*P+2*D),k[2*P+2*D+1]+=b*It,Q(k,2*P+2*D+1),k[2*P+2*D+1]+=R*Ze,Q(k,2*P+2*D+1),k[2*P+2*D+2]+=b*Ze,Q(k,2*P+2*D+2)}for(P=0;P<I;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=I;P<2*I;P++)k[P]=0;return new h(k,0)};function Q(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function ie(O,I){this.g=O,this.h=I}function fe(O,I){if(x(I))throw Error("division by zero");if(x(O))return new ie(C,C);if(M(O))return I=fe(B(O),I),new ie(B(I.g),B(I.h));if(M(I))return I=fe(O,B(I)),new ie(B(I.g),I.h);if(30<O.g.length){if(M(O)||M(I))throw Error("slowDivide_ only works with positive integers.");for(var k=S,P=I;0>=P.l(O);)k=Te(k),P=Te(P);var D=Se(k,1),b=Se(P,1);for(P=Se(P,2),k=Se(k,2);!x(P);){var R=b.add(P);0>=R.l(O)&&(D=D.add(k),b=R),P=Se(P,1),k=Se(k,1)}return I=G(O,D.j(I)),new ie(D,I)}for(D=C;0<=O.l(I);){for(k=Math.max(1,Math.floor(O.m()/I.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),b=y(k),R=b.j(I);M(R)||0<R.l(O);)k-=P,b=y(k),R=b.j(I);x(b)&&(b=S),D=D.add(b),O=G(O,R)}return new ie(D,O)}r.A=function(O){return fe(this,O).h},r.and=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)&O.i(P);return new h(k,this.h&O.h)},r.or=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)|O.i(P);return new h(k,this.h|O.h)},r.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)^O.i(P);return new h(k,this.h^O.h)};function Te(O){for(var I=O.g.length+1,k=[],P=0;P<I;P++)k[P]=O.i(P)<<1|O.i(P-1)>>>31;return new h(k,O.h)}function Se(O,I){var k=I>>5;I%=32;for(var P=O.g.length-k,D=[],b=0;b<P;b++)D[b]=0<I?O.i(b+k)>>>I|O.i(b+k+1)<<32-I:O.i(b+k);return new h(D,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Lv=h}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,_){return a==Array.prototype||a==Object.prototype||(a[f]=_.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof wu=="object"&&wu];for(var f=0;f<a.length;++f){var _=a[f];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(a,f){if(f)e:{var _=s;a=a.split(".");for(var w=0;w<a.length-1;w++){var F=a[w];if(!(F in _))break e;_=_[F]}a=a[a.length-1],w=_[a],f=f(w),f!=w&&f!=null&&e(_,a,{configurable:!0,writable:!0,value:f})}}function u(a,f){a instanceof String&&(a+="");var _=0,w=!1,F={next:function(){if(!w&&_<a.length){var V=_++;return{value:f(V,a[V]),done:!1}}return w=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(a){return a||function(){return u(this,function(f,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function y(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function E(a,f,_){return a.call.apply(a.bind,arguments)}function C(a,f,_){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,w),a.apply(f,F)}}return function(){return a.apply(f,arguments)}}function S(a,f,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:C,S.apply(null,arguments)}function z(a,f){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function x(a,f){function _(){}_.prototype=f.prototype,a.aa=f.prototype,a.prototype=new _,a.prototype.constructor=a,a.Qb=function(w,F,V){for(var Z=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)Z[Me-2]=arguments[Me];return f.prototype[F].apply(w,Z)}}function M(a){const f=a.length;if(0<f){const _=Array(f);for(let w=0;w<f;w++)_[w]=a[w];return _}return[]}function B(a,f){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(g(w)){const F=a.length||0,V=w.length||0;a.length=F+V;for(let Z=0;Z<V;Z++)a[F+Z]=w[Z]}else a.push(w)}}class G{constructor(f,_){this.i=f,this.j=_,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Q(a){return/^[\s\xa0]*$/.test(a)}function ie(){var a=m.navigator;return a&&(a=a.userAgent)?a:""}function fe(a){return fe[" "](a),a}fe[" "]=function(){};var Te=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Se(a,f,_){for(const w in a)f.call(_,a[w],w,a)}function O(a,f){for(const _ in a)f.call(void 0,a[_],_,a)}function I(a){const f={};for(const _ in a)f[_]=a[_];return f}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(a,f){let _,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(_ in w)a[_]=w[_];for(let V=0;V<k.length;V++)_=k[V],Object.prototype.hasOwnProperty.call(w,_)&&(a[_]=w[_])}}function D(a){var f=1;a=a.split(":");const _=[];for(;0<f&&a.length;)_.push(a.shift()),f--;return a.length&&_.push(a.join(":")),_}function b(a){m.setTimeout(()=>{throw a},0)}function R(){var a=ce;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Ze{constructor(){this.h=this.g=null}add(f,_){const w=It.get();w.set(f,_),this.h?this.h.next=w:this.g=w,this.h=w}}var It=new G(()=>new Tt,a=>a.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(f,_){this.h=f,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ee=!1,ce=new Ze,re=()=>{const a=m.Promise.resolve(void 0);be=()=>{a.then(L)}};var L=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(_){b(_)}var f=It;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}ee=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const _=()=>{};m.addEventListener("test",_,f),m.removeEventListener("test",_,f)}catch{}return a}();function ye(a,f){if(ue.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var _=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(Te){e:{try{fe(f.nodeName);var F=!0;break e}catch{}F=!1}F||(f=null)}}else _=="mouseover"?f=a.fromElement:_=="mouseout"&&(f=a.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ke[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ye.aa.h.call(this)}}x(ye,ue);var ke={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function je(a,f,_,w,F){this.listener=a,this.proxy=null,this.src=f,this.type=_,this.capture=!!w,this.ha=F,this.key=++Oe,this.da=this.fa=!1}function ut(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Jn(a){this.src=a,this.g={},this.h=0}Jn.prototype.add=function(a,f,_,w,F){var V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);var Z=Or(a,f,w,F);return-1<Z?(f=a[Z],_||(f.fa=!1)):(f=new je(f,this.src,V,!!w,F),f.fa=_,a.push(f)),f};function ss(a,f){var _=f.type;if(_ in a.g){var w=a.g[_],F=Array.prototype.indexOf.call(w,f,void 0),V;(V=0<=F)&&Array.prototype.splice.call(w,F,1),V&&(ut(f),a.g[_].length==0&&(delete a.g[_],a.h--))}}function Or(a,f,_,w){for(var F=0;F<a.length;++F){var V=a[F];if(!V.da&&V.listener==f&&V.capture==!!_&&V.ha==w)return F}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),os={};function yo(a,f,_,w,F){if(Array.isArray(f)){for(var V=0;V<f.length;V++)yo(a,f[V],_,w,F);return null}return _=Eo(_),a&&a[Ae]?a.K(f,_,y(w)?!!w.capture:!1,F):vo(a,f,_,!1,w,F)}function vo(a,f,_,w,F,V){if(!f)throw Error("Invalid event type");var Z=y(F)?!!F.capture:!!F,Me=as(a);if(Me||(a[_i]=Me=new Jn(a)),_=Me.add(f,_,w,Z,V),_.proxy)return _;if(w=na(),_.proxy=w,w.src=a,w.listener=_,a.addEventListener)_e||(F=Z),F===void 0&&(F=!1),a.addEventListener(f.toString(),w,F);else if(a.attachEvent)a.attachEvent(er(f.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function na(){function a(_){return f.call(a.src,a.listener,_)}const f=wo;return a}function ls(a,f,_,w,F){if(Array.isArray(f))for(var V=0;V<f.length;V++)ls(a,f[V],_,w,F);else w=y(w)?!!w.capture:!!w,_=Eo(_),a&&a[Ae]?(a=a.i,f=String(f).toString(),f in a.g&&(V=a.g[f],_=Or(V,_,w,F),-1<_&&(ut(V[_]),Array.prototype.splice.call(V,_,1),V.length==0&&(delete a.g[f],a.h--)))):a&&(a=as(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Or(f,_,w,F)),(_=-1<a?f[a]:null)&&Zn(_))}function Zn(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Ae])ss(f.i,a);else{var _=a.type,w=a.proxy;f.removeEventListener?f.removeEventListener(_,w,a.capture):f.detachEvent?f.detachEvent(er(_),w):f.addListener&&f.removeListener&&f.removeListener(w),(_=as(f))?(ss(_,a),_.h==0&&(_.src=null,f[_i]=null)):ut(a)}}}function er(a){return a in os?os[a]:os[a]="on"+a}function wo(a,f){if(a.da)a=!0;else{f=new ye(f,this);var _=a.listener,w=a.ha||a.src;a.fa&&Zn(a),a=_.call(w,f)}return a}function as(a){return a=a[_i],a instanceof Jn?a:null}var us="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eo(a){return typeof a=="function"?a:(a[us]||(a[us]=function(f){return a.handleEvent(f)}),a[us])}function rt(){$.call(this),this.i=new Jn(this),this.M=this,this.F=null}x(rt,$),rt.prototype[Ae]=!0,rt.prototype.removeEventListener=function(a,f,_,w){ls(this,a,f,_,w)};function it(a,f){var _,w=a.F;if(w)for(_=[];w;w=w.F)_.push(w);if(a=a.M,w=f.type||f,typeof f=="string")f=new ue(f,a);else if(f instanceof ue)f.target=f.target||a;else{var F=f;f=new ue(w,a),P(f,F)}if(F=!0,_)for(var V=_.length-1;0<=V;V--){var Z=f.g=_[V];F=tr(Z,w,!0,f)&&F}if(Z=f.g=a,F=tr(Z,w,!0,f)&&F,F=tr(Z,w,!1,f)&&F,_)for(V=0;V<_.length;V++)Z=f.g=_[V],F=tr(Z,w,!1,f)&&F}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var _=a.g[f],w=0;w<_.length;w++)ut(_[w]);delete a.g[f],a.h--}}this.F=null},rt.prototype.K=function(a,f,_,w){return this.i.add(String(a),f,!1,_,w)},rt.prototype.L=function(a,f,_,w){return this.i.add(String(a),f,!0,_,w)};function tr(a,f,_,w){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var F=!0,V=0;V<f.length;++V){var Z=f[V];if(Z&&!Z.da&&Z.capture==_){var Me=Z.listener,st=Z.ha||Z.src;Z.fa&&ss(a.i,Z),F=Me.call(st,w)!==!1&&F}}return F&&!w.defaultPrevented}function So(a,f,_){if(typeof a=="function")_&&(a=S(a,_));else if(a&&typeof a.handleEvent=="function")a=S(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(a,f||0)}function Dr(a){a.g=So(()=>{a.g=null,a.i&&(a.i=!1,Dr(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class yi extends ${constructor(f,_){super(),this.m=f,this.l=_,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Dr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(a){$.call(this),this.h=a,this.g={}}x(vi,$);var Co=[];function Io(a){Se(a.g,function(f,_){this.g.hasOwnProperty(_)&&Zn(f)},a),a.g={}}vi.prototype.N=function(){vi.aa.N.call(this),Io(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var To=m.JSON.stringify,ko=m.JSON.parse,Ro=class{stringify(a){return m.JSON.stringify(a,void 0)}parse(a){return m.JSON.parse(a,void 0)}};function wi(){}wi.prototype.h=null;function cs(a){return a.h||(a.h=a.i())}function No(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){ue.call(this,"d")}x(Mn,ue);function hs(){ue.call(this,"c")}x(hs,ue);var nr={},Po=null;function ds(){return Po=Po||new rt}nr.La="serverreachability";function xo(a){ue.call(this,nr.La,a)}x(xo,ue);function rr(a){const f=ds();it(f,new xo(f))}nr.STAT_EVENT="statevent";function Ao(a,f){ue.call(this,nr.STAT_EVENT,a),this.stat=f}x(Ao,ue);function et(a){const f=ds();it(f,new Ao(f,a))}nr.Ma="timingevent";function fs(a,f){ue.call(this,nr.Ma,a),this.size=f}x(fs,ue);function mn(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){a()},f)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Si(a,f,_,w,F,V){a.info(function(){if(a.g)if(V)for(var Z="",Me=V.split("&"),st=0;st<Me.length;st++){var Re=Me[st].split("=");if(1<Re.length){var ct=Re[0];Re=Re[1];var ht=ct.split("_");Z=2<=ht.length&&ht[1]=="type"?Z+(ct+"="+Re+"&"):Z+(ct+"=redacted&")}}else Z=null;else Z=V;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+f+`
`+_+`
`+Z})}function ps(a,f,_,w,F,V,Z){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+f+`
`+_+`
`+V+" "+Z})}function gn(a,f,_,w){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+yc(a,_)+(w?" "+w:"")})}function Oo(a,f){a.info(function(){return"TIMEOUT: "+f})}Ei.prototype.info=function(){};function yc(a,f){if(!a.g)return f;if(!f)return null;try{var _=JSON.parse(f);if(_){for(a=0;a<_.length;a++)if(Array.isArray(_[a])){var w=_[a];if(!(2>w.length)){var F=w[1];if(Array.isArray(F)&&!(1>F.length)){var V=F[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Z=1;Z<F.length;Z++)F[Z]=""}}}}return To(_)}catch{return f}}var Do={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function Ci(){}x(Ci,wi),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},_n=new Ci;function yn(a,f,_,w){this.j=a,this.i=f,this.l=_,this.R=w||1,this.U=new vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ra}function ra(){this.i=null,this.g="",this.h=!1}var Lo={},ms={};function gs(a,f,_){a.L=1,a.v=Ur(Jt(f)),a.m=_,a.P=!0,Mo(a,null)}function Mo(a,f){a.F=Date.now(),ze(a),a.A=Jt(a.v);var _=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),zr(_.i,"t",w),a.C=0,_=a.j.J,a.h=new ra,a.g=Ea(a.j,_?f:null,!a.m),0<a.O&&(a.M=new yi(S(a.Y,a,a.g),a.O)),f=a.U,_=a.g,w=a.ca;var F="readystatechange";Array.isArray(F)||(F&&(Co[0]=F.toString()),F=Co);for(var V=0;V<F.length;V++){var Z=yo(_,F[V],w||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=a.H?I(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),rr(),Si(a.i,a.u,a.A,a.l,a.R,a.m)}yn.prototype.ca=function(a){a=a.target;const f=this.M;f&&Ft(a)==3?f.j():this.Y(a)},yn.prototype.Y=function(a){try{if(a==this.g)e:{const ht=Ft(this.g);var f=this.g.Ba();const zn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||ht!=4||f==7||(f==8||0>=zn?rr(3):rr(2)),Ii(this);var _=this.g.Z();this.X=_;t:if(ia(this)){var w=Ho(this.g);a="";var F=w.length,V=Ft(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),Lr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(f=0;f<F;f++)this.h.h=!0,a+=this.h.i.decode(w[f],{stream:!(V&&f==F-1)});w.length=0,this.h.g+=a,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,ps(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,st=this.g;if((Me=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Me)){var Re=Me;break t}}Re=null}if(_=Re)gn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bo(this,_);else{this.o=!1,this.s=3,et(12),on(this),Lr(this);break e}}if(this.P){_=!0;let wt;for(;!this.J&&this.C<Z.length;)if(wt=wc(this,Z),wt==ms){ht==4&&(this.s=4,et(14),_=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Lo){this.s=4,et(15),gn(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else gn(this.i,this.l,wt,null),bo(this,wt);if(ia(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||Z.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)gn(this.i,this.l,Z,"[Invalid Chunked Response]"),on(this),Lr(this);else if(0<Z.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Vo(ct),ct.M=!0,et(11))}}else gn(this.i,this.l,Z,null),bo(this,Z);ht==4&&on(this),this.o&&!this.J&&(ht==4?Rs(this.j,this):(this.o=!1,ze(this)))}else Ss(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),on(this),Lr(this)}}}catch{}finally{}};function ia(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function wc(a,f){var _=a.C,w=f.indexOf(`
`,_);return w==-1?ms:(_=Number(f.substring(_,w)),isNaN(_)?Lo:(w+=1,w+_>f.length?ms:(f=f.slice(w,w+_),a.C=w+_,f)))}yn.prototype.cancel=function(){this.J=!0,on(this)};function ze(a){a.S=Date.now()+a.I,sa(a,a.I)}function sa(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=mn(S(a.ba,a),f)}function Ii(a){a.B&&(m.clearTimeout(a.B),a.B=null)}yn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Oo(this.i,this.A),this.L!=2&&(rr(),et(17)),on(this),this.s=2,Lr(this)):sa(this,this.S-a)};function Lr(a){a.j.G==0||a.J||Rs(a.j,a)}function on(a){Ii(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Io(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function bo(a,f){try{var _=a.j;if(_.G!=0&&(_.g==a||At(_.h,a))){if(!a.K&&At(_.h,a)&&_.G==3){try{var w=_.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<a.F)ks(_),Cn(_);else break e;Ts(_),et(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=mn(S(_.Za,_),6e3));if(1>=la(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ar(_,11)}else if((a.K||_.g==a)&&ks(_),!Q(f))for(F=_.Da.g.parse(f),f=0;f<F.length;f++){let Re=F[f];if(_.T=Re[0],Re=Re[1],_.G==2)if(Re[0]=="c"){_.K=Re[1],_.ia=Re[2];const ct=Re[3];ct!=null&&(_.la=ct,_.j.info("VER="+_.la));const ht=Re[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const zn=Re[5];zn!=null&&typeof zn=="number"&&0<zn&&(w=1.5*zn,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const wt=a.g;if(wt){const Ns=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var V=w.h;V.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Fo(V,V.h),V.h=null))}if(w.D){const Ps=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(w.ya=Ps,Fe(w.I,w.D,Ps))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-a.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var Z=a;if(w.qa=wa(w,w.J?w.ia:null,w.W),Z.K){aa(w.h,Z);var Me=Z,st=w.L;st&&(Me.I=st),Me.B&&(Ii(Me),ze(Me)),w.g=Z}else xi(w);0<_.i.length&&jn(_)}else Re[0]!="stop"&&Re[0]!="close"||ar(_,7);else _.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?ar(_,7):vt(_):Re[0]!="noop"&&_.l&&_.l.ta(Re),_.v=0)}}rr(4)}catch{}}var oa=class{constructor(a,f){this.g=a,this.map=f}};function Ti(a){this.l=a||10,m.PerformanceNavigationTiming?(a=m.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function la(a){return a.h?1:a.g?a.g.size:0}function At(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Fo(a,f){a.g?a.g.add(f):a.h=f}function aa(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Ti.prototype.cancel=function(){if(this.i=ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ua(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const _ of a.g.values())f=f.concat(_.D);return f}return M(a.i)}function _s(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(g(a)){for(var f=[],_=a.length,w=0;w<_;w++)f.push(a[w]);return f}f=[],_=0;for(w in a)f[_++]=a[w];return f}function ys(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(g(a)||typeof a=="string"){var f=[];a=a.length;for(var _=0;_<a;_++)f.push(_);return f}f=[],_=0;for(const w in a)f[_++]=w;return f}}}function Mr(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(g(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var _=ys(a),w=_s(a),F=w.length,V=0;V<F;V++)f.call(void 0,w[V],_&&_[V],a)}var ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ec(a,f){if(a){a=a.split("&");for(var _=0;_<a.length;_++){var w=a[_].indexOf("="),F=null;if(0<=w){var V=a[_].substring(0,w);F=a[_].substring(w+1)}else V=a[_];f(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ir(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ir){this.h=a.h,Ri(this,a.j),this.o=a.o,this.g=a.g,br(this,a.s),this.l=a.l;var f=a.i,_=new bn;_.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),Fr(this,_),this.m=a.m}else a&&(f=String(a).match(ki))?(this.h=!1,Ri(this,f[1]||"",!0),this.o=Ie(f[2]||""),this.g=Ie(f[3]||"",!0),br(this,f[4]),this.l=Ie(f[5]||"",!0),Fr(this,f[6]||"",!0),this.m=Ie(f[7]||"")):(this.h=!1,this.i=new bn(null,this.h))}ir.prototype.toString=function(){var a=[],f=this.j;f&&a.push(jr(f,vs,!0),":");var _=this.g;return(_||f=="file")&&(a.push("//"),(f=this.o)&&a.push(jr(f,vs,!0),"@"),a.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&a.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&a.push("/"),a.push(jr(_,_.charAt(0)=="/"?da:ha,!0))),(_=this.i.toString())&&a.push("?",_),(_=this.m)&&a.push("#",jr(_,Uo)),a.join("")};function Jt(a){return new ir(a)}function Ri(a,f,_){a.j=_?Ie(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function br(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function Fr(a,f,_){f instanceof bn?(a.i=f,Fn(a.i,a.h)):(_||(f=jr(f,fa)),a.i=new bn(f,a.h))}function Fe(a,f,_){a.i.set(f,_)}function Ur(a){return Fe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ie(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function jr(a,f,_){return typeof a=="string"?(a=encodeURI(a).replace(f,ca),_&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ca(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var vs=/[#\/\?@]/g,ha=/[#\?:]/g,da=/[#\?]/g,fa=/[#\?@]/g,Uo=/#/g;function bn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function yt(a){a.g||(a.g=new Map,a.h=0,a.i&&Ec(a.i,function(f,_){a.add(decodeURIComponent(f.replace(/\+/g," ")),_)}))}r=bn.prototype,r.add=function(a,f){yt(this),this.i=null,a=ln(this,a);var _=this.g.get(a);return _||this.g.set(a,_=[]),_.push(f),this.h+=1,this};function vn(a,f){yt(a),f=ln(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function wn(a,f){return yt(a),f=ln(a,f),a.g.has(f)}r.forEach=function(a,f){yt(this),this.g.forEach(function(_,w){_.forEach(function(F){a.call(f,F,w,this)},this)},this)},r.na=function(){yt(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),_=[];for(let w=0;w<f.length;w++){const F=a[w];for(let V=0;V<F.length;V++)_.push(f[w])}return _},r.V=function(a){yt(this);let f=[];if(typeof a=="string")wn(this,a)&&(f=f.concat(this.g.get(ln(this,a))));else{a=Array.from(this.g.values());for(let _=0;_<a.length;_++)f=f.concat(a[_])}return f},r.set=function(a,f){return yt(this),this.i=null,a=ln(this,a),wn(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},r.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function zr(a,f,_){vn(a,f),0<_.length&&(a.i=null,a.g.set(ln(a,f),M(_)),a.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var _=0;_<f.length;_++){var w=f[_];const V=encodeURIComponent(String(w)),Z=this.V(w);for(w=0;w<Z.length;w++){var F=V;Z[w]!==""&&(F+="="+encodeURIComponent(String(Z[w]))),a.push(F)}}return this.i=a.join("&")};function ln(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Fn(a,f){f&&!a.j&&(yt(a),a.i=null,a.g.forEach(function(_,w){var F=w.toLowerCase();w!=F&&(vn(this,w),zr(this,F,_))},a)),a.j=f}function Sc(a,f){const _=new Ei;if(m.Image){const w=new Image;w.onload=z(bt,_,"TestLoadImage: loaded",!0,f,w),w.onerror=z(bt,_,"TestLoadImage: error",!1,f,w),w.onabort=z(bt,_,"TestLoadImage: abort",!1,f,w),w.ontimeout=z(bt,_,"TestLoadImage: timeout",!1,f,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else f(!1)}function pa(a,f){const _=new Ei,w=new AbortController,F=setTimeout(()=>{w.abort(),bt(_,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:w.signal}).then(V=>{clearTimeout(F),V.ok?bt(_,"TestPingServer: ok",!0,f):bt(_,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),bt(_,"TestPingServer: error",!1,f)})}function bt(a,f,_,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(_)}catch{}}function Cc(){this.g=new Ro}function ma(a,f,_){const w=_||"";try{Mr(a,function(F,V){let Z=F;y(F)&&(Z=To(F)),f.push(w+V+"="+encodeURIComponent(Z))})}catch(F){throw f.push(w+"type="+encodeURIComponent("_badmap")),F}}function sr(a){this.l=a.Ub||null,this.j=a.eb||!1}x(sr,wi),sr.prototype.g=function(){return new Ni(this.l,this.j)},sr.prototype.i=function(a){return function(){return a}}({});function Ni(a,f){rt.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Ni,rt),r=Ni.prototype,r.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Sn(this)},r.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,En(this)),this.readyState=0},r.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Sn(this)),this.g&&(this.readyState=3,Sn(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ga(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ga(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}r.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?En(this):Sn(this),this.readyState==3&&ga(this)}},r.Ra=function(a){this.g&&(this.response=this.responseText=a,En(this))},r.Qa=function(a){this.g&&(this.response=a,En(this))},r.ga=function(){this.g&&En(this)};function En(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Sn(a)}r.setRequestHeader=function(a,f){this.u.append(a,f)},r.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var _=f.next();!_.done;)_=_.value,a.push(_[0]+": "+_[1]),_=f.next();return a.join(`\r
`)};function Sn(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function or(a){let f="";return Se(a,function(_,w){f+=w,f+=":",f+=_,f+=`\r
`}),f}function Hr(a,f,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=or(_),typeof a=="string"?_!=null&&encodeURIComponent(String(_)):Fe(a,f,_))}function Ke(a){rt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ke,rt);var Ic=/^https?$/i,jo=["POST","PUT"];r=Ke.prototype,r.Ha=function(a){this.J=a},r.ea=function(a,f,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?cs(this.o):cs(_n),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(V){Pi(this,V);return}if(a=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)_.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const V of w.keys())_.set(V,w.get(V));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(V=>V.toLowerCase()=="content-type"),F=m.FormData&&a instanceof m.FormData,!(0<=Array.prototype.indexOf.call(jo,f,void 0))||w||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Z]of _)this.g.setRequestHeader(V,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(a),this.u=!1}catch(V){Pi(this,V)}};function Pi(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,ws(a),Zt(a)}function ws(a){a.A||(a.A=!0,it(a,"complete"),it(a,"error"))}r.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,it(this,"complete"),it(this,"abort"),Zt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?zo(this):this.bb())},r.bb=function(){zo(this)};function zo(a){if(a.h&&typeof h<"u"&&(!a.v[1]||Ft(a)!=4||a.Z()!=2)){if(a.u&&Ft(a)==4)So(a.Ea,0,a);else if(it(a,"readystatechange"),Ft(a)==4){a.h=!1;try{const Z=a.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var _;if(!(_=f)){var w;if(w=Z===0){var F=String(a.D).match(ki)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),w=!Ic.test(F?F.toLowerCase():"")}_=w}if(_)it(a,"complete"),it(a,"success");else{a.m=6;try{var V=2<Ft(a)?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.Z()+"]",ws(a)}}finally{Zt(a)}}}}function Zt(a,f){if(a.g){Es(a);const _=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||it(a,"ready");try{_.onreadystatechange=w}catch{}}}function Es(a){a.I&&(m.clearTimeout(a.I),a.I=null)}r.isActive=function(){return!!this.g};function Ft(a){return a.g?a.g.readyState:0}r.Z=function(){try{return 2<Ft(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),ko(f)}};function Ho(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(a){const f={};a=(a.g&&2<=Ft(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(Q(a[w]))continue;var _=D(a[w]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const V=f[F]||[];f[F]=V,V.push(_)}O(f,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Un(a,f,_){return _&&_.internalChannelParams&&_.internalChannelParams[a]||f}function Bo(a){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Un("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Un("baseRetryDelayMs",5e3,a),this.cb=Un("retryDelaySeedMs",1e4,a),this.Wa=Un("forwardChannelMaxRetries",2,a),this.wa=Un("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(a&&a.concurrentRequestLimit),this.Da=new Cc,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Bo.prototype,r.la=8,r.G=1,r.connect=function(a,f,_,w){et(0),this.W=a,this.H=f||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=wa(this,null,this.W),jn(this)};function vt(a){if(Cs(a),a.G==3){var f=a.U++,_=Jt(a.I);if(Fe(_,"SID",a.K),Fe(_,"RID",f),Fe(_,"TYPE","terminate"),lr(a,_),f=new yn(a,a.j,f),f.L=2,f.v=Ur(Jt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=f.v,_=!0),_||(f.g=Ea(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}va(a)}function Cn(a){a.g&&(Vo(a),a.g.cancel(),a.g=null)}function Cs(a){Cn(a),a.u&&(m.clearTimeout(a.u),a.u=null),ks(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&m.clearTimeout(a.s),a.s=null)}function jn(a){if(!Xt(a.h)&&!a.s){a.s=!0;var f=a.Ga;be||re(),ee||(be(),ee=!0),ce.add(f,a),a.B=0}}function Tc(a,f){return la(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=mn(S(a.Ga,a,f),ya(a,a.B)),a.B++,!0)}r.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const F=new yn(this,this.j,a);let V=this.o;if(this.S&&(V?(V=I(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(F.H=V,V=null),this.P)e:{for(var f=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=_;break e}if(f===4096||_===this.i.length-1){f=_+1;break e}}f=1e3}else f=1e3;f=Br(this,F,f),_=Jt(this.I),Fe(_,"RID",a),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),lr(this,_),V&&(this.O?f="headers="+encodeURIComponent(String(or(V)))+"&"+f:this.m&&Hr(_,this.m,V)),Fo(this.h,F),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",f),Fe(_,"SID","null"),F.T=!0,gs(F,_,null)):gs(F,_,f),this.G=2}}else this.G==3&&(a?Is(this,a):this.i.length==0||Xt(this.h)||Is(this))};function Is(a,f){var _;f?_=f.l:_=a.U++;const w=Jt(a.I);Fe(w,"SID",a.K),Fe(w,"RID",_),Fe(w,"AID",a.T),lr(a,w),a.m&&a.o&&Hr(w,a.m,a.o),_=new yn(a,a.j,_,a.B+1),a.m===null&&(_.H=a.o),f&&(a.i=f.D.concat(a.i)),f=Br(a,_,1e3),_.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Fo(a.h,_),gs(_,w,f)}function lr(a,f){a.H&&Se(a.H,function(_,w){Fe(f,w,_)}),a.l&&Mr({},function(_,w){Fe(f,w,_)})}function Br(a,f,_){_=Math.min(a.i.length,_);var w=a.l?S(a.l.Na,a.l,a):null;e:{var F=a.i;let V=-1;for(;;){const Z=["count="+_];V==-1?0<_?(V=F[0].g,Z.push("ofs="+V)):V=0:Z.push("ofs="+V);let Me=!0;for(let st=0;st<_;st++){let Re=F[st].g;const ct=F[st].map;if(Re-=V,0>Re)V=Math.max(0,F[st].g-100),Me=!1;else try{ma(ct,Z,"req"+Re+"_")}catch{w&&w(ct)}}if(Me){w=Z.join("&");break e}}}return a=a.i.splice(0,_),f.D=a,w}function xi(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;be||re(),ee||(be(),ee=!0),ce.add(f,a),a.v=0}}function Ts(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=mn(S(a.Fa,a),ya(a,a.v)),a.v++,!0)}r.Fa=function(){if(this.u=null,_a(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=mn(S(this.ab,this),a)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Cn(this),_a(this))};function Vo(a){a.A!=null&&(m.clearTimeout(a.A),a.A=null)}function _a(a){a.g=new yn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=Jt(a.qa);Fe(f,"RID","rpc"),Fe(f,"SID",a.K),Fe(f,"AID",a.T),Fe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Fe(f,"TO",a.ja),Fe(f,"TYPE","xmlhttp"),lr(a,f),a.m&&a.o&&Hr(f,a.m,a.o),a.L&&(a.g.I=a.L);var _=a.g;a=a.ia,_.L=1,_.v=Ur(Jt(f)),_.m=null,_.P=!0,Mo(_,a)}r.Za=function(){this.C!=null&&(this.C=null,Cn(this),Ts(this),et(19))};function ks(a){a.C!=null&&(m.clearTimeout(a.C),a.C=null)}function Rs(a,f){var _=null;if(a.g==f){ks(a),Vo(a),a.g=null;var w=2}else if(At(a.h,f))_=f.D,aa(a.h,f),w=1;else return;if(a.G!=0){if(f.o)if(w==1){_=f.m?f.m.length:0,f=Date.now()-f.F;var F=a.B;w=ds(),it(w,new fs(w,_)),jn(a)}else xi(a);else if(F=f.s,F==3||F==0&&0<f.X||!(w==1&&Tc(a,f)||w==2&&Ts(a)))switch(_&&0<_.length&&(f=a.h,f.i=f.i.concat(_)),F){case 1:ar(a,5);break;case 4:ar(a,10);break;case 3:ar(a,6);break;default:ar(a,2)}}}function ya(a,f){let _=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(_*=2),_*f}function ar(a,f){if(a.j.info("Error code "+f),f==2){var _=S(a.fb,a),w=a.Xa;const F=!w;w=new ir(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ri(w,"https"),Ur(w),F?Sc(w.toString(),_):pa(w.toString(),_)}else et(2);a.G=0,a.l&&a.l.sa(f),va(a),Cs(a)}r.fb=function(a){a?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function va(a){if(a.G=0,a.ka=[],a.l){const f=ua(a.h);(f.length!=0||a.i.length!=0)&&(B(a.ka,f),B(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function wa(a,f,_){var w=_ instanceof ir?Jt(_):new ir(_);if(w.g!="")f&&(w.g=f+"."+w.g),br(w,w.s);else{var F=m.location;w=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;var V=new ir(null);w&&Ri(V,w),f&&(V.g=f),F&&br(V,F),_&&(V.l=_),w=V}return _=a.D,f=a.ya,_&&f&&Fe(w,_,f),Fe(w,"VER",a.la),lr(a,w),w}function Ea(a,f,_){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new Ke(new sr({eb:_})):new Ke(a.pa),f.Ha(a.J),f}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wo(){}r=Wo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ut(a,f){rt.call(this),this.g=new Bo(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!Q(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Q(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Vr(this)}x(Ut,rt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){vt(this.g)},Ut.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var _={};_.__data__=a,a=_}else this.u&&(_={},_.__data__=To(a),a=_);f.i.push(new oa(f.Ya++,a)),f.G==3&&jn(f)},Ut.prototype.N=function(){this.g.l=null,delete this.j,vt(this.g),delete this.g,Ut.aa.N.call(this)};function Sa(a){Mn.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const _ in f){a=_;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}x(Sa,Mn);function Ca(){hs.call(this),this.status=1}x(Ca,hs);function Vr(a){this.g=a}x(Vr,Wo),Vr.prototype.ua=function(){it(this.g,"a")},Vr.prototype.ta=function(a){it(this.g,new Sa(a))},Vr.prototype.sa=function(a){it(this.g,new Ca)},Vr.prototype.ra=function(){it(this.g,"b")},Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,vc.COMPLETE="complete",No.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha}).apply(typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{});const a_="@firebase/firestore",u_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new sc("@firebase/firestore");function On(r,...e){if(lo.logLevel<=De.DEBUG){const n=e.map(Of);lo.debug(`Firestore (${Jl}): ${r}`,...n)}}function Mv(r,...e){if(lo.logLevel<=De.ERROR){const n=e.map(Of);lo.error(`Firestore (${Jl}): ${r}`,...n)}}function W1(r,...e){if(lo.logLevel<=De.WARN){const n=e.map(Of);lo.warn(`Firestore (${Jl}): ${r}`,...n)}}function Of(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(r="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+r;throw Mv(e),new Error(e)}function Nl(r,e){r||Df()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gt extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class G1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K1{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Nl(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pl,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{On("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(On("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pl)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(On("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Nl(typeof s.accessToken=="string"),new bv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Nl(e===null||typeof e=="string"),new Lt(e)}}class q1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new q1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Nl(this.o===void 0);const s=u=>{u.error!=null&&On("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,On("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{On("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):On("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new c_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Nl(typeof n.token=="string"),this.R=n.token,new c_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function X1(r){return r.name==="IndexedDbTransactionError"}const Ld="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||Ld}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Ld}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h_,Ne;(Ne=h_||(h_={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Lv([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1048576;function cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&On("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Lf(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Gt($t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var d_,f_;(f_=d_||(d_={}))._a="default",f_.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;function nk(r,e,n,s){if(e===!0&&s===!0)throw new Gt($t.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function rk(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Df()}function ik(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Gt($t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rk(r);throw new Gt($t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="firestore.googleapis.com",m_=!0;class g_{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Gt($t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fv,this.ssl=m_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:m_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z1)throw new Gt($t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tk((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Gt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Gt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Gt($t.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uv{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Gt($t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Gt($t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $1;switch(s.type){case"firstParty":return new Y1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Gt($t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=p_.get(n);s&&(On("ComponentProvider","Removing Datastore"),p_.delete(n),s.terminate())}(this),Promise.resolve()}}function sk(r,e,n,s={}){var o;const u=(r=ik(r,Uv))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Fv&&u.host!==m&&W1("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!di(g,h)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Lt.MOCK_USER;else{y=uy(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Gt($t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Lt(C)}r._authCredentials=new G1(new bv(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class y_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ek(this,"async_queue_retry"),this.bu=()=>{const s=cd();s&&On(__,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=cd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=cd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Pl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!X1(e))throw e;On(__,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Mv("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Lf.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Df()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ok extends Uv{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function lk(r,e){const n=typeof r=="object"?r:Qd(),s=typeof r=="string"?r:Ld,o=oc(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oy("firestore");u&&sk(o,...u)}return o}(function(e,n=!0){(function(o){Jl=o})(rs),Qi(new fi("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ok(new K1(s.getProvider("auth-internal")),new Q1(h,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Gt($t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(y.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kn(a_,u_,e),Kn(a_,u_,"esm2017")})();function Mf(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ak=jv,zv=new Gl("auth","Firebase",jv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new sc("@firebase/auth");function uk(r,...e){qu.logLevel<=De.WARN&&qu.warn(`Auth (${rs}): ${r}`,...e)}function Tu(r,...e){qu.logLevel<=De.ERROR&&qu.error(`Auth (${rs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw Ff(r,...e)}function Ln(r,...e){return Ff(r,...e)}function bf(r,e,n){const s=Object.assign(Object.assign({},ak()),{[e]:n});return new Gl("auth","Firebase",s).create(e,{appName:r.name})}function Yi(r){return bf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ck(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qn(r,"argument-error"),bf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ff(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return zv.create(r,...e)}function ge(r,e,...n){if(!r)throw Ff(e,...n)}function wr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Tu(e),new Error(e)}function Nr(r,e){r||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function hk(){return v_()==="http:"||v_()==="https:"}function v_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hk()||hS()||"connection"in navigator)?navigator.onLine:!0}function fk(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Kd()||cy()}get(){return dk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r,e){Nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Zl(3e4,6e4);function jf(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _o(r,e,n,s,o={}){return Bv(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=fo(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return cS()||(y.referrerPolicy="no-referrer"),Hv.fetch()(Vv(r,r.config.apiHost,n,m),y)})}async function Bv(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},pk),e);try{const o=new _k(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Eu(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Eu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Eu(r,"user-disabled",h);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bf(r,E,y);Qn(r,E)}}catch(o){if(o instanceof xr)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function gk(r,e,n,s,o={}){const u=await _o(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function Vv(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Uf(r.config,o):`${r.config.apiScheme}://${o}`}class _k{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),mk.get())})}}function Eu(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ln(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(r,e){return _o(r,"POST","/v1/accounts:delete",e)}async function Wv(r,e){return _o(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vk(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=zf(s);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:xl(hd(o.auth_time)),issuedAtTime:xl(hd(o.iat)),expirationTime:xl(hd(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function hd(r){return Number(r)*1e3}function zf(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Au(n);return o?JSON.parse(o):(Tu("Failed to decode base64 JWT payload"),null)}catch(o){return Tu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function w_(r){const e=zf(r);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof xr&&wk(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Bl(r,Wv(n,{idToken:s}));ge(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$v(u.providerUserInfo):[],m=Ck(r.providerData,h),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,C={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new bd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,C)}async function Sk(r){const e=rn(r);await Yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ck(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $v(r){return r.map(e=>{var{providerId:n}=e,s=Mf(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(r,e){const n=await Bv(r,{},async()=>{const s=fo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=Vv(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Hv.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tk(r,e){return _o(r,"POST","/v2/accounts:revokeToken",jf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=w_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Ik(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new eo;return s&&(ge(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ge(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ge(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,e){ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Mf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new bd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vk(this,e)}reload(){return Sk(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Yu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Bl(this,yk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,g,y,E;const C=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,z=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=n.photoURL)!==null&&h!==void 0?h:void 0,M=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,G=(y=n.createdAt)!==null&&y!==void 0?y:void 0,Q=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ie,emailVerified:fe,isAnonymous:Te,providerData:Se,stsTokenManager:O}=n;ge(ie&&O,e,"internal-error");const I=eo.fromJSON(this.name,O);ge(typeof ie=="string",e,"internal-error"),ii(C,e.name),ii(S,e.name),ge(typeof fe=="boolean",e,"internal-error"),ge(typeof Te=="boolean",e,"internal-error"),ii(z,e.name),ii(x,e.name),ii(M,e.name),ii(B,e.name),ii(G,e.name),ii(Q,e.name);const k=new Er({uid:ie,auth:e,email:S,emailVerified:fe,displayName:C,isAnonymous:Te,photoURL:x,phoneNumber:z,tenantId:M,stsTokenManager:I,createdAt:G,lastLoginAt:Q});return Se&&Array.isArray(Se)&&(k.providerData=Se.map(P=>Object.assign({},P))),B&&(k._redirectEventId=B),k}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yu(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$v(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new eo;m.updateFromIdToken(s);const g=new Er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function Sr(r){Nr(r instanceof Function,"Expected a class definition");let e=E_.get(r);return e?(Nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,E_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Gv.type="NONE";const S_=Gv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(r,e,n){return`firebase:${r}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ku(this.userKey,o.apiKey,u),this.fullPersistenceKey=ku("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(Sr(S_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Sr(S_);const h=ku(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(h);if(E){const C=Er._fromJSON(e,E);y!==u&&(m=C),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new to(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new to(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jv(e))return"Blackberry";if(Zv(e))return"Webos";if(qv(e))return"Safari";if((e.includes("chrome/")||Yv(e))&&!e.includes("edge/"))return"Chrome";if(Xv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Kv(r=Mt()){return/firefox\//i.test(r)}function qv(r=Mt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yv(r=Mt()){return/crios\//i.test(r)}function Qv(r=Mt()){return/iemobile/i.test(r)}function Xv(r=Mt()){return/android/i.test(r)}function Jv(r=Mt()){return/blackberry/i.test(r)}function Zv(r=Mt()){return/webos/i.test(r)}function Hf(r=Mt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kk(r=Mt()){var e;return Hf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Rk(){return dS()&&document.documentMode===10}function ew(r=Mt()){return Hf(r)||Xv(r)||Zv(r)||Jv(r)||/windows phone/i.test(r)||Qv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(r,e=[]){let n;switch(r){case"Browser":n=C_(Mt());break;case"Worker":n=`${C_(Mt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(r,e={}){return _o(r,"GET","/v2/passwordPolicy",jf(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=6;class Ak{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:xk,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I_(this),this.idTokenSubscription=new I_(this),this.beforeStateQueue=new Nk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wv(this,{idToken:e}),s=await Er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Yi(this));const n=e?rn(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pk(this),n=new Ak(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Tk(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Sr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mc(r){return rn(r)}class I_{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Dk(r){Bf=r}function Lk(r){return Bf.loadJS(r)}function Mk(){return Bf.gapiScript}function bk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(r,e){const n=oc(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(di(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function Uk(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Sr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function jk(r,e,n){const s=mc(r);ge(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=nw(e),{host:h,port:m}=zk(e),g=m===null?"":`:${m}`,y={url:`${u}//${h}${g}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ge(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ge(di(y,s.config.emulator)&&di(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Hk()}function nw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function zk(r){const e=nw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:T_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:T_(h)}}}function T_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Hk(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,e){return gk(r,"POST","/v1/accounts:signInWithIdp",jf(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="http://localhost";class ts extends rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Mf(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ts(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:Bk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends ea{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.FACEBOOK_SIGN_IN_METHOD="facebook.com";si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends ea{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ts._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return $n.credential(n,s)}catch{return null}}}$n.GOOGLE_SIGN_IN_METHOD="google.com";$n.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends ea{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends ea{constructor(){super("twitter.com")}static credential(e,n){return ts._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return li.credential(n,s)}catch{return null}}}li.TWITTER_SIGN_IN_METHOD="twitter.com";li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Er._fromIdTokenResponse(e,s,o),h=k_(s);return new ao({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=k_(s);return new ao({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function k_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends xr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Qu.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Qu(e,n,s,o)}}function iw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qu._fromErrorAndOperation(r,u,e,s):u})}async function Vk(r,e,n=!1){const s=await Bl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ao._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(r,e,n=!1){const{auth:s}=r;if(pn(s.app))return Promise.reject(Yi(s));const o="reauthenticate";try{const u=await Bl(r,iw(s,o,e,r),n);ge(u.idToken,s,"internal-error");const h=zf(u.idToken);ge(h,s,"internal-error");const{sub:m}=h;return ge(r.uid===m,s,"user-mismatch"),ao._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(r,e,n=!1){if(pn(r.app))return Promise.reject(Yi(r));const s="signIn",o=await iw(r,s,e),u=await ao._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function Gk(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function Kk(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function qk(r,e,n,s){return rn(r).onAuthStateChanged(e,n,s)}const Xu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xu,"1"),this.storage.removeItem(Xu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=1e3,Qk=10;class ow extends sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ew(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Rk()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Qk):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ow.type="LOCAL";const Xk=ow;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lw.type="SESSION";const aw=lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async y=>y(n.origin,u)),g=await Jk(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const y=Wf("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(C){const S=C;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function eR(r){qn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function tR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function rR(){return uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firebaseLocalStorageDb",iR=1,Ju="firebaseLocalStorage",hw="fbase_key";class ta{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _c(r,e){return r.transaction([Ju],e?"readwrite":"readonly").objectStore(Ju)}function sR(){const r=indexedDB.deleteDatabase(cw);return new ta(r).toPromise()}function Fd(){const r=indexedDB.open(cw,iR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ju,{keyPath:hw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ju)?e(s):(s.close(),await sR(),e(await Fd()))})})}async function R_(r,e,n){const s=_c(r,!0).put({[hw]:e,value:n});return new ta(s).toPromise()}async function oR(r,e){const n=_c(r,!1).get(e),s=await new ta(n).toPromise();return s===void 0?null:s.value}function N_(r,e){const n=_c(r,!0).delete(e);return new ta(n).toPromise()}const lR=800,aR=3;class dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>aR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gc._getInstance(rR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tR(),!this.activeServiceWorker)return;this.sender=new Zk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fd();return await R_(e,Xu,"1"),await N_(e,Xu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>R_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>oR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=_c(o,!1).getAll();return new ta(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dw.type="LOCAL";const uR=dw;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(r,e){return e?Sr(e):(ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cR(r){return $k(r.auth,new $f(r),r.bypassAuthState)}function hR(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),Wk(n,new $f(r),r.bypassAuthState)}async function dR(r){const{auth:e,user:n}=r;return ge(n,e,"internal-error"),Vk(n,new $f(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cR;case"linkViaPopup":case"linkViaRedirect":return dR;case"reauthViaPopup":case"reauthViaRedirect":return hR;default:Qn(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Zl(2e3,1e4);async function pR(r,e,n){if(pn(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const s=mc(r);ck(r,e,Vf);const o=fw(s,n);return new Ki(s,"signInViaPopup",e,o).executeNotNull()}class Ki extends pw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=Wf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fR.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="pendingRedirect",Ru=new Map;class gR extends pw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ru.get(this.auth._key());if(!e){try{const s=await _R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _R(r,e){const n=wR(e),s=vR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function yR(r,e){Ru.set(r._key(),e)}function vR(r){return Sr(r._redirectPersistence)}function wR(r){return ku(mR,r.config.apiKey,r.name)}async function ER(r,e,n=!1){if(pn(r.app))return Promise.reject(Yi(r));const s=mc(r),o=fw(s,e),h=await new gR(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=10*60*1e3;class CR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!mw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SR&&this.cachedEventUids.clear(),this.cachedEventUids.has(P_(e))}saveEventToCache(e){this.cachedEventUids.add(P_(e)),this.lastProcessedEventTime=Date.now()}}function P_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function mw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(r,e={}){return _o(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RR=/^https?/;async function NR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TR(r);for(const n of e)try{if(PR(n))return}catch{}Qn(r,"unauthorized-domain")}function PR(r){const e=Md(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!RR.test(n))return!1;if(kR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new Zl(3e4,6e4);function x_(){const r=qn().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function AR(r){return new Promise((e,n)=>{var s,o,u;function h(){x_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x_(),n(Ln(r,"network-request-failed"))},timeout:xR.get()})}if(!((o=(s=qn().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=qn().gapi)===null||u===void 0)&&u.load)h();else{const m=bk("iframefcb");return qn()[m]=()=>{gapi.load?h():n(Ln(r,"network-request-failed"))},Lk(`${Mk()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Nu=null,e})}let Nu=null;function OR(r){return Nu=Nu||AR(r),Nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Zl(5e3,15e3),LR="__/auth/iframe",MR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UR(r){const e=r.config;ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Uf(e,MR):`https://${r.config.authDomain}/${LR}`,s={apiKey:e.apiKey,appName:r.name,v:rs},o=FR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fo(s).slice(1)}`}async function jR(r){const e=await OR(r),n=qn().gapi;return ge(n,r,"internal-error"),e.open({where:document.body,url:UR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ln(r,"network-request-failed"),m=qn().setTimeout(()=>{u(h)},DR.get());function g(){qn().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HR=500,BR=600,VR="_blank",WR="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $R(r,e,n,s=HR,o=BR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},zR),{width:s.toString(),height:o.toString(),top:u,left:h}),y=Mt().toLowerCase();n&&(m=Yv(y)?VR:n),Kv(y)&&(e=e||WR,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[z,x])=>`${S}${z}=${x},`,"");if(kk(y)&&m!=="_self")return GR(e||"",m),new A_(null);const C=window.open(e||"",m,E);ge(C,r,"popup-blocked");try{C.focus()}catch{}return new A_(C)}function GR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="__/auth/handler",qR="emulator/auth/handler",YR=encodeURIComponent("fac");async function O_(r,e,n,s,o,u){ge(r.config.authDomain,r,"auth-domain-config-required"),ge(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:rs,eventId:o};if(e instanceof Vf){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",md(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,C]of Object.entries({}))h[E]=C}if(e instanceof ea){const E=e.getScopes().filter(C=>C!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${YR}=${encodeURIComponent(g)}`:"";return`${QR(r)}?${fo(m).slice(1)}${y}`}function QR({config:r}){return r.emulator?Uf(r,qR):`https://${r.authDomain}/${KR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="webStorageSupport";class XR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aw,this._completeRedirectFn=ER,this._overrideRedirectResult=yR}async _openPopup(e,n,s,o){var u;Nr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await O_(e,n,s,Md(),o);return $R(e,h,Wf())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await O_(e,n,s,Md(),o);return eR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Nr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await jR(e),s=new CR(e);return n.register("authEvent",o=>(ge(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dd,{type:dd},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[dd];h!==void 0&&n(!!h),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ew()||qv()||Hf()}}const JR=XR;var D_="@firebase/auth",L_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tN(r){Qi(new fi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ge(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tw(r)},y=new Ok(s,o,u,g);return Uk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qi(new fi("auth-internal",e=>{const n=mc(e.getProvider("auth").getImmediate());return(s=>new ZR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(D_,L_,eN(r)),Kn(D_,L_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=5*60,rN=ay("authIdTokenMaxAge")||nN;let M_=null;const iN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rN)return;const o=n==null?void 0:n.token;M_!==o&&(M_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gw(r=Qd()){const e=oc(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Fk(r,{popupRedirectResolver:JR,persistence:[uR,Xk,aw]}),s=ay("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=iN(u.toString());Kk(n,h,()=>h(n.currentUser)),Gk(n,m=>h(m))}}const o=sy("auth");return o&&jk(n,`http://${o}`),n}function sN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Dk({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ln("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",sN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tN("Browser");const oN={apiKey:"AIzaSyAfG-draAN10d8o-p2fB89Gkux191R57xQ",authDomain:"davron-b9001.firebaseapp.com",projectId:"davron-b9001",storageBucket:"davron-b9001.firebasestorage.app",messagingSenderId:"250452134364",appId:"1:250452134364:web:406e04466921a6badda719",databaseUrl:"https://davron-b9001-default-rtdb.firebaseio.com/"},Gf=py(oN);lk(Gf);const lN=gw(Gf),yr=j1(Gf);function aN(){W.useEffect(()=>{C()},[]);const[r,e]=W.useState(""),[n,s]=W.useState(""),[o,u]=W.useState(""),[h,m]=W.useState(""),[g,y]=W.useState([]),E=()=>{const x=_r(yr,"users");if(h===""){const M=Ov(x);Hl(M,{name:n,email:r,age:o})}else{const M=_r(yr,`users/${h}`);Hl(M,{name:n,email:r,age:o}),m("")}},C=()=>{const x=_r(yr,"users");Od(x,M=>{const B=[];M.forEach(G=>{B.push({id:G.key,...G.val()})}),y(B)})},S=x=>{const M=_r(yr,`users/${x}`);Dv(M)},z=x=>{m(x.id),u(x.age+""),e(x.email),s(x.name)};return te.jsxs("div",{children:[te.jsxs("div",{className:"card max-w-[400px] mx-auto mt-5",children:[te.jsx("div",{className:"card-header bg-dark text-white text-center  ",children:"Register"}),te.jsxs("div",{className:"card-body space-y-3",children:[te.jsx("input",{value:n,onChange:x=>s(x.target.value),type:"email",placeholder:"Name...",className:"form-control"}),te.jsx("input",{value:o,onChange:x=>u(x.target.value),type:"email",placeholder:"Age...",className:"form-control"}),te.jsx("input",{value:r,onChange:x=>e(x.target.value),type:"email",placeholder:"Email...",className:"form-control"})]}),te.jsxs("div",{className:"card-footer",children:[" ",te.jsx("button",{onClick:E,className:"btn btn-dark w-full",children:"Save"}),te.jsx("div",{className:"mt-2 mx-auto  flex items-center justify-center"})]})]}),te.jsx("div",{className:"mt-4",children:te.jsxs("table",{className:"table",children:[te.jsx("thead",{className:"table-dark",children:te.jsxs("tr",{children:[te.jsx("th",{children:"Id"}),te.jsx("th",{children:"Name"}),te.jsx("th",{children:"Age"}),te.jsx("th",{children:"Email"}),te.jsx("th",{children:"Actions"})]})}),te.jsx("tbody",{children:g.map(x=>te.jsxs("tr",{children:[te.jsx("td",{children:x.id}),te.jsx("td",{children:x.name}),te.jsx("td",{children:x.age}),te.jsx("td",{children:x.email}),te.jsxs("td",{children:[te.jsx("button",{onClick:()=>S(x.id),className:"btn btn-close"}),te.jsx("button",{onClick:()=>z(x),className:"btn btn-warning ml-2",children:"edit"})]})]}))})]})})]})}var _w={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b_=qi.createContext&&qi.createContext(_w),uN=["attr","size","title"];function cN(r,e){if(r==null)return{};var n=hN(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function hN(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Zu(){return Zu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Zu.apply(this,arguments)}function F_(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function ec(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F_(Object(n),!0).forEach(function(s){dN(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function dN(r,e,n){return e=fN(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function fN(r){var e=pN(r,"string");return typeof e=="symbol"?e:e+""}function pN(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yw(r){return r&&r.map((e,n)=>qi.createElement(e.tag,ec({key:n},e.attr),yw(e.child)))}function vw(r){return e=>qi.createElement(mN,Zu({attr:ec({},r.attr)},e),yw(r.child))}function mN(r){var e=n=>{var{attr:s,size:o,title:u}=r,h=cN(r,uN),m=o||n.size||"1em",g;return n.className&&(g=n.className),r.className&&(g=(g?g+" ":"")+r.className),qi.createElement("svg",Zu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:g,style:ec(ec({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&qi.createElement("title",null,u),r.children)};return b_!==void 0?qi.createElement(b_.Consumer,null,n=>e(n)):e(_w)}function gN(r){return vw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(r)}function U_(){const[r,e]=W.useState(),[n,s]=W.useState([]),[o,u]=W.useState(""),[h,m]=W.useState([]),g=zd();W.useEffect(()=>{z()},[]),W.useEffect(()=>{y()},[]),W.useEffect(()=>{S()},[]);const y=()=>{console.log("salom",r);try{qk(lN,M=>{M?(e(M),E(M)):g("/chatregister")})}catch(M){console.log(M)}},E=M=>{const B=_r(yr,`users/${M.uid}`);Hl(B,{email:M.email,displayName:M.displayName,photoURL:M.photoURL})},C=()=>{if(!o){alert("Message kiriting");return}const M=_r(yr,"messages"),B=Ov(M);Hl(B,{id:B.key,message:o,userId:r==null?void 0:r.uid,date:new Date().toISOString()}),u("")},S=()=>{const M=_r(yr,"messages");Od(M,B=>{const G=[];B.forEach(Q=>{const ie=Q.val();console.log(Q.val()),G.push({id:ie.id,message:ie.message,userId:ie.userId,date:new Date(ie.date)})}),m(G),console.log(G)})};console.log(h);const z=()=>{const M=_r(yr,"users");Od(M,B=>{const G=[];B.forEach(Q=>{G.push({uid:Q.key,...Q.val()})}),s(G)})},x=M=>{const B=_r(yr,`messages/${M}`);Dv(B)};return te.jsx("div",{children:te.jsxs("div",{className:"flex h-screen overflow-hidden",children:[te.jsxs("div",{className:"w-1/4 bg-white border-r border-gray-300",children:[te.jsx("header",{className:"p-4 border-b border-gray-300 flex justify-between items-center bg-indigo-600 text-white",children:te.jsx("h1",{className:"text-2xl font-semibold",children:"Chat Web"})}),te.jsx("div",{className:"overflow-y-auto h-screen p-3 mb-9 pb-20",children:n.map(M=>te.jsxs("div",{className:"flex items-center mb-4 cursor-pointer hover:bg-gray-100 p-2 rounded-md",children:[te.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full mr-3",children:te.jsx("img",{src:M.photoURL,alt:"",className:"w-12 h-12 rounded-full"})}),te.jsxs("div",{className:"flex-1",children:[te.jsx("h2",{className:"text-lg font-semibold",children:M.displayName}),te.jsx("p",{className:"text-gray-600",children:M.email})]})]}))})]}),te.jsxs("div",{className:"flex-1  ",children:[te.jsx("header",{className:"bg-white p-4 text-gray-700",children:te.jsx("h1",{className:"text-2xl font-semibold"})}),te.jsx("div",{className:" h-[590px] overflow-y-auto  p-4 pb-36",children:h.map(M=>{const B=n.find(G=>G.uid===M.userId);return te.jsxs("div",{className:`flex  ${M.userId===(r==null?void 0:r.uid)?"justify-end":"justify-start"} mb-4 cursor-pointer  `,children:[" ",te.jsx(te.Fragment,{children:M.userId!==(r==null?void 0:r.uid)?te.jsx("img",{src:B.photoURL,alt:"",className:"w-8 h-8 rounded-full flex self-end mr-2  justify-end"}):""}),te.jsxs("div",{className:` max-w-96 group relative  ${M.userId===(r==null?void 0:r.uid)?"bg-indigo-500 rounded-br-none":"bg-green-500 rounded-bl-none"} text-white  px-4 py-3  rounded-xl`,children:[te.jsxs("div",{className:"flex justify-between h-[20px] ",children:[te.jsx("p",{className:"mb-0 text-sm opacity-80 flex justify-self-start",children:B.displayName}),te.jsx("p",{onClick:()=>x(M.id),className:`text-lg hidden absolute top-2 right-3 ${M.userId===(r==null?void 0:r.uid)?"group-hover:block":""}  text-white justify-end`,children:te.jsx(gN,{})})]}),te.jsx("p",{className:"font-bold mb-1",children:M.message}),te.jsx("p",{className:"  absolute -bottom-4 right-2 mt-2  opacity-75",children:new Date(M.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})})]}),te.jsx("div",{className:"w-9 h-9 rounded-full  flex self-end justify-center bottom-0 ml-2",children:M.userId===(r==null?void 0:r.uid)?te.jsx("img",{src:B==null?void 0:B.photoURL,alt:"",className:"w-8 h-8 rounded-full"}):""})]})})}),te.jsx("footer",{className:"bg-white border-t border-gray-300 p-4 absolute bottom-0 w-3/4",children:te.jsxs("div",{className:"flex items-center",children:[te.jsx("input",{value:o,onChange:M=>u(M.target.value),type:"text",placeholder:"Type a message...",className:"w-full p-2 rounded-md border border-gray-400 focus:outline-none focus:border-blue-500"}),te.jsx("button",{onClick:C,className:"bg-indigo-500 text-white px-4 py-2 rounded-md ml-2",children:"Send"})]})})]})]})})}function _N(r){return vw({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}function yN(){const r=zd(),e=new $n,n=()=>{const s=gw();pR(s,e).then(o=>{const u=$n.credentialFromResult(o);console.log(u),r("/chat")}).catch(o=>{console.log(o)})};return te.jsx("div",{className:"w-full min-h-screen flex items-center justify-center",children:te.jsxs("div",{onClick:n,className:"bg-green-400 text-white cursor-pointer w-[300px] rounded-md flex items-center justify-evenly p-2 ",children:[te.jsx(_N,{className:"size-8"}),"Google orqali ro'yxatdan o'ting"]})})}function vN(){return te.jsx("div",{children:te.jsxs(E0,{children:[te.jsx(Sl,{path:"/chat",element:te.jsx(U_,{})}),te.jsx(Sl,{path:"/home",element:te.jsx(aN,{})}),te.jsx(Sl,{path:"/chat",element:te.jsx(U_,{})}),te.jsx(Sl,{path:"/chatregister",element:te.jsx(yN,{})})]})})}AE.createRoot(document.getElementById("root")).render(te.jsx($0,{children:te.jsx(vN,{})}));
